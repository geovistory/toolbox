{"version":3,"file":"kleiolab-lib-redux.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/actions/account.actions.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/actions/loading-bar.actions.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/actions/notifications.actions.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/epics/account.epics.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/actions/active-project.action.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/reducer-configs/dat.config.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/_helpers/schema-actions-factory.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/actions/dat.actions.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/reducer-configs/dfh.config.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/actions/dfh.actions.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/reducer-configs/inf.config.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/_helpers/inf-action-factory.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/actions/inf.actions.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/reducer-configs/pro.config.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/actions/pro.actions.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/reducer-configs/sys.config.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/actions/sys.actions.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/reducer-configs/tab.config.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/actions/tab.actions.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/reducer-configs/war.config.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/actions/war.actions.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/services/schema.service.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/epics/active-project.epics.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/epics/loading-bar.epics.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/epics/notifications.epics.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/epics/action-resolver.epics.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/_helpers/flattener.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/_helpers/schema-epics-factory.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/epics/dat.epics.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/epics/dfh.epics.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/_helpers/inf-epic-factory.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/epics/inf.epics.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/epics/pro.epics.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/actions/schema.actions.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/epics/schema.epics.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/epics/sys.epics.ts","ng://@kleiolab/lib-redux/lib/redux-store/root/root-epics.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/reducers/account.reducers.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/reducers/loading-bar.reducer.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/reducers/active-project.reducer.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/models/entity-list.models.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/actions/entity-list.actions.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/reducers/entity-list.reducer.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/actions/source-list.actions.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/models/source-list.models.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/reducers/source-list.reducer.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/actions/projects.actions.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/reducers/projects.reducers.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/_helpers/subfieldIdToString.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/_helpers/reducer-factory.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/reducers/sys.reducer.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/reducers/dfh.reducer.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/reducers/inf.reducer.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/reducers/dat.reducer.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/reducers/pro.reducer.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/reducers/war.reducer.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/reducers/tab.reducer.ts","ng://@kleiolab/lib-redux/lib/redux-store/root/root-reducer.ts","ng://@kleiolab/lib-redux/lib/redux-store/module/redux-store.module.ts","ng://@kleiolab/lib-redux/lib/redux-store/root/models/model.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/models/account.model.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/models/active-project.models.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/models/active-project/entity-detail.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/models/active-project/project-settings-data.models.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/models/active-project/tab-layout.models.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/models/active-project/types.models.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/models/list.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/models/loading-bar.models.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/models/notifications.models.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-gui/models/projects.model.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/models/dat.models.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/models/dfh.models.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/models/inf.models.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/models/pro.models.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/models/sys.models.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/models/tab.models.ts","ng://@kleiolab/lib-redux/lib/redux-store/state-schema/models/war.models.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { PubAccount } from '@kleiolab/lib-sdk-lb4';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { AccountRole, IAccount } from '../models/account.model';\n\nexport interface AccountActionMeta {\n  accountId?: number;\n  accountRoles?: AccountRole[];\n  account?: PubAccount;\n};\nexport type AccountAction = FluxStandardAction<IAccount, AccountActionMeta>;\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AccountActions {\n  static LOGIN = 'Account::LOGIN';\n  static LOGIN_SUCCEEDED = 'Account::LOGIN_SUCCEEDED';\n  static LOGIN_FAILED = 'Account::LOGIN_FAILED';\n\n  static LOAD_ROLES = 'Account::LOAD_ROLES';\n  static LOAD_ROLES_SUCCEEDED = 'Account::LOAD_ROLES_SUCCEEDED';\n  static LOAD_ROLES_FAILED = 'Account::LOAD_ROLES_FAILED';\n\n  static ACCOUNT_UPDATED = 'Account::ACCOUNT_UPDATED';\n\n\n  login(): AccountAction {\n    return {\n      type: AccountActions.LOGIN,\n      payload: null,\n      meta: null\n    };\n  }\n\n  loginSucceeded(account: PubAccount): AccountAction {\n    return {\n      type: AccountActions.LOGIN_SUCCEEDED,\n      payload: null,\n      meta: { account }\n    };\n  }\n\n  loginFailed(error): AccountAction {\n    return {\n      type: AccountActions.LOGIN_FAILED,\n      payload: null,\n      meta: null,\n      error\n    };\n  }\n\n  accountUpdated(account: PubAccount): AccountAction {\n    return {\n      type: AccountActions.ACCOUNT_UPDATED,\n      payload: null,\n      meta: { account }\n    };\n  }\n\n  // Roles of the account, used to check permissions\n  loadRoles(accountId: number): AccountAction {\n    return {\n      type: AccountActions.LOAD_ROLES,\n      payload: null,\n      meta: { accountId }\n    };\n  }\n\n  loadRolesSucceeded(accountRoles: AccountRole[]): AccountAction {\n    return {\n      type: AccountActions.LOAD_ROLES_SUCCEEDED,\n      payload: null,\n      meta: { accountRoles }\n    };\n  }\n\n  loadRolesFailed(accountRoles: AccountRole[]): AccountAction {\n    return {\n      type: AccountActions.LOAD_ROLES_FAILED,\n      payload: null,\n      meta: null\n    };\n  }\n\n}\n","import { dispatch } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\n\n// Flux-standard-action gives us stronger typing of our actions.\ntype Payload = any;\ninterface MetaData { null };\nexport type LoadingBarAction = FluxStandardAction<Payload, undefined>;\n\n\n/**\n* This actions start, stop and complete the global loading bar\n* using a SlimLoadingBarService instantiated within the loading-bar\n* module.\n*\n* In order to show a loading bar in GUI, use the LoadingBarComponent\n* exported by this module.\n*/\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoadingBarActions {\n  static readonly START = 'LOADING_BAR_START';\n  static readonly STOP = 'LOADING_BAR_STOP';\n  static readonly COPMLETE = 'LOADING_BAR_COPMLETE';\n  @dispatch() startLoading = (): LoadingBarAction => ({\n    type: LoadingBarActions.START,\n    meta: null,\n    payload: null,\n  })\n\n  @dispatch() stopLoading = (): LoadingBarAction => ({\n    type: LoadingBarActions.STOP,\n    meta: null,\n    payload: null\n  })\n\n  @dispatch() completeLoading = (): LoadingBarAction => ({\n    type: LoadingBarActions.COPMLETE,\n    meta: null,\n    payload: null,\n  })\n\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { NotificationsI } from '../models/notifications.models';\n\ntype Payload = NotificationsI;\ninterface MetaData {\n  itemsArray?: any[]\n};\nexport type NotificationsAPIAction = FluxStandardAction<Payload, MetaData>;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NotificationsAPIActions {\n  static readonly ADD_TOAST = 'Notifications::ADD_TOAST';\n\n  addToast = (payload: Payload): NotificationsAPIAction => ({\n    type: NotificationsAPIActions.ADD_TOAST,\n    meta: null,\n    payload\n  });\n\n}\n","import { Injectable } from '@angular/core';\nimport { PubAccountApi } from '@kleiolab/lib-sdk-lb3';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { Action } from 'redux';\nimport { combineEpics, Epic, ofType } from 'redux-observable-es6-compat';\nimport { Observable } from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\nimport { AccountAction, AccountActions } from '../actions/account.actions';\nimport { LoadingBarActions } from '../actions/loading-bar.actions';\nimport { NotificationsAPIActions } from '../actions/notifications.actions';\nimport { AccountRole } from '../models/account.model';\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AccountEpics {\n  constructor(\n    private actions: AccountActions,\n    private loadingBarActions: LoadingBarActions,\n    private accountApi: PubAccountApi,\n    private notificationActions: NotificationsAPIActions,\n  ) { }\n\n  public createEpics(): Epic<FluxStandardAction<any>, FluxStandardAction<any>, void, any> {\n    return combineEpics(\n      this.loadRoles()\n    );\n  }\n\n  private loadRoles(): Epic {\n    return (action$, store) => action$.pipe(\n      ofType(AccountActions.LOAD_ROLES),\n      mergeMap((action: AccountAction) => new Observable<Action>((globalStore) => {\n\n        globalStore.next(this.loadingBarActions.startLoading());\n        this.accountApi.getRoles(action.meta.accountId)\n          .subscribe((data: AccountRole[]) => {\n            globalStore.next(this.loadingBarActions.completeLoading());\n            globalStore.next(this.actions.loadRolesSucceeded(data));\n          }, error => {\n            globalStore.next(this.notificationActions.addToast({\n              type: 'error',\n              options: { title: error }\n            }))\n          })\n      }))\n\n    )\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { DatChunk, InfPersistentItem, InfTemporalEntity, ProDfhClassProjRel, ProInfoProjRel } from '@kleiolab/lib-sdk-lb3';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { ListType, Panel, PanelTab, ProjectDetail, ProjectPreview, TypePeIt } from '../models/active-project.models';\n\nexport interface ActiveProjectMeta {\n\n  projectPreview?: ProjectPreview;\n\n  pk_project?: number;\n  pk_entity?: number;\n  pk_entities?: number[];\n  pk_classes?: number[]\n  pk_ui_context?: number;\n  entity_version?: number;\n\n\n  chunk?: DatChunk\n  teEnGraphs?: InfTemporalEntity[]\n  peItGraphs?: InfPersistentItem[]\n  types?: TypePeIt[]\n\n  // CRM and Config\n  projRel?: ProDfhClassProjRel;\n  dfh_pk_class?: number;\n  // hasTypeProperties?: HasTypePropertyReadable[]\n\n  // Information\n  infProjRel?: ProInfoProjRel;\n\n  // layout\n  panels?: Panel[];\n  list?: ListType;\n  panelIndex?: number;\n  panelSerial?: number;\n  tabIndex?: number;\n  uiIdSerial?: number;\n  focusedPanel?: number;\n  previousPanelIndex?: number\n  currentPanelIndex?: number\n  previousTabIndex?: number\n  currentTabIndex?: number\n  tab?: PanelTab<any>;\n\n  // Layout Modals\n  // createOrAddEntity?: CreateOrAddEntity; // Check if this really belongt in state\n};\ntype Payload = ProjectDetail;\nexport type ActiveProjectAction = FluxStandardAction<Payload, ActiveProjectMeta>;\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ActiveProjectActions {\n\n  /* tslint:disable:member-ordering */\n\n  /************************************************************************************\n   * CRM and Config (metadata, crm)\n  ************************************************************************************/\n  static LOAD_PROJECT_BASICS = 'ActiveProject::LOAD_PROJECT_BASICS';\n  static LOAD_PROJECT_BASICS_FAILED = 'ActiveProject::LOAD_PROJECT_BASICS_FAILED';\n  static LOAD_PROJECT_BASICS_SUCCEEDED = 'ActiveProject::LOAD_PROJECT_BASICS_SUCCEEDED';\n  static LOAD_PROJECT_CONFIG = 'ActiveProject::LOAD_PROJECT_CONFIG';\n  static LOAD_PROJECT_CONFIG_SUCCEEDED = 'ActiveProject::LOAD_PROJECT_CONFIG_SUCCEEDED';\n\n\n  loadProjectBasics(pk_project: number): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.LOAD_PROJECT_BASICS,\n      payload: null,\n      meta: {\n        pk_project\n      }\n    }\n  }\n\n  loadProjectBasiscsSucceded(projectPreview: ProjectPreview): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.LOAD_PROJECT_BASICS_SUCCEEDED,\n      payload: null,\n      meta: { projectPreview },\n    }\n  }\n\n  loadProjectConfig(pk_project: number): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.LOAD_PROJECT_CONFIG,\n      payload: null,\n      meta: {\n        pk_project\n      },\n    }\n  }\n\n  loadProjectConfigSucceeded(): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.LOAD_PROJECT_CONFIG_SUCCEEDED,\n      payload: {\n        // crm\n      },\n      meta: null,\n    }\n  }\n\n  /************************************************************************************\n   * Layout -- Tabs\n  ************************************************************************************/\n  static SET_LIST_TYPE = 'ActiveProject::SET_LIST_TYPE';\n\n  setListType(list: ListType): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.SET_LIST_TYPE,\n      payload: null,\n      meta: {\n        list\n      }\n    }\n  }\n\n  static SET_PANELS = 'ActiveProject::SET_PANELS';\n\n  setPanels(panels: Panel[], uiIdSerial: number, panelSerial: number, focusedPanel: number): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.SET_PANELS,\n      payload: null,\n      meta: { panels, uiIdSerial, panelSerial, focusedPanel }\n    }\n  }\n\n  static ACTIVATE_TAB = 'ActiveProject::ACTIVATE_TAB';\n\n  activateTab(panelIndex: number, tabIndex: number): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.ACTIVATE_TAB,\n      payload: null,\n      meta: {\n        panelIndex, tabIndex\n      }\n    }\n  }\n  static MOVE_TAB = 'ActiveProject::MOVE_TAB';\n  moveTab(previousPanelIndex: number, currentPanelIndex: number, previousTabIndex: number, currentTabIndex: number): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.MOVE_TAB,\n      payload: null,\n      meta: {\n        previousPanelIndex, currentPanelIndex, previousTabIndex, currentTabIndex\n      }\n    }\n  }\n\n  static CLOSE_TAB = 'ActiveProject::CLOSE_TAB';\n  closeTab(panelIndex: number, tabIndex: number): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.CLOSE_TAB,\n      payload: null,\n      meta: {\n        panelIndex, tabIndex\n      }\n    }\n  }\n\n  static ADD_TAB = 'ActiveProject::ADD_TAB';\n  addTab<TabData>(tab: PanelTab<TabData>): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.ADD_TAB,\n      payload: null,\n      meta: { tab }\n    }\n  }\n\n  static SPLIT_PANEL = 'ActiveProject::SPLIT_PANEL';\n  splitPanel(previousPanelIndex: number, tabIndex: number, currentPanelIndex: number): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.SPLIT_PANEL,\n      payload: null,\n      meta: { previousPanelIndex, tabIndex, currentPanelIndex }\n    }\n  }\n\n  static CLOSE_PANEL = 'ActiveProject::CLOSE_PANEL';\n  closePanel(panelIndex: number): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.CLOSE_PANEL,\n      payload: null,\n      meta: { panelIndex }\n    }\n  }\n\n\n  static FOCUS_PANEL = 'ActiveProject::FOCUS_PANEL';\n  focusPanel(panelIndex: number): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.FOCUS_PANEL,\n      payload: null,\n      meta: { panelIndex }\n    }\n  }\n\n\n  // /************************************************************************************\n  //  * Layout -- Modals\n  // ************************************************************************************/\n  // // create or add entity modal\n  // static readonly OPEN_ADD_FORM = 'ActiveProject::OPEN_ADD_FORM';\n  // static readonly CLOSE_ADD_FORM = 'ActiveProject::CLOSE_ADD_FORM';\n\n  // openAddForm = (createOrAddEntity: CreateOrAddEntity): ActiveProjectAction => ({\n  //   type: ActiveProjectActions.OPEN_ADD_FORM,\n  //   meta: { createOrAddEntity },\n  //   payload: null\n  // })\n\n  // closeAddForm = (): ActiveProjectAction => ({\n  //   type: ActiveProjectActions.CLOSE_ADD_FORM,\n  //   meta: null,\n  //   payload: null\n  // })\n\n\n  /************************************************************************************\n  * Information cache\n  ************************************************************************************/\n\n  // EntityPreviews\n  // static LOAD_ENTITY_PREVIEW = 'ActiveProject::LOAD_ENTITY_PREVIEW';\n  // static LOAD_ENTITY_PREVIEW_SUCCEEDED = 'ActiveProject::LOAD_ENTITY_PREVIEW_SUCCEEDED';\n  // static LOAD_ENTITY_PREVIEW_FAILED = 'ActiveProject::LOAD_ENTITY_PREVIEW_FAILED';\n\n\n  // loadEntityPreview(pk_project: number, pk_entity: number, pk_ui_context: number): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_ENTITY_PREVIEW,\n  //     payload: null,\n  //     meta: {\n  //       pk_project, pk_entity, pk_ui_context\n  //     }\n  //   }\n  // }\n\n  // loadEntityPreviewSucceeded(entityPreview: EntityPreview): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_ENTITY_PREVIEW_SUCCEEDED,\n  //     payload: null,\n  //     meta: {\n  //       entityPreview\n  //     },\n  //   }\n  // }\n\n  // loadEntityPreviewFailed(error): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_ENTITY_PREVIEW_FAILED,\n  //     payload: null,\n  //     meta: null,\n  //     error\n  //   }\n  // }\n\n  // // EntityPreviews\n  // static LOAD_TYPES = 'ActiveProject::LOAD_TYPES';\n  // static LOAD_TYPES_SUCCEEDED = 'ActiveProject::LOAD_TYPES_SUCCEEDED';\n  // static LOAD_TYPES_FAILED = 'ActiveProject::LOAD_TYPES_FAILED';\n  // loadTypes(pk_project: number, pk_classes: number[]): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_TYPES,\n  //     payload: null,\n  //     meta: {\n  //       pk_project, pk_classes\n  //     }\n  //   }\n  // }\n\n  // loadTypesSucceeded(types: TypePeIt[], pk_classes: number[]): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_TYPES_SUCCEEDED,\n  //     payload: null,\n  //     meta: {\n  //       types, pk_classes\n  //     },\n  //   }\n  // }\n\n  // loadTypesFailed(error): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_TYPES_FAILED,\n  //     payload: null,\n  //     meta: null,\n  //     error\n  //   }\n  // }\n\n\n\n  // // Entities Details for display in Modals\n  // static LOAD_ENTITY_DETAIL_FOR_MODAL = 'ActiveProject::LOAD_ENTITY_DETAIL_FOR_MODAL';\n  // static LOAD_PE_IT_DETAIL_FOR_MODAL_SUCCEEDED = 'ActiveProject::LOAD_PE_IT_DETAIL_FOR_MODAL_SUCCEEDED';\n  // static LOAD_TE_EN_DETAIL_FOR_MODAL_SUCCEEDED = 'ActiveProject::LOAD_TE_EN_DETAIL_FOR_MODAL_SUCCEEDED'; // TODO: Implement action/reducer\n  // static LOAD_ENTITY_DETAIL_FOR_MODAL_FAILED = 'ActiveProject::LOAD_ENTITY_DETAIL_FOR_MODAL_FAILED';\n\n  // loadEntityDetailForModal(pk_project: number, pk_entity: number, pk_ui_context: number): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_ENTITY_DETAIL_FOR_MODAL,\n  //     payload: null,\n  //     meta: {\n  //       pk_project, pk_entity, pk_ui_context\n  //     }\n  //   }\n  // }\n\n  // loadPeItDetailsForModalSucceeded(peItDetail: EntityDetail): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_PE_IT_DETAIL_FOR_MODAL_SUCCEEDED,\n  //     payload: null,\n  //     meta: {\n  //       peItDetail\n  //     },\n  //   }\n  // }\n\n  // loaEntitytDetailsForModalFailed(error): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_ENTITY_DETAIL_FOR_MODAL_FAILED,\n  //     payload: null,\n  //     meta: null,\n  //     error\n  //   }\n  // }\n\n\n  // // Chunks\n  // static LOAD_CHUNK = 'ActiveProject::LOAD_CHUNK';\n  // static LOAD_CHUNK_SUCCEEDED = 'ActiveProject::LOAD_CHUNK_SUCCEEDED';\n  // static LOAD_CHUNK_FAILED = 'ActiveProject::LOAD_CHUNK_FAILED';\n\n  // loadChunk(pk_project: number, pk_entity: number): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_CHUNK,\n  //     payload: null,\n  //     meta: {\n  //       pk_project, pk_entity\n  //     }\n  //   }\n  // }\n\n  // loadChunkSucceeded(chunk: DatChunk): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_CHUNK_SUCCEEDED,\n  //     payload: null,\n  //     meta: {\n  //       chunk\n  //     },\n  //   }\n  // }\n\n  // loadChunkFailed(error): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_CHUNK_FAILED,\n  //     payload: null,\n  //     meta: null,\n  //     error\n  //   }\n  // }\n\n  // // PeIt Graphs\n  // static LOAD_PEIT_GRAPHS = 'ActiveProject::LOAD_PEIT_GRAPHS';\n  // static LOAD_PEIT_GRAPHS_SUCCEEDED = 'ActiveProject::LOAD_PEIT_GRAPHS_SUCCEEDED';\n  // static LOAD_PEIT_GRAPHS_FAILED = 'ActiveProject::LOAD_PEIT_GRAPHS_FAILED';\n\n\n  // loadPeItGraphs(pk_project: number, pk_entities: number[]): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_PEIT_GRAPHS,\n  //     payload: null,\n  //     meta: {\n  //       pk_project, pk_entities\n  //     }\n  //   }\n  // }\n\n  // loadPeItGraphsSucceeded(peItGraphs: InfPersistentItem[]): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_PEIT_GRAPHS_SUCCEEDED,\n  //     payload: null,\n  //     meta: {\n  //       peItGraphs\n  //     },\n  //   }\n  // }\n\n  // loadPeItGraphsFailed(error): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_PEIT_GRAPHS_FAILED,\n  //     payload: null,\n  //     meta: null,\n  //     error\n  //   }\n  // }\n\n  // // TeEn Graphs\n  // static LOAD_TEEN_GRAPHS = 'ActiveProject::LOAD_TEEN_GRAPHS';\n  // static LOAD_TEEN_GRAPHS_SUCCEEDED = 'ActiveProject::LOAD_TEEN_GRAPHS_SUCCEEDED';\n  // static LOAD_TEEN_GRAPHS_FAILED = 'ActiveProject::LOAD_TEEN_GRAPHS_FAILED';\n\n  // loadTeEnGraphs(pk_project: number, pk_entities: number[]): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_TEEN_GRAPHS,\n  //     payload: null,\n  //     meta: {\n  //       pk_project, pk_entities\n  //     }\n  //   }\n  // }\n\n  // loadTeEnGraphsSucceeded(teEnGraphs: InfTemporalEntity[]): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_TEEN_GRAPHS_SUCCEEDED,\n  //     payload: null,\n  //     meta: {\n  //       teEnGraphs\n  //     },\n  //   }\n  // }\n\n  // loadTeEnGraphsFailed(error): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_TEEN_GRAPHS_FAILED,\n  //     payload: null,\n  //     meta: null,\n  //     error\n  //   }\n  // }\n\n\n  // // Queries\n  // static LOAD_QUERIES = 'ActiveProject::LOAD_QUERIES';\n  // static LOAD_QUERIES_SUCCEEDED = 'ActiveProject::LOAD_QUERIES_SUCCEEDED';\n  // static LOAD_QUERIES_FAILED = 'ActiveProject::LOAD_QUERIES_FAILED';\n\n  // loadQueries(pk_project: number): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_QUERIES,\n  //     payload: null,\n  //     meta: {\n  //       pk_project\n  //     }\n  //   }\n  // }\n\n  // loadQueriesSucceeded(comQueryArray: ComQueryV[]): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_QUERIES_SUCCEEDED,\n  //     payload: null,\n  //     meta: {\n  //       comQueryArray\n  //     },\n  //   }\n  // }\n\n  // loadQueriesFailed(error): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_QUERIES_FAILED,\n  //     payload: null,\n  //     meta: null,\n  //     error\n  //   }\n  // }\n\n\n  // // Query Version\n  // static LOAD_QUERY_VERSION = 'ActiveProject::LOAD_QUERY_VERSION';\n  // static LOAD_QUERY_VERSION_SUCCEEDED = 'ActiveProject::LOAD_QUERY_VERSION_SUCCEEDED';\n  // static LOAD_QUERY_VERSION_FAILED = 'ActiveProject::LOAD_QUERY_VERSION_FAILED';\n\n  // loadQueryVersion(pk_project: number, pk_entity: number, entity_version: number): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_QUERY_VERSION,\n  //     payload: null,\n  //     meta: {\n  //       pk_project, pk_entity, entity_version\n  //     }\n  //   }\n  // }\n\n  // loadQueryVersionSucceeded(comQuery: ProQuery): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_QUERY_VERSION_SUCCEEDED,\n  //     payload: null,\n  //     meta: {\n  //       comQuery\n  //     },\n  //   }\n  // }\n\n  // loadQueryVersionFailed(error): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_QUERY_VERSION_FAILED,\n  //     payload: null,\n  //     meta: null,\n  //     error\n  //   }\n  // }\n\n\n\n  // // Visuals\n  // static LOAD_VISUALS = 'ActiveProject::LOAD_VISUALS';\n  // static LOAD_VISUALS_SUCCEEDED = 'ActiveProject::LOAD_VISUALS_SUCCEEDED';\n  // static LOAD_VISUALS_FAILED = 'ActiveProject::LOAD_VISUALS_FAILED';\n\n  // loadVisuals(pk_project: number): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_VISUALS,\n  //     payload: null,\n  //     meta: {\n  //       pk_project\n  //     }\n  //   }\n  // }\n\n  // loadVisualsSucceeded(comVisualArray: ComVisualV[]): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_VISUALS_SUCCEEDED,\n  //     payload: null,\n  //     meta: {\n  //       comVisualArray\n  //     },\n  //   }\n  // }\n\n  // loadVisualsFailed(error): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_VISUALS_FAILED,\n  //     payload: null,\n  //     meta: null,\n  //     error\n  //   }\n  // }\n  // // Visual Version\n  // static LOAD_VISUAL_VERSION = 'ActiveProject::LOAD_VISUAL_VERSION';\n  // static LOAD_VISUAL_VERSION_SUCCEEDED = 'ActiveProject::LOAD_VISUAL_VERSION_SUCCEEDED';\n  // static LOAD_VISUAL_VERSION_FAILED = 'ActiveProject::LOAD_VISUAL_VERSION_FAILED';\n\n  // loadVisualVersion(pk_project: number, pk_entity: number, entity_version?: number): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_VISUAL_VERSION,\n  //     payload: null,\n  //     meta: {\n  //       pk_project, pk_entity, entity_version\n  //     }\n  //   }\n  // }\n\n  // loadVisualVersionSucceeded(comVisualArray: ComVisualV[]): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_VISUAL_VERSION_SUCCEEDED,\n  //     payload: null,\n  //     meta: {\n  //       comVisualArray\n  //     },\n  //   }\n  // }\n\n  // loadVisualVersionFailed(error): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.LOAD_VISUAL_VERSION_FAILED,\n  //     payload: null,\n  //     meta: null,\n  //     error\n  //   }\n  // }\n\n\n\n\n  /************************************************************************************\n   *  Things for Mentionings / Annotations\n  ************************************************************************************/\n  static UPDATE_SELECTED_CHUNK = 'ActiveProject::UPDATE_SELECTED_CHUNK';\n  static SET_REFINING_CHUNK = 'ActiveProject::SET_REFINING_CHUNK';\n  static SET_CREATING_MENTIONING = 'ActiveProject::SET_CREATING_MENTIONING';\n\n\n  // updateSelectedChunk(selectedChunk: DatChunk): ActiveProjectAction {\n  //   return {\n  //     type: ActiveProjectActions.UPDATE_SELECTED_CHUNK,\n  //     payload: { selectedChunk },\n  //     meta: null\n  //   }\n  // }\n\n  setRefiningChunk(refiningChunk: boolean): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.SET_REFINING_CHUNK,\n      payload: { refiningChunk },\n      meta: null\n    }\n  }\n\n  setCreatingMentioning(creatingMentioning: boolean): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.SET_CREATING_MENTIONING,\n      payload: { creatingMentioning },\n      meta: null\n    }\n  }\n\n  /************************************************************************************\n  * Highlighting of mentionings in the gui\n  ************************************************************************************/\n  static SET_MENTIONINGS_FOCUSED_IN_TEXT = 'ActiveProject::SET_MENTIONINGS_FOCUSED_IN_TEXT';\n  static SET_MENTIONINGS_FOCUSED_IN_TABLE = 'ActiveProject::SET_MENTIONINGS_FOCUSED_IN_TABLE';\n\n  setMentioningsFocusedInText(mentioningsFocusedInText: number[]): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.SET_MENTIONINGS_FOCUSED_IN_TEXT,\n      payload: { mentioningsFocusedInText },\n      meta: null\n    }\n  }\n\n  setMentioningsFocusedInTable(mentioningsFocusedInTable: number[]): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.SET_MENTIONINGS_FOCUSED_IN_TABLE,\n      payload: { mentioningsFocusedInTable },\n      meta: null\n    }\n  }\n\n\n  // /*********************************************************************\n  //  *  Methods to manage enabling and disabling a class for the project\n  //  *********************************************************************/\n  // static readonly UPSERT_CLASS_PROJ_REL = 'ActiveProject::UPSERT_CLASS_PROJ_REL';\n  // static readonly UPSERT_CLASS_PROJ_REL_SUCCEEDED = 'ActiveProject::UPSERT_CLASS_PROJ_REL_SUCCEEDED';\n  // static readonly UPSERT_CLASS_PROJ_REL_FAILED = 'ActiveProject::UPSERT_CLASS_PROJ_REL_FAILED';\n\n  // upsertClassProjRel = (projRel: ProDfhClassProjRel, dfh_pk_class: number): ActiveProjectAction => ({\n  //   type: ActiveProjectActions.UPSERT_CLASS_PROJ_REL,\n  //   meta: { projRel, dfh_pk_class },\n  //   payload: null,\n  // });\n\n  // upsertClassProjRelSucceeded = (projRel: ProDfhClassProjRel, dfh_pk_class: number): ActiveProjectAction => ({\n  //   type: ActiveProjectActions.UPSERT_CLASS_PROJ_REL_SUCCEEDED,\n  //   meta: { projRel, dfh_pk_class },\n  //   payload: null\n  // })\n\n  // upsertClassProjRelFailed = (error, dfh_pk_class: number): ActiveProjectAction => ({\n  //   type: ActiveProjectActions.UPSERT_CLASS_PROJ_REL_FAILED,\n  //   meta: { dfh_pk_class },\n  //   payload: null,\n  //   error,\n  // })\n\n\n  // /*********************************************************************\n  //  *  Methods to manage enabling and disabling an entity for the project\n  //  *********************************************************************/\n  // static readonly UPSERT_ENTITY_PROJ_REL = 'ActiveProject::UPSERT_ENTITY_PROJ_REL';\n  // static readonly UPSERT_ENTITY_PROJ_REL_SUCCEEDED = 'ActiveProject::UPSERT_ENTITY_PROJ_REL_SUCCEEDED';\n  // static readonly UPSERT_ENTITY_PROJ_REL_FAILED = 'ActiveProject::UPSERT_ENTITY_PROJ_REL_FAILED';\n\n  // upsertEntityProjRel = (infProjRel: ProInfoProjRel): ActiveProjectAction => ({\n  //   type: ActiveProjectActions.UPSERT_ENTITY_PROJ_REL,\n  //   meta: { infProjRel },\n  //   payload: null,\n  // });\n\n  // upsertEntityProjRelSucceeded = (infProjRel: ProInfoProjRel): ActiveProjectAction => ({\n  //   type: ActiveProjectActions.UPSERT_ENTITY_PROJ_REL_SUCCEEDED,\n  //   meta: { infProjRel },\n  //   payload: null\n  // })\n\n  // upsertEntityProjRelFailed = (error): ActiveProjectAction => ({\n  //   type: ActiveProjectActions.UPSERT_ENTITY_PROJ_REL_FAILED,\n  //   meta: null,\n  //   payload: null,\n  //   error,\n  // })\n\n\n  /************************************************************************************\n   * Destroy the active project state (on closing a project)\n  ************************************************************************************/\n  static DESTROY = 'ActiveProject::DESTROY';\n  destroy(): ActiveProjectAction {\n    return {\n      type: ActiveProjectActions.DESTROY,\n      payload: null,\n      meta: null,\n    }\n  }\n}\n","import { DatDigital, DatTextProperty } from '@kleiolab/lib-sdk-lb3';\nimport { ReducerConfigCollection } from '../_helpers/reducer-factory';\nimport { DatClassColumnMapping } from '@kleiolab/lib-sdk-lb4';\n\nexport const datRoot = 'dat';\nexport const facetteByPk = 'by_namespace';\n\nexport const datDefinitions: ReducerConfigCollection = {\n  digital: {\n    equals: (newItem: DatDigital, oldItem: DatDigital) => {\n      if (!oldItem.quill_doc && newItem.quill_doc) return false;\n      return (\n        newItem.pk_entity === oldItem.pk_entity &&\n        newItem.entity_version === oldItem.entity_version\n      )\n    },\n    indexBy: {\n      keyInStore: 'pk_entity__entity_version',\n      indexByFn: (item) => item.pk_entity.toString() + '_' + item.entity_version.toString()\n    },\n    groupBy: [\n      {\n        keyInStore: 'pk_entity',\n        groupByFn: (item): string => item.pk_entity.toString()\n      },\n      {\n        keyInStore: 'pk_text',\n        groupByFn: (item): string => item.pk_text.toString()\n      }\n    ]\n  },\n  chunk: {\n    // facetteByPk,\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => item.pk_entity.toString()\n    },\n    groupBy: [\n      {\n        keyInStore: 'fk_text',\n        groupByFn: (item): string => item.fk_text.toString()\n      }\n    ]\n  },\n  column: {\n    // facetteByPk,\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => item.pk_entity.toString()\n    },\n    groupBy: [\n      {\n        keyInStore: 'fk_digital',\n        groupByFn: (item): string => item.fk_digital.toString()\n      }\n    ]\n  },\n  class_column_mapping: {\n    // facetteByPk,\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => item.pk_entity.toString()\n    },\n    groupBy: [\n      {\n        keyInStore: 'fk_column',\n        groupByFn: (item: DatClassColumnMapping): string => item.fk_column.toString()\n      }\n    ]\n  },\n  text_property: {\n    // facetteByPk,\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => item.pk_entity.toString()\n    },\n    groupBy: [\n      {\n        keyInStore: 'fk_entity__fk_system_type',\n        groupByFn: (item: DatTextProperty): string => item.fk_entity + '_' + item.fk_system_type\n      }\n    ]\n  },\n  namespace: {\n    // facetteByPk,\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => item.pk_entity.toString()\n    },\n    groupBy: [\n      {\n        keyInStore: 'fk_project',\n        groupByFn: (item): string => item.fk_project.toString()\n      }\n    ]\n  }\n}\n","import { NgRedux } from '@angular-redux/store';\nimport { GvFieldPage } from '@kleiolab/lib-sdk-lb4';\nimport { U } from '@kleiolab/lib-utils';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { ActionsObservable } from 'redux-observable-es6-compat';\nimport { Observable } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { IAppState } from '../../root/models/model';\n\nexport interface LoadActionMeta { addPending: string, pk?: number }\nexport interface LoadVersionAction extends LoadActionMeta { pkEntity: number, entityVersion: number };\nexport interface LoadByPkAndVersionActionMeta { addPending: string, pk?: number, pkEntity: number, version: number }\n\nexport interface ModifyActionMeta<Model> { items: Model[], addPending: string, pk?: number }\nexport interface SucceedActionMeta<Model> { items: Model[], removePending: string, pk?: number }\nexport interface FailActionMeta { removePending: string, pk?: number }\n\nexport interface PaginateByParam { [key: string]: number | boolean | string }\nexport interface LoadPageMeta { page: GvFieldPage, pk?: number }\nexport interface LoadPageSucceededMeta { pks: number[], count: number, page: GvFieldPage, pk?: number }\n\n\n\nexport interface ActionResultObservable<Model> { pending$: Observable<boolean>, resolved$: Observable<SucceedActionMeta<Model>>, key: string }\n\nexport type FluxActionObservable<Payload, Meta> = ActionsObservable<FluxStandardAction<Payload, Meta>>\n\n\n\n/**\n * A: Schema Action Type (e.g. DfhAction)\n * M: Model for whitch the Actions are produced\n */\n\nexport class SchemaActionsFactory<Payload, Model> {\n\n  load: (suffix?: string, pk?: number) => ActionResultObservable<Model>;\n\n  /**\n   * @param pk is used for facetting\n   */\n  loadSucceeded: (items: Model[], removePending: string, pk?: number) => void;\n\n  /**\n   * @param pk is used for facetting\n   */\n  upsert: (items: Partial<Model>[], pk?: number) => ActionResultObservable<Model>;\n\n  /**\n   * @param pk is used for facetting\n   */\n  upsertSucceeded: (items: Model[], removePending: string, pk?: number) => void;\n\n  /**\n   * @param pk is used for facetting\n   */\n  delete: (items: Model[], pk?: number) => ActionResultObservable<Model>;\n\n  /**\n   * @param pk is used for facetting\n   */\n  deleteSucceeded: (items: Model[], removePending: string, pk?: number) => void;\n\n  /**\n   * @param pk is used for facetting\n   */\n  failed: (error, removePending: string, pk?: number) => void;\n\n\n  /**\n   * @param pk is used for facetting\n   */\n  loadPage: (page: GvFieldPage, pk?: number) => void;\n\n  /**\n * @param pk is used for facetting\n */\n  loadPageSucceeded: (pks: number[], count: number, page: GvFieldPage, pk?: number) => void;\n  loadPageFailed: (page: GvFieldPage, pk?: number) => void;\n\n  /**\n   * this action is not model specific but pendingKey specific.\n   * Reducer will add whole meta part to the resolved key.\n   */\n  succeeded: (items: Model[], removePending: string, pk?: number) => void;\n\n  actionPrefix: string;\n  modelName: string;\n\n  constructor(public ngRedux: NgRedux<IAppState>) {\n  }\n\n\n  createCrudActions(actionPrefix: string, modelName: string): SchemaActionsFactory<Payload, Model> {\n    this.actionPrefix = actionPrefix;\n    this.modelName = modelName;\n\n    this.load = (suffix: string = '', pk?: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadActionMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + (suffix ? '::' + suffix : ''),\n        meta: { addPending, pk },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<Model>>(['resolved', addPending]),\n        key: addPending\n      };\n    }\n\n    this.loadSucceeded = (items: Model[], removePending: string, pk?: number) => {\n      const action: FluxStandardAction<Payload, SucceedActionMeta<Model>> = ({\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD_SUCCEEDED',\n        meta: { items, removePending, pk },\n        payload: null\n      })\n      this.ngRedux.dispatch(action)\n    }\n\n    /**\n     * Call the Redux Action to upsert model instances.\n     */\n    this.upsert = (items: Model[], pk?: number) => {\n      const addPending = U.uuid();\n      const action: FluxStandardAction<Payload, ModifyActionMeta<Model>> = ({\n        type: this.actionPrefix + '.' + this.modelName + '::UPSERT',\n        meta: { items, addPending, pk },\n        payload: null\n      })\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<Model>>(['resolved', addPending]),\n        key: addPending\n      };\n    }\n\n    this.upsertSucceeded = (items: Model[], removePending: string, pk?: number) => {\n      const action: FluxStandardAction<Payload, SucceedActionMeta<Model>> = ({\n        type: this.actionPrefix + '.' + this.modelName + '::UPSERT_SUCCEEDED',\n        meta: { items, removePending, pk },\n        payload: null\n      })\n      this.ngRedux.dispatch(action)\n    }\n\n    /**\n     * this action is not model specific but pendingKey specific.\n     * Reducer will add whole meta part to the resolved key\n     */\n    this.succeeded = (items: Model[], removePending: string, pk?: number) => {\n      const action: FluxStandardAction<Payload, SucceedActionMeta<Model>> = ({\n        type: 'general::UPSERT_SUCCEEDED',\n        meta: { items, removePending, pk },\n        payload: null\n      })\n      this.ngRedux.dispatch(action)\n    }\n\n\n    /**\n    * Call the Redux Action to delete model instances.\n    */\n    this.delete = (items: Model[], pk?: number) => {\n      const addPending = U.uuid();\n      const action: FluxStandardAction<Payload, ModifyActionMeta<Model>> = ({\n        type: this.actionPrefix + '.' + this.modelName + '::DELETE',\n        meta: { items, addPending, pk },\n        payload: null\n      })\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<Model>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n    this.deleteSucceeded = (items: Model[], removePending: string, pk?: number) => {\n      const action: FluxStandardAction<Payload, SucceedActionMeta<Model>> = ({\n        type: this.actionPrefix + '.' + this.modelName + '::DELETE_SUCCEEDED',\n        meta: { items, removePending, pk },\n        payload: null\n      })\n      this.ngRedux.dispatch(action)\n    }\n\n\n\n    this.failed = (error, removePending: string, pk?: number) => {\n      const action: FluxStandardAction<Payload, FailActionMeta> = ({\n        type: this.actionPrefix + '.' + this.modelName + '::FAILED',\n        meta: { removePending, pk },\n        payload: null,\n        error,\n      })\n      this.ngRedux.dispatch(action)\n    }\n\n\n    this.loadPage = (page: GvFieldPage, pk?: number) => {\n      const action: FluxStandardAction<Payload, LoadPageMeta> = ({\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD_PAGE',\n        meta: { page, pk },\n        payload: null,\n      })\n      this.ngRedux.dispatch(action)\n    }\n\n    this.loadPageSucceeded = (pks: number[], count: number, page: GvFieldPage, pk?: number) => {\n      const action: FluxStandardAction<Payload, LoadPageSucceededMeta> = ({\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD_PAGE_SUCCEEDED',\n        meta: { page, pks, count, pk },\n        payload: null,\n      })\n      this.ngRedux.dispatch(action)\n    }\n\n    this.loadPageFailed = (page: GvFieldPage, pk?: number) => {\n      const action: FluxStandardAction<Payload, LoadPageMeta> = ({\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD_PAGE_FAILED',\n        meta: { page, pk },\n        payload: null,\n      })\n      this.ngRedux.dispatch(action)\n    }\n\n    return this;\n  }\n\n}\n\nexport interface SchemaObjectLoadActionMeta { removePending: string, pk?: number }\n","import { NgRedux } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { DatChunk, DatColumn, DatDigital, DatNamespace, DatTextProperty } from '@kleiolab/lib-sdk-lb3';\nimport { DatClassColumnMapping } from '@kleiolab/lib-sdk-lb4';\nimport { U } from '@kleiolab/lib-utils';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { IAppState } from '../../root/models/model';\nimport { ChunkSlice, ClassColumnMappingSlice, ColumnSlice, DigitalSlice, NamespaceSlice, TextPropertySlice } from '../models/dat.models';\nimport { datRoot } from '../reducer-configs/dat.config';\nimport { ActionResultObservable, LoadActionMeta, LoadVersionAction, SchemaActionsFactory, SucceedActionMeta } from '../_helpers/schema-actions-factory';\n\n\nexport class DigitalActionsFactory extends SchemaActionsFactory<DigitalSlice, DatDigital> {\n\n  // Suffixes of load action types\n  static readonly LOAD_VERSION = 'LOAD_VERSION';\n\n  /**\n   * Load a version. if entityVersion omitted, latest version is returned.\n   */\n  loadVersion: (pkEntity: number, entityVersion?: number) => ActionResultObservable<DatDigital>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): DigitalActionsFactory {\n    Object.assign(this, this.createCrudActions(datRoot, 'digital'))\n\n    this.loadVersion = (pkEntity: number, entityVersion?: number) => {\n      const addPending = U.uuid()\n\n      const action: FluxStandardAction<DigitalSlice, LoadVersionAction> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + DigitalActionsFactory.LOAD_VERSION,\n        meta: { addPending, pkEntity, entityVersion },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<DatDigital>>(['resolved', addPending]),\n        key: addPending\n      };\n    }\n    return this;\n  }\n}\n\nexport interface LoadChunksOfDigitalAction extends LoadActionMeta { pkDigital: number }\n\nexport class ChunkActionsFactory extends SchemaActionsFactory<ChunkSlice, DatChunk> {\n\n  // Suffixes of load action types\n  static readonly CHUNKS_OF_DIGITAL = 'CHUNKS_OF_DIGITAL';\n\n  /**\n   * Load a version. if entityVersion omitted, latest version is returned.\n   */\n  loadChunksOfDigital: (pkDigital: number, pk: number) => ActionResultObservable<DatChunk>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): ChunkActionsFactory {\n    Object.assign(this, this.createCrudActions(datRoot, 'chunk'))\n\n    this.loadChunksOfDigital = (pkDigital: number, pk: number) => {\n      const addPending = U.uuid()\n\n      const action: FluxStandardAction<ChunkSlice, LoadChunksOfDigitalAction> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + ChunkActionsFactory.CHUNKS_OF_DIGITAL,\n        meta: { addPending, pkDigital, pk },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<DatChunk>>(['resolved', addPending]),\n        key: addPending\n      };\n    }\n    return this;\n  }\n}\n\nexport interface LoadColumnsOfTableAction extends LoadActionMeta { pkDigital: number }\n\nexport class ColumnActionsFactory extends SchemaActionsFactory<ColumnSlice, DatColumn> {\n\n  // Suffixes of load action types\n  static readonly COLUMNS_OF_TABLE = 'COLUMNS_OF_TABLE';\n\n  /**\n   * Load a version. if entityVersion omitted, latest version is returned.\n   */\n  loadColumnsOfTable: (pkDigital: number, pk: number) => ActionResultObservable<DatColumn>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): ColumnActionsFactory {\n    Object.assign(this, this.createCrudActions(datRoot, 'column'))\n\n    this.loadColumnsOfTable = (pkDigital: number, pk: number) => {\n      const addPending = U.uuid()\n\n      const action: FluxStandardAction<ColumnSlice, LoadColumnsOfTableAction> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + ColumnActionsFactory.COLUMNS_OF_TABLE,\n        meta: { addPending, pkDigital, pk },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<DatColumn>>(['resolved', addPending]),\n        key: addPending\n      };\n    }\n    return this;\n  }\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DatActions {\n\n  digital = new DigitalActionsFactory(this.ngRedux).createActions();\n\n  chunk = new ChunkActionsFactory(this.ngRedux).createActions()\n\n  column = new ColumnActionsFactory(this.ngRedux).createActions()\n\n  class_column_mapping = new SchemaActionsFactory<ClassColumnMappingSlice, DatClassColumnMapping>(this.ngRedux).createCrudActions(datRoot, 'class_column_mapping')\n\n  namespace = new SchemaActionsFactory<NamespaceSlice, DatNamespace>(this.ngRedux).createCrudActions(datRoot, 'namespace')\n\n  text_property = new SchemaActionsFactory<TextPropertySlice, DatTextProperty>(this.ngRedux).createCrudActions(datRoot, 'text_property')\n\n  constructor(public ngRedux: NgRedux<IAppState>) { }\n\n}\n","import { DfhLabel, DfhProfile } from '@kleiolab/lib-sdk-lb3';\nimport { DfhClass, DfhProperty } from '@kleiolab/lib-sdk-lb4';\nimport { ReducerConfigCollection } from '../_helpers/reducer-factory';\n\n\nexport const dfhRoot = 'dfh';\n\nexport const dfhLabelByFksKey = (item: Partial<DfhLabel>) => `${item.type || null}_${item.language || null}_${item.fk_class || null}_${item.fk_profile || null}_${item.fk_property || null}_${item.fk_project || null}`;\n\nexport const dfhDefinitions: ReducerConfigCollection = {\n  profile: {\n    indexBy: {\n      keyInStore: 'pk_profile',\n      indexByFn: (item: DfhProfile) => item.pk_profile.toString()\n    }\n  },\n  klass: {\n    indexBy: {\n      keyInStore: 'pk_class',\n      indexByFn: (item: DfhClass) => item.pk_class.toString(),\n    },\n    groupBy: [\n      {\n        keyInStore: 'basic_type',\n        groupByFn: (d: DfhClass): string => d.basic_type.toString()\n      },\n    ]\n  },\n  property: {\n    indexBy: {\n      keyInStore: 'pk_property__has_domain__has_range',\n      indexByFn: (item: DfhProperty) => item.pk_property + '_' + item.has_domain + '_' + item.has_range\n    },\n    groupBy: [\n      {\n        keyInStore: 'pk_property',\n        groupByFn: (d: DfhProperty): string => d.pk_property.toString()\n      },\n      {\n        keyInStore: 'has_domain',\n        groupByFn: (d: DfhProperty): string => d.has_domain.toString()\n      },\n      {\n        keyInStore: 'has_range',\n        groupByFn: (d: DfhProperty): string => d.has_range.toString()\n      },\n      // {\n      //   keyInStore: 'has_domain__fk_property',\n      //   groupByFn: (d: DfhProperty): string => d.has_domain + '_' + d.pk_property\n      // },\n      // {\n      //   keyInStore: 'has_range__fk_property',\n      //   groupByFn: (d: DfhProperty): string => d.has_range + '_' + d.pk_property\n      // },\n      {\n        keyInStore: 'is_has_type_subproperty',\n        groupByFn: (d: DfhProperty): string => d.is_has_type_subproperty ? d.is_has_type_subproperty.toString() : undefined\n      }\n    ]\n  },\n  label: {\n    indexBy: {\n      keyInStore: 'fks',\n      indexByFn: dfhLabelByFksKey\n    },\n    groupBy: [\n      {\n        keyInStore: 'fk_class__type',\n        groupByFn: (d: DfhLabel): string => !d.fk_class ? undefined : `${d.fk_class}_${d.type}`\n      },\n      {\n        keyInStore: 'fk_property__type',\n        groupByFn: (d: DfhLabel): string => !d.fk_property ? undefined : `${d.fk_property}_${d.type}`\n      },\n      {\n        keyInStore: 'fk_profile__type',\n        groupByFn: (d: DfhLabel): string => !d.fk_profile ? undefined : `${d.fk_profile}_${d.type}`\n      }\n    ]\n  },\n};\n","\nimport { NgRedux } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { DfhLabel, DfhProfile } from '@kleiolab/lib-sdk-lb3';\nimport { DfhClass, DfhProperty } from '@kleiolab/lib-sdk-lb4';\nimport { U } from '@kleiolab/lib-utils';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { filter } from 'rxjs/operators';\nimport { IAppState } from '../../root/models/model';\nimport { DfhClassSlice } from '../models/dfh.models';\nimport { dfhRoot } from '../reducer-configs/dfh.config';\nimport { ActionResultObservable, LoadActionMeta, SchemaActionsFactory, SucceedActionMeta } from '../_helpers/schema-actions-factory';\n\n\nexport class DfhProfileActionFactory extends SchemaActionsFactory<Payload, DfhProfile> {\n\n  // Suffixes of load action types\n  static readonly OF_PROJECT = 'OF_PROJECT';\n\n  loadOfProject: (pkProject) => ActionResultObservable<DfhProfile>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): DfhProfileActionFactory {\n    Object.assign(this, this.createCrudActions(dfhRoot, 'profile'))\n\n    this.loadOfProject = (pkProject: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadActionMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + DfhProfileActionFactory.OF_PROJECT,\n        meta: {\n          addPending,\n          pk: pkProject\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<DfhProfile>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n    return this;\n  }\n}\n\n\nexport class DfhClassActionFactory extends SchemaActionsFactory<Payload, DfhClass> {\n\n  // Suffixes of load action types\n  static readonly OF_PROJECT = 'OF_PROJECT';\n\n  loadOfProject: (pkProject) => ActionResultObservable<DfhClass>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): DfhClassActionFactory {\n    Object.assign(this, this.createCrudActions(dfhRoot, 'klass'))\n\n    this.loadOfProject = (pkProject: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadActionMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + DfhClassActionFactory.OF_PROJECT,\n        meta: {\n          addPending,\n          pk: pkProject\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<DfhClass>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n    return this;\n  }\n}\n\n\nexport class DfhPropertyActionFactory extends SchemaActionsFactory<Payload, DfhProperty> {\n\n  // Suffixes of load action types\n  static readonly OF_PROJECT = 'OF_PROJECT';\n\n  loadOfProject: (pkProject) => ActionResultObservable<DfhProperty>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): DfhPropertyActionFactory {\n    Object.assign(this, this.createCrudActions(dfhRoot, 'property'))\n\n    this.loadOfProject = (pkProject: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadActionMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + DfhPropertyActionFactory.OF_PROJECT,\n        meta: {\n          addPending,\n          pk: pkProject\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<DfhProperty>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n    return this;\n  }\n}\n\nexport class DfhLabelActionFactory extends SchemaActionsFactory<Payload, DfhLabel> {\n\n  // Suffixes of load action types\n  static readonly OF_PROJECT = 'OF_PROJECT';\n\n  loadOfProject: (pkProject) => ActionResultObservable<DfhLabel>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): DfhLabelActionFactory {\n    Object.assign(this, this.createCrudActions(dfhRoot, 'label'))\n\n    this.loadOfProject = (pkProject: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadActionMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + DfhLabelActionFactory.OF_PROJECT,\n        meta: {\n          addPending,\n          pk: pkProject\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<DfhLabel>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n\n    return this;\n  }\n}\n\n\ntype Payload = DfhClassSlice;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DfhActions {\n\n\n  profile = new DfhProfileActionFactory(this.ngRedux).createActions();\n  klass = new DfhClassActionFactory(this.ngRedux).createActions();\n  property = new DfhPropertyActionFactory(this.ngRedux).createActions();\n  label = new DfhLabelActionFactory(this.ngRedux).createActions();\n\n  constructor(public ngRedux: NgRedux<IAppState>) { }\n\n}\n","import { ReducerConfigCollection } from '../_helpers/reducer-factory';\n\nimport { InfStatement, InfTextProperty, InfDimension } from '@kleiolab/lib-sdk-lb3';\nimport { U } from '@kleiolab/lib-utils';\n\nexport const infRoot = 'inf';\n\nexport const infDefinitions: ReducerConfigCollection = {\n  persistent_item: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => {\n        return item.pk_entity.toString()\n      }\n    },\n    groupBy: [\n      {\n        keyInStore: 'fk_class',\n        groupByFn: (d): string => d.fk_class.toString()\n      }\n    ]\n  },\n  temporal_entity: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => {\n        return item.pk_entity.toString()\n      }\n    },\n    groupBy: [\n      {\n        keyInStore: 'fk_class',\n        groupByFn: (d): string => d.fk_class.toString()\n      }\n    ]\n  },\n  statement: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item: InfStatement) => {\n        return item.pk_entity.toString()\n      }\n    },\n    groupBy: [\n      {\n        keyInStore: 'subject',\n        groupByFn: (d: InfStatement): string => indexStatementBySubject(d)\n      },\n      {\n        keyInStore: 'subject+property',\n        groupByFn: (d: InfStatement): string => indexStatementBySubjectProperty(d)\n      },\n      {\n        keyInStore: 'object',\n        groupByFn: (d: InfStatement): string => indexStatementByObject(d)\n      },\n      {\n        keyInStore: 'object+property',\n        groupByFn: (d: InfStatement): string => indexStatementByObjectProperty(d)\n      },\n\n      {\n        keyInStore: 'fk_subject_data',\n        groupByFn: (d: InfStatement): string => U.toStr0undef(d.fk_subject_data)\n      },\n    ]\n  },\n\n  text_property: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => {\n        return item.pk_entity.toString()\n      }\n    },\n    groupBy: [\n      {\n        keyInStore: 'fk_concerned_entity__fk_class_field',\n        groupByFn: (d: InfTextProperty): string => d.fk_concerned_entity + '_' + d.fk_class_field\n      },\n      {\n        keyInStore: 'fk_concerned_entity',\n        groupByFn: (d: InfTextProperty): string => d.fk_concerned_entity.toString()\n      },\n    ]\n  },\n  lang_string: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => {\n        return item.pk_entity.toString()\n      }\n    },\n    groupBy: []\n  },\n  appellation: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => {\n        return item.pk_entity.toString()\n      }\n    },\n    groupBy: []\n  },\n  time_primitive: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => {\n        return item.pk_entity.toString()\n      }\n    },\n    groupBy: []\n  },\n  place: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => {\n        return item.pk_entity.toString()\n      }\n    },\n    groupBy: []\n  },\n  language: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => {\n        return item.pk_entity.toString()\n      }\n    },\n    groupBy: []\n  },\n  dimension: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item: InfDimension) => {\n        return item.pk_entity.toString()\n      }\n    },\n    groupBy: []\n  },\n}\n\n\n\n\n\n/**\n * This function creates a key for the given statement by\n * - subject (all subject foreign keys)\n *\n * The key is created on the basis of the given foreign keys.\n * Keys are separated by dash '-', undefined keys are replaced by a zero '0'\n *\n * Use this function to index groups of statements with the same subject\n * or to retrieve statements from such a group index\n */\nexport function indexStatementBySubject(fks: IndexStatementBySubject = {}): string {\n  return `${fks.fk_subject_info || '0'}-${fks.fk_subject_data || '0'}-${(fks.fk_subject_tables_row) || '0'}-${(fks.fk_subject_tables_cell) || '0'}`\n}\nexport interface IndexStatementBySubject {\n  fk_subject_info?: number;\n  fk_subject_data?: number;\n  fk_subject_tables_row?: number;\n  fk_subject_tables_cell?: number;\n};\n\n\n/**\n * This function creates a key for the given statement by\n * - object (all object foreign keys)\n *\n * The key is created on the basis of the given foreign keys.\n * Keys are separated by dash '-', undefined keys are replaced by a zero '0'\n *\n * Use this function to index groups of statements with the same object\n * or to retrieve statements from such a group index\n */\nexport function indexStatementByObject(fks: IndexStatementByObject = {}): string {\n  return `${fks.fk_object_info || '0'}-${fks.fk_object_data || '0'}-${fks.fk_object_tables_row || '0'}-${fks.fk_object_tables_cell || '0'}`\n}\nexport interface IndexStatementByObject {\n  fk_object_info?: number;\n  fk_object_data?: number;\n  fk_object_tables_row?: number;\n  fk_object_tables_cell?: number;\n};\n\n\n/**\n * This function creates a key for the given statement by\n * - subject (all subject foreign keys)\n * - property (all property foreign keys)\n *\n * The key is created on the basis of the given foreign keys.\n * Keys are separated by dash '-', undefined keys are replaced by a zero '0'\n *\n * Use this function to index groups of statements with the same subject + property\n * or to retrieve statements from such a group index\n */\nexport function indexStatementBySubjectProperty(fks: IndexStatementBySubjectProperty = {}): string {\n  return `${fks.fk_subject_info || '0'}-${fks.fk_subject_data || '0'}-${(fks.fk_subject_tables_row) || '0'}-${(fks.fk_subject_tables_cell) || '0'}-${fks.fk_property || '0'}-${fks.fk_property_of_property || '0'}`\n}\nexport interface IndexStatementBySubjectProperty {\n  fk_subject_info?: number;\n  fk_subject_data?: number;\n  fk_subject_tables_row?: number;\n  fk_subject_tables_cell?: number;\n  fk_property?: number;\n  fk_property_of_property?: number;\n}\n\n\n/**\n * This function creates a key for the given statement by\n * - object (all object foreign keys)\n * - property (all property foreign keys)\n *\n * The key is created on the basis of the given foreign keys.\n * Keys are separated by dash '-', undefined keys are replaced by a zero '0'\n *\n * Use this function to index groups of statements with the same object + property\n * or to retrieve statements from such a group index\n */\nexport function indexStatementByObjectProperty(fks: IndexStatementByObjectProperty = {}): string {\n  return `${fks.fk_object_info || '0'}-${fks.fk_object_data || '0'}-${fks.fk_object_tables_row || '0'}-${fks.fk_object_tables_cell || '0'}-${fks.fk_property || '0'}-${fks.fk_property_of_property || '0'}`\n}\nexport interface IndexStatementByObjectProperty {\n  fk_object_info?: number;\n  fk_object_data?: number;\n  fk_object_tables_row?: number;\n  fk_object_tables_cell?: number;\n  fk_property?: number;\n  fk_property_of_property?: number;\n}\n\n","import { NgRedux } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { U } from '@kleiolab/lib-utils';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { IAppState } from '../../root/models/model';\nimport { ActionResultObservable, ModifyActionMeta, SchemaActionsFactory, SucceedActionMeta } from './schema-actions-factory';\n\n@Injectable()\nexport class InfActionFactory<Payload, Model> extends SchemaActionsFactory<Payload, Model> {\n\n\n  /**\n   * @param pk is used for facetting\n   */\n  remove: (items: Model[], pk?: number) => ActionResultObservable<Model>;\n\n  /**\n   * @param pk is used for facetting\n   */\n  removeSucceeded: (items: Model[], removePending: string, pk?: number) => void;\n\n  constructor(public ngRedux: NgRedux<IAppState>) {\n    super(ngRedux);\n  }\n\n  createInfActions(actionPrefix: string, modelName: string): InfActionFactory<Payload, Model> {\n    this.createCrudActions(actionPrefix, modelName)\n\n    /**\n     * Call the Redux Action to remove model instances from project.\n     */\n    this.remove = (items: Model[], pk?: number) => {\n      const addPending = U.uuid();\n      const action: FluxStandardAction<Payload, ModifyActionMeta<Model>> = ({\n        type: this.actionPrefix + '.' + this.modelName + '::REMOVE',\n        meta: { items, addPending, pk },\n        payload: null\n      })\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<Model>>(['resolved', addPending]),\n        key: addPending\n      };\n    }\n\n    this.removeSucceeded = (items: Model[], removePending: string, pk?: number) => {\n      const action: FluxStandardAction<Payload, SucceedActionMeta<Model>> = ({\n        type: this.actionPrefix + '.' + this.modelName + '::REMOVE_SUCCEEDED',\n        meta: { items, removePending, pk },\n        payload: null\n      })\n      this.ngRedux.dispatch(action)\n    }\n\n    return this;\n  }\n\n}\n","\nimport { NgRedux } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { DatDigital, InfAppellation, InfDimension, InfLangString, InfLanguage, InfPersistentItem, InfPlace, InfStatement, InfTemporalEntity, InfTextProperty, InfTimePrimitive } from '@kleiolab/lib-sdk-lb3';\nimport { U } from '@kleiolab/lib-utils';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { filter } from 'rxjs/operators';\nimport { IAppState, SchemaObject } from '../../root/models/model';\nimport { InfDimensionSlice, InfPersistentItemSlice } from '../models/inf.models';\nimport { infRoot } from '../reducer-configs/inf.config';\nimport { InfActionFactory } from '../_helpers/inf-action-factory';\nimport { ActionResultObservable, LoadActionMeta, SchemaActionsFactory, SucceedActionMeta } from '../_helpers/schema-actions-factory';\n\n\n\ntype Payload = InfPersistentItemSlice;\n\nexport interface LoadByPkMeta extends LoadActionMeta { pkEntity: number };\nexport type LoadTypesOfProjectAction = LoadActionMeta;\nexport interface LoadTypeOfProjectAction extends LoadActionMeta { pkEntity: number };\ntype LoadNestetedPeItResult = InfPersistentItem[]\n\nexport class InfPersistentItemActionFactory extends InfActionFactory<Payload, InfPersistentItem> {\n\n  // Suffixes of load action types\n  // static readonly NESTED_BY_PK = 'NESTED_BY_PK';\n  static readonly MINIMAL_BY_PK = 'MINIMAL_BY_PK';\n  static readonly TYPES_OF_PROJECT = 'TYPES_OF_PROJECT';\n  static readonly TYPE_OF_PROJECT = 'TYPE_OF_PROJECT';\n\n  loadMinimal: (pkProject: number, pkEntity: number) => ActionResultObservable<SchemaObject>;\n  loadNestedObject: (pkProject: number, pkEntity: number) => ActionResultObservable<LoadNestetedPeItResult>;\n\n  typesOfProject: (pkProject: number) => ActionResultObservable<LoadActionMeta>;\n  // typeOfProject: (pkProject: number, pkEntity: number) => ActionResultObservable<LoadNestetedPeItResult>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): InfPersistentItemActionFactory {\n    Object.assign(this, this.createInfActions(infRoot, 'persistent_item'))\n\n    // this.loadNestedObject = (pkProject: number, pkEntity: number) => {\n    //   const addPending = U.uuid();\n    //   const action: FluxStandardAction<Payload, LoadByPkMeta> = {\n    //     type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + InfPersistentItemActionFactory.NESTED_BY_PK,\n    //     meta: { addPending, pk: pkProject, pkEntity },\n    //     payload: null,\n    //   };\n    //   this.ngRedux.dispatch(action)\n    //   return {\n    //     pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n    //     resolved$: this.ngRedux.select<SucceedActionMeta<LoadNestetedPeItResult>>(['resolved', addPending]).pipe(filter(x => !!x)),\n    //     key: addPending\n    //   };\n    // }\n    this.loadMinimal = (pkProject: number, pkEntity: number) => {\n      const addPending = U.uuid();\n      const action: FluxStandardAction<Payload, LoadByPkMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + InfPersistentItemActionFactory.MINIMAL_BY_PK,\n        meta: { addPending, pk: pkProject, pkEntity },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<SchemaObject>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n\n    this.typesOfProject = (pkProject: number) => {\n      const addPending = U.uuid();\n\n      const action: FluxStandardAction<Payload, LoadTypesOfProjectAction> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + InfPersistentItemActionFactory.TYPES_OF_PROJECT,\n        meta: { addPending, pk: pkProject },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<LoadActionMeta>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n\n    // this.typeOfProject = (pkProject: number, pkEntity: number) => {\n    //   const addPending = U.uuid();\n\n    //   const action: FluxStandardAction<Payload, LoadTypeOfProjectAction> = {\n    //     type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + InfPersistentItemActionFactory.TYPE_OF_PROJECT,\n    //     meta: { addPending, pk: pkProject, pkEntity },\n    //     payload: null,\n    //   };\n    //   this.ngRedux.dispatch(action)\n    //   return {\n    //     pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n    //     resolved$: this.ngRedux.select<SucceedActionMeta<LoadNestetedPeItResult>>(['resolved', addPending]).pipe(filter(x => !!x)),\n    //     key: addPending\n    //   };\n    // }\n\n    return this;\n  }\n\n}\nexport type PaginatedStatements = number[]\nexport interface PaginatedStatementList {\n  count: number,\n  schemas: SchemaObject,\n  paginatedStatements: PaginatedStatements\n}\nexport interface LoadPaginatedStatementListMeta extends LoadActionMeta {\n  pkSourceEntity: number // Pk of the source entity.\n  pkProperty: number // Pk of the property.\n  fkTargetClass: number // Pk of the target class.\n  isOutgoing: boolean // If true, the source entity is domain, else range.\n  limit: number // number of items per page.\n  offset: number // offset.\n  alternatives: boolean\n}\nexport class InfTemporalEntityActionFactory extends InfActionFactory<Payload, InfTemporalEntity> {\n\n  // Suffixes of load action types\n  static readonly OWN_PROPERTIES = 'OWN_PROPERTIES';\n  static readonly PAGINATED_LIST = 'PAGINATED_LIST';\n  static readonly PAGINATED_ALTERNATIVE_LIST = 'PAGINATED_ALTERNATIVE_LIST';\n\n  loadNestedObject: (pkProject: number, pkEntity: number) => ActionResultObservable<InfTemporalEntity[]>;\n  loadPaginatedList: (pkProject: number, pkSourceEntity: number, pkProperty: number, fkTargetClass: number, isOutgoing: boolean, limit: number, offset: number) => ActionResultObservable<PaginatedStatementList>;\n  loadPaginatedAlternativeList: (pkProject: number, pkSourceEntity: number, pkProperty: number, fkTargetClass: number, isOutgoing: boolean, limit: number, offset: number) => ActionResultObservable<PaginatedStatementList>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): InfTemporalEntityActionFactory {\n    Object.assign(this, this.createInfActions(infRoot, 'temporal_entity'))\n\n    this.loadNestedObject = (pkProject: number, pkEntity: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadByPkMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + InfTemporalEntityActionFactory.OWN_PROPERTIES,\n        meta: { addPending, pk: pkProject, pkEntity },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<InfTemporalEntity[]>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n\n    this.loadPaginatedList = (pkProject: number, pkSourceEntity: number, pkProperty: number, fkTargetClass: number, isOutgoing: boolean, limit: number, offset: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadPaginatedStatementListMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + InfTemporalEntityActionFactory.PAGINATED_LIST,\n        meta: {\n          addPending,\n          pk: pkProject,\n          pkSourceEntity,\n          fkTargetClass,\n          pkProperty,\n          isOutgoing,\n          limit,\n          offset,\n          alternatives: false\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<PaginatedStatementList>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n    this.loadPaginatedAlternativeList = (pkProject: number, pkSourceEntity: number, pkProperty: number, fkTargetClass: number, isOutgoing: boolean, limit: number, offset: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadPaginatedStatementListMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + InfTemporalEntityActionFactory.PAGINATED_ALTERNATIVE_LIST,\n        meta: {\n          addPending,\n          pk: pkProject,\n          pkSourceEntity,\n          pkProperty,\n          fkTargetClass,\n          isOutgoing,\n          limit,\n          offset,\n          alternatives: true\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<PaginatedStatementList>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n    return this;\n  }\n}\nexport interface FindStatementByParams extends LoadActionMeta {\n  ofProject: boolean,\n  pkEntity: number,\n  pkInfoRange: number,\n  pkInfoDomain: number,\n  pkProperty: number,\n}\nexport interface ContentTreeMeta extends LoadActionMeta {\n  pkExpressionEntity: number,\n}\nexport interface SourcesAndDigitalsOfEntity extends LoadActionMeta {\n  ofProject: boolean,\n  pkEntity: number,\n}\nexport interface SourcesAndDigitalsOfEntityResult {\n  statements: InfStatement[],\n  digitals: DatDigital[],\n}\n\n\nexport interface LoadOutgoingAlternativeStatements extends LoadActionMeta { pkTemporalEntity: number, pkProperty: number };\nexport interface LoadIngoingAlternativeStatements extends LoadActionMeta { pkEntity: number, pkProperty: number };\nexport interface AddToProjectWithTeEntActionMeta { pkStatements: number[], pk: number, addPending: string };\n\nexport class InfStatementActionFactory extends InfActionFactory<Payload, InfStatement> {\n\n  // Suffixes of load action types\n  // static readonly ALTERNATIVES_OUTGOING = 'ALTERNATIVES_OUTGOING';\n  static readonly ALTERNATIVES_INGOING = 'ALTERNATIVES_INGOING';\n  // static readonly ADD_TO_PROJECT_WITH_TE_EN = 'ADD_TO_PROJECT_WITH_TE_EN';\n  static readonly PAGINATED_LIST = 'PAGINATED_LIST';\n  static readonly CONTENT_TREE = 'CONTENT_TREE';\n  static readonly SOURCES_AND_DIGITALS_OF_ENTITY = 'SOURCES_AND_DIGITALS_OF_ENTITY';\n  static readonly BY_PARAMS = 'BY_PARAMS';\n\n  loadIngoingAlternatives: (pkEntity, pkProperty, pkProjec) => ActionResultObservable<InfStatement>;\n  loadPaginatedList: (pkProject: number, pkSourceEntity: number, pkProperty: number, fkTargetClass: number, isOutgoing: boolean, limit: number, offset: number) => ActionResultObservable<PaginatedStatementList>;\n\n  // contentTree: (pkProject: number, pkExpressionEntity: number) => void;\n  sourcesAndDigitalsOfEntity: (ofProject: boolean, pkProject: number, pkEntity: number) => ActionResultObservable<SourcesAndDigitalsOfEntityResult>;\n  findByParams: (\n    ofProject: boolean,\n    pkProject: number,\n    pkEntity: number,\n    pkInfoRange: number,\n    pkInfoDomain: number,\n    pkProperty: number,\n  ) => void;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): InfStatementActionFactory {\n    Object.assign(this, this.createInfActions(infRoot, 'statement'))\n\n    this.findByParams = (\n      ofProject: boolean,\n      pkProject: number,\n      pkEntity: number,\n      pkInfoRange: number,\n      pkInfoDomain: number,\n      pkProperty: number,\n    ) => {\n      const action: FluxStandardAction<Payload, FindStatementByParams> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + InfStatementActionFactory.BY_PARAMS,\n        meta: {\n          addPending: U.uuid(),\n          pk: pkProject,\n          ofProject,\n          pkEntity,\n          pkInfoRange,\n          pkInfoDomain,\n          pkProperty,\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n    }\n\n\n    this.loadIngoingAlternatives = (pkEntity: number, pkProperty: number, pkProject: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadIngoingAlternativeStatements> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + InfStatementActionFactory.ALTERNATIVES_INGOING,\n        meta: {\n          addPending,\n          pk: pkProject,\n          pkEntity,\n          pkProperty,\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<InfStatement>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n\n    this.loadPaginatedList = (pkProject: number, pkSourceEntity: number, pkProperty: number, fkTargetClass: number, isOutgoing: boolean, limit: number, offset: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadPaginatedStatementListMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + InfStatementActionFactory.PAGINATED_LIST,\n        meta: {\n          addPending,\n          pk: pkProject,\n          pkSourceEntity,\n          fkTargetClass,\n          pkProperty,\n          isOutgoing,\n          limit,\n          offset,\n          alternatives: false\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<PaginatedStatementList>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n\n    /**\n    * Get an nested object with everything needed to display the\n    * links made from an entity towards sources and digitals.\n    */\n    this.sourcesAndDigitalsOfEntity = (ofProject: boolean, pkProject: number, pkEntity: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, SourcesAndDigitalsOfEntity> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + InfStatementActionFactory.SOURCES_AND_DIGITALS_OF_ENTITY,\n        meta: {\n          addPending,\n          ofProject,\n          pk: pkProject,\n          pkEntity\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<SourcesAndDigitalsOfEntityResult>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n    return this;\n  }\n}\n\nexport interface LoadAlternativeTextProperties extends LoadActionMeta { fkEntity: number, fkClassField: number };\n\nexport class InfTextPropertyActionFactory extends InfActionFactory<Payload, InfTextProperty> {\n\n  // Suffixes of load action types\n  static readonly ALTERNATIVES = 'ALTERNATIVES';\n\n  loadAlternatives: (fkEntity, fkClassField, fkProject) => ActionResultObservable<InfTextProperty>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): InfTextPropertyActionFactory {\n    Object.assign(this, this.createInfActions(infRoot, 'text_property'))\n\n    this.loadAlternatives = (fkEntity: number, fkClassField: number, pkProject: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadAlternativeTextProperties> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + InfTextPropertyActionFactory.ALTERNATIVES,\n        meta: {\n          addPending,\n          pk: pkProject,\n          fkEntity,\n          fkClassField,\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<InfTextProperty>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n    return this;\n  }\n}\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class InfActions {\n\n  persistent_item = new InfPersistentItemActionFactory(this.ngRedux).createActions();\n  temporal_entity = new InfTemporalEntityActionFactory(this.ngRedux).createActions()\n  statement = new InfStatementActionFactory(this.ngRedux).createActions()\n\n  // TODO: pimp those up to real Inf Actions!\n  language = new SchemaActionsFactory<Payload, InfLanguage>(this.ngRedux).createCrudActions(infRoot, 'language')\n  appellation = new SchemaActionsFactory<Payload, InfAppellation>(this.ngRedux).createCrudActions(infRoot, 'appellation')\n  lang_string = new SchemaActionsFactory<Payload, InfLangString>(this.ngRedux).createCrudActions(infRoot, 'lang_string')\n  dimension = new SchemaActionsFactory<InfDimensionSlice, InfDimension>(this.ngRedux).createCrudActions(infRoot, 'dimension')\n  place = new SchemaActionsFactory<Payload, InfPlace>(this.ngRedux).createCrudActions(infRoot, 'place')\n  time_primitive = new SchemaActionsFactory<Payload, InfTimePrimitive>(this.ngRedux).createCrudActions(infRoot, 'time_primitive')\n  text_property = new InfTextPropertyActionFactory(this.ngRedux).createActions()\n\n  constructor(public ngRedux: NgRedux<IAppState>) { }\n\n}\n","import { ReducerConfigCollection } from '../_helpers/reducer-factory';\nimport { ProClassFieldConfig, ProDfhClassProjRel, ProTextProperty, ProDfhProfileProjRel } from '@kleiolab/lib-sdk-lb3';\nimport { ProAnalysis } from '@kleiolab/lib-sdk-lb4';\n\nexport const proRoot = 'pro';\n\n\nexport const textPropertyByFksKey = (d: Partial<ProTextProperty>) => `${d.fk_project || null}_${d.fk_system_type || null}_${d.fk_language || null}_${d.fk_dfh_class || null}_${d.fk_dfh_property || null}_${d.fk_dfh_property_domain || null}_${d.fk_dfh_property_range || null}`\nexport const textPropertyByFksWithoutLang = (d: Partial<ProTextProperty>): string => `${d.fk_project || null}_${d.fk_system_type || null}_${d.fk_dfh_class || null}_${d.fk_dfh_property || null}_${d.fk_dfh_property_domain || null}_${d.fk_dfh_property_range || null}`;\nexport const proClassFieldConfgByProjectAndClassKey = (d: Partial<ProClassFieldConfig>): string => {\n  const fk_class = d.fk_range_class || d.fk_domain_class || d.fk_class_for_class_field;\n  return `${d.fk_project || null}_${fk_class || null}`;\n};\n\nexport const proDefinitions: ReducerConfigCollection = {\n  project: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => item.pk_entity.toString()\n    }\n  },\n  info_proj_rel: {\n    indexBy: {\n      keyInStore: 'fk_project__fk_entity',\n      indexByFn: (item) => item.fk_project.toString() + '_' + item.fk_entity.toString()\n    }\n  },\n  class_field_config: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => item.pk_entity.toString()\n    },\n    groupBy: [\n      {\n        keyInStore: 'fk_project__fk_class',\n        groupByFn: proClassFieldConfgByProjectAndClassKey\n      }\n    ]\n  },\n  dfh_class_proj_rel: {\n    indexBy: {\n      keyInStore: 'fk_project__fk_class',\n      indexByFn: (item: ProDfhClassProjRel) => item.fk_project + '_' + item.fk_class\n    },\n    groupBy: [\n      {\n        keyInStore: 'fk_project__enabled_in_entities',\n        groupByFn: (d: ProDfhClassProjRel): string => d.fk_project + '_' + d.enabled_in_entities\n      },\n      {\n        keyInStore: 'fk_project',\n        groupByFn: (d: ProDfhClassProjRel): string => d.fk_project.toString()\n      }\n    ],\n  },\n  dfh_profile_proj_rel: {\n    indexBy: {\n      keyInStore: 'fk_project__fk_profile',\n      indexByFn: (item: ProDfhProfileProjRel) => item.fk_project + '_' + item.fk_profile\n    },\n    groupBy: [\n      {\n        keyInStore: 'fk_project__enabled',\n        groupByFn: (d: ProDfhProfileProjRel): string => d.fk_project + '_' + d.enabled\n      },\n      {\n        keyInStore: 'fk_project',\n        groupByFn: (d: ProDfhProfileProjRel): string => d.fk_project.toString()\n      }\n    ],\n  },\n  text_property: {\n    indexBy: {\n      keyInStore: 'fks',\n      indexByFn: textPropertyByFksKey\n    },\n    groupBy: [\n      {\n        keyInStore: 'fks_without_lang',\n        groupByFn: textPropertyByFksWithoutLang\n      }\n    ]\n  },\n  analysis: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item: ProAnalysis) => item.pk_entity.toString()\n    }\n  }\n}\n","\nimport { NgRedux } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { ProClassFieldConfig, ProDfhClassProjRel, ProDfhProfileProjRel, ProInfoProjRel, ProProject, ProTextProperty } from '@kleiolab/lib-sdk-lb3';\nimport { ProAnalysis } from '@kleiolab/lib-sdk-lb4';\nimport { U } from '@kleiolab/lib-utils';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { filter } from 'rxjs/operators';\nimport { IAppState } from '../../root/models/model';\nimport { ProAnalysisSlice, ProInfoProjRelSlice } from '../models/pro.models';\nimport { proRoot } from '../reducer-configs/pro.config';\nimport { ActionResultObservable, LoadActionMeta, LoadByPkAndVersionActionMeta, SchemaActionsFactory, SucceedActionMeta } from '../_helpers/schema-actions-factory';\n\n\ntype Payload = ProInfoProjRelSlice;\n\nexport class ProProjectActionFactory extends SchemaActionsFactory<Payload, ProProject> {\n\n  // Suffixes of load action types\n  static readonly OF_ACCOUNT = 'OF_ACCOUNT';\n  static readonly LOAD_BASICS = 'LOAD_BASICS';\n\n  loadOfAccount: (pkProject) => ActionResultObservable<ProProject>;\n\n  /**\n   * loads the ProProject and the default InfLanguage\n   */\n  loadBasics: (pkProject) => ActionResultObservable<ProProject>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): ProProjectActionFactory {\n    Object.assign(this, this.createCrudActions(proRoot, 'project'))\n\n    this.loadOfAccount = (pkProject: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadActionMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + ProProjectActionFactory.OF_ACCOUNT,\n        meta: {\n          addPending,\n          pk: pkProject\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<ProProject>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n\n    this.loadBasics = (pkProject: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadActionMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + ProProjectActionFactory.LOAD_BASICS,\n        meta: {\n          addPending,\n          pk: pkProject\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<ProProject>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n\n    return this;\n  }\n}\n\nexport interface MarkStatementAsFavoriteActionMeta {\n  addPending: string,\n  pk: number\n  pkStatement: number\n  isOutgoing: boolean\n}\nexport class ProInfoProjRelActionFactory extends SchemaActionsFactory<Payload, ProInfoProjRel> {\n\n  // Suffixes of load action types\n  static readonly MARK_ROLE_AS_FAVORITE = 'MARK_ROLE_AS_FAVORITE';\n\n  markStatementAsFavorite: (pkProject: number, pkStatement: number, isOutgoing: boolean) => ActionResultObservable<ProInfoProjRel>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): ProInfoProjRelActionFactory {\n    Object.assign(this, this.createCrudActions(proRoot, 'info_proj_rel'))\n\n    this.markStatementAsFavorite = (pkProject: number, pkStatement: number, isOutgoing: boolean) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, MarkStatementAsFavoriteActionMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + ProInfoProjRelActionFactory.MARK_ROLE_AS_FAVORITE,\n        meta: {\n          addPending,\n          pk: pkProject,\n          pkStatement: pkStatement,\n          isOutgoing\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<ProInfoProjRel>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n    return this;\n  }\n}\n\n\nexport class ProDfhClassProjRelActionFactory extends SchemaActionsFactory<Payload, ProDfhClassProjRel> {\n\n  // Suffixes of load action types\n  static readonly OF_PROJECT = 'OF_PROJECT';\n\n  loadOfProject: (pkProject) => ActionResultObservable<ProDfhClassProjRel>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): ProDfhClassProjRelActionFactory {\n    Object.assign(this, this.createCrudActions(proRoot, 'dfh_class_proj_rel'))\n\n    this.loadOfProject = (pkProject: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadActionMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + ProDfhClassProjRelActionFactory.OF_PROJECT,\n        meta: {\n          addPending,\n          pk: pkProject\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<ProDfhClassProjRel>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n    return this;\n  }\n}\n\n\nexport class ProDfhProfileProjRelActionFactory extends SchemaActionsFactory<Payload, ProDfhProfileProjRel> {\n\n  // Suffixes of load action types\n  static readonly OF_PROJECT = 'OF_PROJECT';\n\n  loadOfProject: (pkProject) => ActionResultObservable<ProDfhProfileProjRel>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): ProDfhProfileProjRelActionFactory {\n    Object.assign(this, this.createCrudActions(proRoot, 'dfh_profile_proj_rel'))\n\n    this.loadOfProject = (pkProject: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadActionMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + ProDfhProfileProjRelActionFactory.OF_PROJECT,\n        meta: {\n          addPending,\n          pk: pkProject\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<ProDfhProfileProjRel>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n    return this;\n  }\n}\n\nexport class ProClassFieldConfigActionFactory extends SchemaActionsFactory<Payload, ProClassFieldConfig> {\n\n  // Suffixes of load action types\n  static readonly OF_PROJECT = 'OF_PROJECT';\n\n  loadOfProject: (pkProject) => ActionResultObservable<ProClassFieldConfig>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): ProClassFieldConfigActionFactory {\n    Object.assign(this, this.createCrudActions(proRoot, 'class_field_config'))\n\n    this.loadOfProject = (pkProject: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadActionMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + ProClassFieldConfigActionFactory.OF_PROJECT,\n        meta: {\n          addPending,\n          pk: pkProject\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<ProClassFieldConfig>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n    return this;\n  }\n}\n\nexport class ProTextPropertyActionFactory extends SchemaActionsFactory<Payload, ProTextProperty> {\n\n  // Suffixes of load action types\n  static readonly OF_PROJECT = 'OF_PROJECT';\n\n  loadOfProject: (pkProject) => ActionResultObservable<ProTextProperty>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): ProTextPropertyActionFactory {\n    Object.assign(this, this.createCrudActions(proRoot, 'text_property'))\n\n    this.loadOfProject = (pkProject: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadActionMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + ProTextPropertyActionFactory.OF_PROJECT,\n        meta: {\n          addPending,\n          pk: pkProject\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<ProTextProperty>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n    return this;\n  }\n}\n\nexport class ProAnalysisActionFactory extends SchemaActionsFactory<ProAnalysisSlice, ProAnalysis> {\n\n  // Suffixes of load action types\n  static readonly BY_PK_AND_VERSION = 'BY_PK_AND_VERSION';\n\n  loadByIdAndVersion: (pkProject: number, pkEntity: number, version: number) => ActionResultObservable<ProAnalysis>;\n\n  constructor(public ngRedux: NgRedux<IAppState>) { super(ngRedux) }\n\n  createActions(): ProAnalysisActionFactory {\n    Object.assign(this, this.createCrudActions(proRoot, 'analysis'))\n\n    this.loadByIdAndVersion = (pkProject: number, pkEntity: number, version: number) => {\n      const addPending = U.uuid()\n      const action: FluxStandardAction<Payload, LoadByPkAndVersionActionMeta> = {\n        type: this.actionPrefix + '.' + this.modelName + '::LOAD' + '::' + ProAnalysisActionFactory.BY_PK_AND_VERSION,\n        meta: {\n          addPending,\n          pk: pkProject,\n          pkEntity,\n          version\n        },\n        payload: null,\n      };\n      this.ngRedux.dispatch(action)\n      return {\n        pending$: this.ngRedux.select<boolean>(['pending', addPending]),\n        resolved$: this.ngRedux.select<SucceedActionMeta<ProAnalysis>>(['resolved', addPending]).pipe(filter(x => !!x)),\n        key: addPending\n      };\n    }\n\n    return this;\n  }\n}\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProActions {\n  project = new ProProjectActionFactory(this.ngRedux).createActions()\n  info_proj_rel = new ProInfoProjRelActionFactory(this.ngRedux).createActions()\n  text_property = new ProTextPropertyActionFactory(this.ngRedux).createActions()\n  dfh_class_proj_rel = new ProDfhClassProjRelActionFactory(this.ngRedux).createActions()\n  dfh_profile_proj_rel = new ProDfhProfileProjRelActionFactory(this.ngRedux).createActions()\n  class_field_config = new ProClassFieldConfigActionFactory(this.ngRedux).createActions()\n  analysis = new ProAnalysisActionFactory(this.ngRedux).createActions()\n\n  constructor(public ngRedux: NgRedux<IAppState>) { }\n\n}\n","import { ReducerConfigCollection } from '../_helpers/reducer-factory';\nimport { SysSystemRelevantClass } from '@kleiolab/lib-sdk-lb3';\n\nexport const sysRoot = 'sys';\n\nexport const sysDefinitions: ReducerConfigCollection = {\n  system_relevant_class: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item) => {\n        return item.pk_entity.toString()\n      }\n    },\n    groupBy: [\n      {\n        keyInStore: 'fk_class',\n        groupByFn: (d: SysSystemRelevantClass): string => d.fk_class.toString()\n      },\n      {\n        keyInStore: 'required_by_sources',\n        groupByFn: (d: SysSystemRelevantClass): string => d.required_by_sources.toString()\n      },\n      {\n        keyInStore: 'required',\n        groupByFn: (d: SysSystemRelevantClass): string => (d.required_by_sources || d.required_by_entities || d.required_by_basics) ? 'true' : 'false'\n      }\n    ]\n  },\n  config: {\n    indexBy: {\n      keyInStore: 'main',\n      indexByFn: () => 'main'\n    }\n  }\n}\n","import { NgRedux } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { SysSystemRelevantClass } from '@kleiolab/lib-sdk-lb3';\nimport { SysConfigValue } from '@kleiolab/lib-sdk-lb4';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { IAppState } from '../../root/models/model';\nimport { Sys } from '../models/sys.models';\nimport { sysRoot } from '../reducer-configs/sys.config';\nimport { SchemaActionsFactory } from '../_helpers/schema-actions-factory';\n\ntype Payload = Sys;\ninterface MetaData {\n  systemRelevantClasses?: SysSystemRelevantClass[]\n};\nexport type SysAction = FluxStandardAction<Payload, MetaData>;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SysActions {\n\n  system_relevant_class = new SchemaActionsFactory<Payload, SysSystemRelevantClass>\n    (this.ngRedux).createCrudActions(sysRoot, 'system_relevant_class');\n\n  // analysis_type = new StandardActionsFactory<Payload, SysAnalysisType>\n  //   (this.ngRedux).createCrudActions(sysRoot, 'analysis_type');\n\n\n  config = new SchemaActionsFactory<Payload, SysConfigValue>\n    (this.ngRedux).createCrudActions(sysRoot, 'config');\n\n  constructor(public ngRedux: NgRedux<IAppState>) { }\n\n}\n","import { ReducerConfigCollection } from '../_helpers/reducer-factory';\nimport { TabCell } from '@kleiolab/lib-sdk-lb4';\n\nexport const tabRoot = 'tab';\n\nexport const tabDefinitions: ReducerConfigCollection = {\n  cell: {\n    indexBy: {\n      keyInStore: 'pk_cell',\n      indexByFn: (item: TabCell) => item.pk_cell.toString()\n    },\n    groupBy: [\n      {\n        keyInStore: 'fk_column_fk_row',\n        groupByFn: (item: TabCell): string => item.fk_column + '_' + item.fk_row\n      }\n    ]\n  }\n}\n","import { NgRedux } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { TabCell } from '@kleiolab/lib-sdk-lb4';\nimport { IAppState } from '../../root/models/model';\nimport { TabCellSlice } from '../models/tab.models';\nimport { tabRoot } from '../reducer-configs/tab.config';\nimport { SchemaActionsFactory } from '../_helpers/schema-actions-factory';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TabActions {\n\n  cell = new SchemaActionsFactory<TabCellSlice, TabCell>(this.ngRedux).createCrudActions(tabRoot, 'cell')\n\n  constructor(public ngRedux: NgRedux<IAppState>) { }\n\n}\n","import { ReducerConfigCollection } from '../_helpers/reducer-factory';\nimport { WarEntityPreview } from '@kleiolab/lib-sdk-lb4';\n\nexport const warRoot = 'war';\n\nexport const warDefinitions: ReducerConfigCollection = {\n  entity_preview: {\n    indexBy: {\n      keyInStore: 'pk_entity',\n      indexByFn: (item: WarEntityPreview) => item.pk_entity.toString()\n    }\n  }\n}\n","\nimport { NgRedux } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { WarEntityPreview } from '@kleiolab/lib-sdk-lb4';\nimport { IAppState } from '../../root/models/model';\nimport { WarEntityPreviewSlice } from '../models/war.models';\nimport { warRoot } from '../reducer-configs/war.config';\nimport { SchemaActionsFactory } from '../_helpers/schema-actions-factory';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WarActions {\n  entity_preview = new SchemaActionsFactory<WarEntityPreviewSlice, WarEntityPreview>(this.ngRedux).createCrudActions(warRoot, 'entity_preview')\n\n  constructor(public ngRedux: NgRedux<IAppState>) { }\n}\n","import { Injectable } from '@angular/core';\nimport { SchemaObjectApi } from '@kleiolab/lib-sdk-lb3';\nimport { GvSchemaObject } from '@kleiolab/lib-sdk-lb4';\nimport { Observable, Subject } from 'rxjs';\nimport { SchemaObject } from '../../root/models/model';\nimport { NotificationsAPIActions } from '../../state-gui/actions/notifications.actions';\nimport { DatActions } from '../actions/dat.actions';\nimport { DfhActions } from '../actions/dfh.actions';\nimport { InfActions } from '../actions/inf.actions';\nimport { ProActions } from '../actions/pro.actions';\nimport { SysActions } from '../actions/sys.actions';\nimport { TabActions } from '../actions/tab.actions';\nimport { WarActions } from '../actions/war.actions';\n\n@Injectable({\n  providedIn: 'root'\n})\n/**\n * Class to put schema objects into store\n */\nexport class SchemaService {\n\n  schemaObjectStored$ = new Subject<GvSchemaObject>()\n\n  constructor(\n    public api: SchemaObjectApi,\n    public infActions: InfActions,\n    public proActions: ProActions,\n    public datActions: DatActions,\n    public warActions: WarActions,\n    public tabActions: TabActions,\n    public dfhActions: DfhActions,\n    public sysActions: SysActions,\n    public notifications: NotificationsAPIActions,\n  ) { }\n\n\n  /**\n   * watches an Observable<SchemaObject>\n   * on success stores the parts of the object at right place of store\n   * on error emits error message\n   *\n   * @param apiCall$\n   * @param pkProject primary key of project or 'ofRepo', if repo versions\n   */\n  store(apiCall$: Observable<SchemaObject>, pkProject: number | 'ofRepo'): Observable<SchemaObject> {\n\n\n    const s$ = new Subject<SchemaObject>()\n    apiCall$.subscribe(\n      result => {\n        this.storeSchemaObject(result, pkProject === 'ofRepo' ? null : pkProject)\n        s$.next(result)\n      },\n      error => {\n        this.notifications.addToast({\n          type: 'error',\n          options: { title: error.message }\n        })\n        s$.error(error)\n      }\n    )\n    return s$\n  }\n\n  /**\n   * watches an Observable<SchemaObject>\n   * on success stores the parts of the object at right place of store\n   * on error emits error message\n   *\n   * @param apiCall$\n   * @param pkProject primary key of project or 'ofRepo', if repo versions\n   */\n  storeGv(apiCall$: Observable<GvSchemaObject>, pkProject: number | 'ofRepo'): Observable<GvSchemaObject> {\n\n    const s$ = new Subject<GvSchemaObject>()\n    apiCall$.subscribe(\n      result => {\n        this.storeSchemaObjectGv(result, pkProject === 'ofRepo' ? null : pkProject)\n        s$.next(result)\n      },\n      error => {\n        this.notifications.addToast({\n          type: 'error',\n          options: { title: error.message }\n        })\n        s$.error(error)\n      }\n    )\n    return s$\n  }\n\n  /**\n   *\n   * @param object\n   * @param pkProject primary key of project or null, if repo versions\n   */\n  storeSchemaObject(object: SchemaObject, pkProject: number | null) {\n    if (object && Object.keys(object).length > 0) {\n      Object.keys(object).forEach(schema => {\n        let actions;\n        if (schema === 'inf') actions = this.infActions;\n        else if (schema === 'pro') actions = this.proActions;\n        else if (schema === 'dat') actions = this.datActions;\n        else if (schema === 'war') actions = this.warActions;\n        if (actions) {\n          Object.keys(object[schema]).forEach(model => {\n            actions[model].loadSucceeded(object[schema][model], undefined, pkProject);\n          });\n        }\n      });\n    }\n  }\n\n  /**\n   *\n   * @param object\n   * @param pkProject primary key of project or null, if repo versions\n   */\n  storeSchemaObjectGv(object: GvSchemaObject, pkProject: number | null) {\n    if (object && Object.keys(object).length > 0) {\n      Object.keys(object).forEach(schema => {\n        let actions;\n        if (schema === 'inf') actions = this.infActions;\n        else if (schema === 'pro') actions = this.proActions;\n        else if (schema === 'dat') actions = this.datActions;\n        else if (schema === 'war') actions = this.warActions;\n        else if (schema === 'tab') actions = this.tabActions;\n        else if (schema === 'dfh') actions = this.dfhActions;\n        else if (schema === 'sys') actions = this.sysActions;\n        if (actions) {\n          Object.keys(object[schema]).forEach(model => {\n            actions[model].loadSucceeded(object[schema][model], undefined, pkProject);\n          });\n        }\n      });\n      this.schemaObjectStored$.next(object)\n    }\n  }\n\n}\n","import { NgRedux } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { SysConfig } from '@kleiolab/lib-config';\nimport { ProProject, ProProjectApi, ProTextProperty } from '@kleiolab/lib-sdk-lb3';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { omit } from 'ramda';\nimport { Action } from 'redux';\nimport { combineEpics, Epic, ofType } from 'redux-observable-es6-compat';\nimport { combineLatest, Observable } from 'rxjs';\nimport { filter, map, mapTo, mergeMap, switchMap } from 'rxjs/operators';\nimport { IAppState } from '../../root/models/model';\nimport { ActiveProjectAction, ActiveProjectActions } from '../../state-gui/actions/active-project.action';\nimport { LoadingBarActions } from '../../state-gui/actions/loading-bar.actions';\nimport { NotificationsAPIActions } from '../../state-gui/actions/notifications.actions';\nimport { DatActions } from '../../state-schema/actions/dat.actions';\nimport { DfhActions } from '../../state-schema/actions/dfh.actions';\nimport { InfActions } from '../../state-schema/actions/inf.actions';\nimport { ProActions } from '../../state-schema/actions/pro.actions';\nimport { SysActions } from '../../state-schema/actions/sys.actions';\nimport { SchemaService } from '../../state-schema/services/schema.service';\nimport { ProjectPreview } from '../models/active-project.models';\n\nfunction firstProTextPropStringOfType(textProperties: ProTextProperty[], fkSystemType): string {\n  return (textProperties.find(t => t.fk_system_type === fkSystemType) || { string: '' }).string\n}\n/**\n * Transform ProProject to ProjectPreview\n */\nfunction proProjectToProjectPreview(project: ProProject): ProjectPreview {\n  return {\n    label: firstProTextPropStringOfType(project.text_properties, SysConfig.PK_SYSTEM_TYPE__TEXT_PROPERTY__LABEL),\n    description: firstProTextPropStringOfType(project.text_properties, SysConfig.PK_SYSTEM_TYPE__TEXT_PROPERTY__DESCRIPTION),\n    default_language: project.default_language,\n    pk_project: project.pk_entity\n  }\n}\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ActiveProjectEpics {\n  constructor(\n    private sys: SysActions,\n    private dat: DatActions,\n    private dfh: DfhActions,\n    private pro: ProActions,\n    private inf: InfActions,\n    private projectApi: ProProjectApi,\n    private actions: ActiveProjectActions,\n    private notificationActions: NotificationsAPIActions,\n    private loadingBarActions: LoadingBarActions,\n    private ngRedux: NgRedux<IAppState>,\n    private schemaObj: SchemaService\n  ) { }\n\n  public createEpics(): Epic<FluxStandardAction<any>, FluxStandardAction<any>, void, any> {\n    return combineEpics(\n      this.createLoadProjectBasicsEpic(),\n      this.createLoadProjectConfigEpic(),\n      this.createLoadProjectUpdatedEpic(),\n      this.createClosePanelEpic(),\n      this.createActivateTabFocusPanelEpic(),\n      this.createMoveTabFocusPanelEpic(),\n      this.createClosePanelFocusPanelEpic(),\n      this.createSplitPanelActivateTabEpic(),\n      this.createAddTabCloseListEpic(),\n    );\n  }\n\n  /**\n   * This epic listenes to an action that wants to load tha active project (by id)\n   * It loads the project info and\n   * - on loaded dispaches an action that reduces the project into the store\n   * - on fail dispaches an action that shows an error notification\n   */\n  private createLoadProjectBasicsEpic(): Epic<FluxStandardAction<any>, FluxStandardAction<any>, void, any> {\n    return (action$, store) => action$.pipe(\n\n      ofType(ActiveProjectActions.LOAD_PROJECT_BASICS),\n      switchMap((action: ActiveProjectAction) => new Observable<Action>((globalStore) => {\n        /**\n       * Emit the global action that activates the loading bar\n       */\n        globalStore.next(this.loadingBarActions.startLoading());\n\n        this.projectApi.getBasics(action.meta.pk_project)\n          .subscribe(\n            (data: ProProject[]) => {\n              globalStore.next(this.actions.loadProjectBasiscsSucceded(proProjectToProjectPreview(data[0])))\n              this.schemaObj.storeSchemaObject({\n                inf: { language: [data[0].default_language] },\n                pro: { project: [omit(['default_language'], data[0])] }\n              }, action.meta.pk_project)\n            },\n            error => {\n              globalStore.next(this.notificationActions.addToast({\n                type: 'error',\n                options: { title: error.message }\n              }))\n            })\n      }))\n\n    )\n  }\n\n  /**\n  * This epic listenes to an action that is dispached when loading projcect succeeded\n  *\n  * It dispaches an action that completes the loading bar\n  */\n  private createLoadProjectUpdatedEpic(): Epic<FluxStandardAction<any>, FluxStandardAction<any>, void, any> {\n    return (action$, store) => action$.pipe(\n      ofType(ActiveProjectActions.LOAD_PROJECT_BASICS_SUCCEEDED),\n      mapTo(this.loadingBarActions.completeLoading())\n    )\n  }\n\n  private createLoadProjectConfigEpic(): Epic<FluxStandardAction<any>, FluxStandardAction<any>, void, any> {\n    return (action$, store) => action$.pipe(\n\n      ofType(ActiveProjectActions.LOAD_PROJECT_CONFIG),\n      switchMap((action: ActiveProjectAction) => new Observable<Action>((globalStore) => {\n        globalStore.next(this.loadingBarActions.startLoading());\n\n        combineLatest(\n          this.dfh.profile.loadOfProject(action.meta.pk_project).resolved$.pipe(filter(x => !!x)),\n\n          this.dfh.klass.loadOfProject(action.meta.pk_project).resolved$.pipe(filter(x => !!x)),\n          this.dfh.property.loadOfProject(action.meta.pk_project).resolved$.pipe(filter(x => !!x)),\n          this.dfh.label.loadOfProject(action.meta.pk_project).resolved$.pipe(filter(x => !!x)),\n\n          this.sys.system_relevant_class.load().resolved$.pipe(filter(x => !!x)),\n          this.sys.config.load().resolved$.pipe(filter(x => !!x)),\n          this.dat.namespace.load('', action.meta.pk_project).resolved$.pipe(filter(x => !!x)),\n\n          this.pro.text_property.loadOfProject(action.meta.pk_project).resolved$.pipe(filter(x => !!x)),\n          this.pro.dfh_class_proj_rel.loadOfProject(action.meta.pk_project).resolved$.pipe(filter(x => !!x)),\n          this.pro.dfh_profile_proj_rel.loadOfProject(action.meta.pk_project).resolved$.pipe(filter(x => !!x)),\n          this.pro.class_field_config.loadOfProject(action.meta.pk_project).resolved$.pipe(filter(x => !!x)),\n\n          this.inf.persistent_item.typesOfProject(action.meta.pk_project).resolved$.pipe(filter(x => !!x))\n        )\n          .pipe(filter((res: any[]) => !res.includes(undefined)))\n          .subscribe((res) => {\n\n            globalStore.next(this.actions.loadProjectConfigSucceeded());\n            globalStore.next(this.loadingBarActions.completeLoading());\n\n          }, error => {\n            // subStore.dispatch(this.actions.loadFailed({ status: '' + error.status }))\n          });\n\n      }))\n\n    )\n  }\n\n\n  /**\n   * LAYOUT\n   */\n  private createClosePanelEpic(): Epic {\n    return (action$, store) => {\n      return action$.pipe(\n        ofType(ActiveProjectActions.CLOSE_TAB, ActiveProjectActions.MOVE_TAB, ActiveProjectActions.SPLIT_PANEL),\n        mergeMap((action: ActiveProjectAction) => new Observable<Action>((globalStore) => {\n          this.ngRedux.getState().activeProject.panels.forEach((panel, panelIndex) => {\n            if (panel.tabs.length === 0) globalStore.next(this.actions.closePanel(panelIndex));\n          })\n        }))\n      )\n    }\n  }\n  private createSplitPanelActivateTabEpic(): Epic {\n    return (action$, store) => {\n      return action$.pipe(\n        ofType(ActiveProjectActions.SPLIT_PANEL),\n        map((action: ActiveProjectAction) => {\n          const p = this.ngRedux.getState().activeProject;\n          const c = action.meta.currentPanelIndex;\n          const panelIndex = p.panels.length < (c + 1) ? c - 1 : c;\n          return this.actions.activateTab(panelIndex, 0)\n        })\n      )\n    }\n  }\n  private createActivateTabFocusPanelEpic(): Epic {\n    return (action$, store) => {\n      return action$.pipe(\n        ofType(ActiveProjectActions.ACTIVATE_TAB),\n        mergeMap((action: ActiveProjectAction) => new Observable<Action>((globalStore) => {\n          if (this.ngRedux.getState().activeProject.focusedPanel !== action.meta.panelIndex) {\n            globalStore.next(this.actions.focusPanel(action.meta.panelIndex));\n          }\n        }))\n      )\n    }\n  }\n  private createMoveTabFocusPanelEpic(): Epic {\n    return (action$, store) => {\n      return action$.pipe(\n        ofType(ActiveProjectActions.MOVE_TAB),\n        mergeMap((action: ActiveProjectAction) => new Observable<Action>((globalStore) => {\n          if (this.ngRedux.getState().activeProject.focusedPanel !== action.meta.currentPanelIndex) {\n            globalStore.next(this.actions.focusPanel(action.meta.currentPanelIndex));\n          }\n        }))\n      )\n    }\n  }\n  private createClosePanelFocusPanelEpic(): Epic {\n    return (action$, store) => {\n      return action$.pipe(\n        ofType(ActiveProjectActions.CLOSE_PANEL),\n        mergeMap((action: ActiveProjectAction) => new Observable<Action>((globalStore) => {\n          if (this.ngRedux.getState().activeProject.focusedPanel > (this.ngRedux.getState().activeProject.panels.length - 1)) {\n            globalStore.next(this.actions.focusPanel(0));\n          }\n        }))\n      )\n    }\n  }\n  private createAddTabCloseListEpic(): Epic {\n    return (action$, store) => {\n      return action$.pipe(\n        ofType(ActiveProjectActions.ADD_TAB),\n        mapTo(this.actions.setListType(''))\n      )\n    }\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { SlimLoadingBarService } from '@cime/ngx-slim-loading-bar';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { combineEpics, Epic, ofType } from 'redux-observable-es6-compat';\nimport { Observable } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\nimport { LoadingBarActions } from '../../state-gui/actions/loading-bar.actions';\n\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoadingBarEpics {\n  constructor(\n    private service: SlimLoadingBarService,\n  ) { }\n\n  public createEpics(): Epic<FluxStandardAction<any>, FluxStandardAction<any>, void, any> {\n    return combineEpics(\n      this.createStartLoadingBarEpic(),\n      this.createCompleteLoadingBarEpic()\n    );\n  }\n\n  private createCompleteLoadingBarEpic(): Epic {\n    return (action$, store) => action$.pipe(\n      ofType(LoadingBarActions.COPMLETE),\n      switchMap(() => {\n        return Observable.create(observer => {\n          this.service.complete()\n          // observer.next(this.actions.stopLoading())\n        })\n      })\n    )\n  }\n\n  private createStartLoadingBarEpic(): Epic {\n    return (action$, store) => action$.pipe(\n      ofType(LoadingBarActions.START),\n      switchMap(() => {\n        return Observable.create(observer => {\n          this.service.start();\n        })\n      })\n    )\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ToastyConfig, ToastyService } from '@cime/ngx-toasty';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { combineEpics, Epic, ofType } from 'redux-observable-es6-compat';\nimport { Observable } from 'rxjs';\nimport { filter, switchMap } from 'rxjs/operators';\nimport { NotificationsAPIAction, NotificationsAPIActions } from '../../state-gui/actions/notifications.actions';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NotificationsAPIEpics {\n  constructor(\n    private toastyService: ToastyService,\n    private toastyConfig: ToastyConfig\n  ) {\n    // Assign the selected theme name to the `theme` property of the instance of ToastyConfig.\n    // Possible values: default, bootstrap, material\n    this.toastyConfig.theme = 'bootstrap';\n  }\n\n  public createEpics(): Epic {\n    return combineEpics(this.createAddToastEpic());\n  }\n\n  private createAddToastEpic(): Epic {\n    return (action$, store) => {\n      return action$.pipe(\n        /**\n         * Filter the actions that triggers this epic\n         */\n        filter((a) => {\n          return a;\n        }),\n        ofType(NotificationsAPIActions.ADD_TOAST),\n        switchMap((action) => new Observable<FluxStandardAction<any>>((observer) => {\n          /**\n           * Add Toast\n           */\n          const a = action as NotificationsAPIAction;\n          if (!a.payload.options.title && !a.payload.options.msg) {\n            if (a.payload.type === 'error') {\n              a.payload.options.title = 'Oops, something went wrong!'\n            }\n          }\n          this.toastyService[a.payload.type](a.payload.options);\n\n        })),\n      )\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActionsObservable, combineEpics, Epic } from 'redux-observable-es6-compat';\nimport { of } from 'rxjs';\nimport { filter, switchMap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ActionResolverEpics {\n\n  // requestMap: { [uuid: string]: ActionResultObservable<any> } = {};\n\n  constructor() { }\n\n  createEpics = () => combineEpics(this.createResolveEpic());\n  private createResolveEpic(): Epic {\n    return (action$: ActionsObservable<any>, store) => action$.pipe(\n      filter(action => !!action && !!action.meta && !!action.meta.removePending),\n\n      switchMap(action => (of({ type: 'CLEAN_UP_RESOLVED', meta: { uuid: action.meta.removePending } }))),\n    )\n  }\n\n\n\n}\n","import { DatChunk, DatDigital, InfAppellation, InfDimension, InfLangString, InfLanguage, InfPersistentItem, InfPlace, InfStatement, InfTemporalEntity, InfTextProperty, InfTimePrimitive, ProClassFieldConfig, ProDfhClassProjRel, ProDfhProfileProjRel, ProInfoProjRel, ProProject, ProTextProperty } from '@kleiolab/lib-sdk-lb3';\nimport { ProAnalysis } from '@kleiolab/lib-sdk-lb4';\nimport { keys, omit, values } from 'ramda';\nimport { DatActions } from '../actions/dat.actions';\nimport { InfActions } from '../actions/inf.actions';\nimport { ProActions } from '../actions/pro.actions';\nimport { ChunkSlice, DigitalSlice } from '../models/dat.models';\nimport { InfAppellationSlice, InfDimensionSlice, InfLangStringSlice, InfLanguageSlice, InfPersistentItemSlice, InfPlaceSlice, InfTextPropertySlice, InfTimePrimitiveSlice } from '../models/inf.models';\nimport { ProAnalysisSlice, ProClassFieldConfigSlice, ProDfhClassProjRelSlice, ProDfhProfileProjRelSlice, ProInfoProjRelSlice, ProProjectSlice, ProTextPropertySlice } from '../models/pro.models';\nimport { SchemaActionsFactory } from './schema-actions-factory';\n\nclass ModelFlattener<Payload, Model> {\n  items: Model[]\n  constructor(\n    public actions: SchemaActionsFactory<Payload, Model>,\n    public modelDefinition: any,\n    public flattenCb: (items: Model[]) => void,\n  ) { }\n\n  flatten(items: Model[]) {\n    if (items && items.length > 0) {\n\n      this.flattenCb(items);\n      // todo remove properties of those objects, using getModelDefinition()\n      const keysToOmit = keys(this.modelDefinition.relations).map(item => item.toString())\n      this.items = [\n        ...(this.items || []),\n        ...items.filter(item => !!item && Object.keys(item).length > 0)\n          .map(item => omit(keysToOmit, item)) as Model[]\n      ]\n    }\n    return true;\n  }\n\n}\n\ninterface FlattenerInterface {\n  [key: string]: ModelFlattener<any, any>\n}\n\n/**\n * Flattener is the class used to flatten nested objects.\n * Use storeFlattened() to call all actions to put the\n * flattened items into the store.\n */\nexport class Flattener {\n\n\n\n  info_proj_rel = new ModelFlattener<ProInfoProjRelSlice, ProInfoProjRel>(\n    this.proActions.info_proj_rel,\n    ProInfoProjRel.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new ProInfoProjRel(item);\n      })\n    })\n\n  pro_dfh_class_proj_rel = new ModelFlattener<ProDfhClassProjRelSlice, ProDfhClassProjRel>(\n    this.proActions.dfh_class_proj_rel,\n    ProDfhClassProjRel.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new ProDfhClassProjRel(item);\n      })\n    })\n\n  pro_dfh_profile_proj_rel = new ModelFlattener<ProDfhProfileProjRelSlice, ProDfhProfileProjRel>(\n    this.proActions.dfh_profile_proj_rel,\n    ProDfhProfileProjRel.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new ProDfhProfileProjRel(item);\n      })\n    })\n\n\n  persistent_item = new ModelFlattener<InfPersistentItemSlice, InfPersistentItem>(\n    this.infActions.persistent_item,\n    InfPersistentItem.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new InfPersistentItem(item);\n        this.statement.flatten(item.incoming_statements)\n        this.statement.flatten(item.outgoing_statements)\n        this.text_property.flatten(item.text_properties)\n        this.info_proj_rel.flatten(item.entity_version_project_rels)\n      })\n    })\n\n  temporal_entity = new ModelFlattener<InfPersistentItemSlice, InfTemporalEntity>(\n    this.infActions.temporal_entity,\n    InfTemporalEntity.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new InfTemporalEntity(item);\n        this.statement.flatten(item.outgoing_statements)\n        this.statement.flatten(item.incoming_statements)\n        this.text_property.flatten(item.text_properties)\n        this.info_proj_rel.flatten(item.entity_version_project_rels)\n      })\n    })\n\n\n  statement = new ModelFlattener<InfPersistentItemSlice, InfStatement>(\n    this.infActions.statement,\n    InfStatement.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new InfStatement(item);\n        this.info_proj_rel.flatten(item.entity_version_project_rels)\n\n        // Subject\n        if (item.subject_temporal_entity) this.temporal_entity.flatten([item.subject_temporal_entity])\n        else if (item.subject_statement) this.statement.flatten([item.subject_statement])\n\n        // Object\n        if (item.object_persistent_item) this.persistent_item.flatten([item.object_persistent_item])\n        else if (item.object_appellation) this.appellation.flatten([item.object_appellation])\n        else if (item.object_place) this.place.flatten([item.object_place])\n        else if (item.object_time_primitive) this.time_primitive.flatten([item.object_time_primitive])\n        else if (item.object_language) this.language.flatten([item.object_language])\n        else if (item.subject_chunk) this.chunk.flatten([item.subject_chunk])\n        else if (item.object_lang_string) this.lang_string.flatten([item.object_lang_string])\n        else if (item.object_dimension) this.dimension.flatten([item.object_dimension])\n      })\n    })\n\n  appellation = new ModelFlattener<InfAppellationSlice, InfAppellation>(\n    this.infActions.appellation,\n    InfAppellation.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new InfAppellation(item);\n      })\n    })\n\n\n  place = new ModelFlattener<InfPlaceSlice, InfPlace>(\n    this.infActions.place,\n    InfPlace.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new InfPlace(item);\n      })\n    })\n\n  time_primitive = new ModelFlattener<InfTimePrimitiveSlice, InfTimePrimitive>(\n    this.infActions.time_primitive,\n    InfTimePrimitive.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new InfTimePrimitive(item);\n      })\n    })\n\n  language = new ModelFlattener<InfLanguageSlice, InfLanguage>(\n    this.infActions.language,\n    InfLanguage.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new InfLanguage(item);\n      })\n    })\n\n  lang_string = new ModelFlattener<InfLangStringSlice, InfLangString>(\n    this.infActions.lang_string,\n    InfLangString.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new InfLangString(item);\n        this.language.flatten([item.language])\n        this.info_proj_rel.flatten(item.entity_version_project_rels)\n      })\n    })\n\n  dimension = new ModelFlattener<InfDimensionSlice, InfDimension>(\n    this.infActions.dimension,\n    InfDimension.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new InfDimension(item);\n        this.info_proj_rel.flatten(item.entity_version_project_rels)\n      })\n    })\n\n  text_property = new ModelFlattener<InfTextPropertySlice, InfTextProperty>(\n    this.infActions.text_property,\n    InfTextProperty.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new InfTextProperty(item);\n        this.language.flatten([item.language])\n        this.info_proj_rel.flatten(item.entity_version_project_rels)\n      })\n    })\n\n  digital = new ModelFlattener<DigitalSlice, DatDigital>(\n    this.datActions.digital,\n    DatDigital.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new DatDigital(item);\n      })\n    })\n\n  chunk = new ModelFlattener<ChunkSlice, DatChunk>(\n    this.datActions.chunk,\n    DatChunk.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new DatChunk(item);\n        this.statement.flatten(item.outgoing_statements)\n      })\n    })\n\n  pro_project = new ModelFlattener<ProProjectSlice, ProProject>(\n    this.proActions.project,\n    ProProject.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new ProProject(item);\n        this.language.flatten([item.default_language])\n      })\n    })\n\n  pro_text_property = new ModelFlattener<ProTextPropertySlice, ProTextProperty>(\n    this.proActions.text_property,\n    ProTextProperty.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new ProTextProperty(item);\n        this.language.flatten([item.language])\n      })\n    })\n\n\n  pro_class_field_config = new ModelFlattener<ProClassFieldConfigSlice, ProClassFieldConfig>(\n    this.proActions.class_field_config,\n    ProClassFieldConfig.getModelDefinition(),\n    (items) => {\n      items.forEach(item => {\n        item = new ProClassFieldConfig(item);\n      })\n    })\n\n\n  analysis = new ModelFlattener<ProAnalysisSlice, ProAnalysis>(\n    this.proActions.analysis,\n    { relations: [] },\n    (items) => {\n      items.forEach(item => { })\n    })\n  constructor(\n    public infActions: InfActions,\n    public datActions: DatActions,\n    public proActions: ProActions\n  ) { }\n  getFlattened(): FlattenerInterface {\n    return {\n      pro_project: this.pro_project,\n      pro_text_property: this.pro_text_property,\n      pro_class_field_config: this.pro_class_field_config,\n      pro_dfh_profile_proj_rel: this.pro_dfh_profile_proj_rel,\n      pro_dfh_class_proj_rel: this.pro_dfh_class_proj_rel,\n\n      info_proj_rel: this.info_proj_rel,\n      analysis: this.analysis,\n\n      persistent_item: this.persistent_item,\n      temporal_entity: this.temporal_entity,\n      statement: this.statement,\n      appellation: this.appellation,\n      place: this.place,\n      time_primitive: this.time_primitive,\n      language: this.language,\n      text_property: this.text_property,\n      lang_string: this.lang_string,\n      dimension: this.dimension,\n\n      digital: this.digital,\n      chunk: this.chunk,\n    }\n  }\n}\n\nexport const storeFlattened = (flattened: FlattenerInterface, pk?, type?: 'LOAD' | 'UPSERT') => {\n  values(flattened).forEach(model => {\n    if (model.items) {\n      if (type === 'UPSERT') {\n        model.actions.upsertSucceeded(model.items, undefined, pk)\n      } else {\n        model.actions.loadSucceeded(model.items, undefined, pk)\n      }\n    }\n  })\n}\n","import { FluxStandardAction } from 'flux-standard-action';\nimport { Action } from 'redux';\nimport { ofType } from 'redux-observable-es6-compat';\nimport { Observable, Subscriber } from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\nimport { NotificationsAPIActions } from '../../state-gui/actions/notifications.actions';\nimport { FluxActionObservable, LoadActionMeta, ModifyActionMeta, SchemaActionsFactory } from './schema-actions-factory';\n\nexport class SchemaEpicsFactory<Payload, Model> {\n  constructor(\n    public actionPrefix: string,\n    public modelName: string,\n    public actions: SchemaActionsFactory<Payload, Model>,\n    public notifications: NotificationsAPIActions) { }\n\n\n  createLoadEpic<T>(apiFn: (meta: T) => Observable<Model[]>, actionSuffix: string, onSuccessHook?: (data: Model[], pk?, initialMeta?: T) => void) {\n    return (action$: FluxActionObservable<Payload, LoadActionMeta>, store) => {\n      return action$.pipe(\n        ofType(this.type('LOAD', actionSuffix)),\n        mergeMap((action) => new Observable<Action>((globalActions) => {\n          const pendingKey = action.meta.addPending;\n          const meta = action.meta as any as T;\n          apiFn(meta).subscribe((data: Model[]) => {\n            if (onSuccessHook) {\n              onSuccessHook(data, action.meta.pk, meta);\n              this.actions.succeeded(data, pendingKey, action.meta.pk);\n            }\n            else {\n              this.actions.loadSucceeded(data, pendingKey, action.meta.pk);\n            }\n          }, error => {\n            this.onError(globalActions, error, pendingKey, action.meta.pk)\n          });\n        })));\n    };\n  }\n  createUpsertEpic<T>(apiFn: (meta: T) => Observable<Model[]>, onSuccessHook?: (data: Model[], pk?) => void) {\n    return (action$, store) => {\n      return action$.pipe(\n        ofType(this.actionPrefix + '.' + this.modelName + '::UPSERT'),\n        mergeMap((action: FluxStandardAction<Payload, ModifyActionMeta<Model>>) => new Observable<Action>((globalActions) => {\n          const pendingKey = action.meta.addPending;\n          const meta = action.meta as any as T;\n          apiFn(meta).subscribe((data: Model[]) => {\n            if (onSuccessHook) {\n              onSuccessHook(data, action.meta.pk);\n              this.actions.succeeded(data, pendingKey, action.meta.pk);\n            }\n            else {\n              this.actions.upsertSucceeded(data, pendingKey, action.meta.pk);\n            }\n          }, error => {\n            this.onError(globalActions, error, pendingKey, action.meta.pk)\n          });\n        })));\n    };\n  }\n  createDeleteEpic(apiFn: (meta: ModifyActionMeta<Model>) => Observable<Model[]>) {\n    return (action$, store) => {\n      return action$.pipe(\n        ofType(this.actionPrefix + '.' + this.modelName + '::DELETE'),\n        mergeMap((action: FluxStandardAction<Payload, ModifyActionMeta<Model>>) => new Observable<Action>((globalActions) => {\n          const pendingKey = action.meta.addPending;\n          apiFn(action.meta).subscribe((data: Model[]) => {\n            this.actions.deleteSucceeded(action.meta.items, pendingKey, action.meta.pk);\n          }, error => {\n            this.onError(globalActions, error, pendingKey, action.meta.pk)\n          });\n        })));\n    };\n  }\n\n  /**\n   * Create the string used as action.type\n   */\n  type(operation: 'LOAD' | 'UPSERT' | 'Â DELETE', actionSuffix: string): string {\n    return this.actionPrefix + '.' + this.modelName + '::' + operation + (actionSuffix ? '::' + actionSuffix : '')\n  }\n\n  /**\n  * Create the onError logic for standard actions\n  * @param globalActions pass in the subscriber to the action$ stream\n  */\n  onError(globalActions: Subscriber<Action>, error, pendingKey, pkProject) {\n    globalActions.next(this.notifications.addToast({\n      type: 'error',\n      options: { title: error.message }\n    }));\n    this.actions.failed({ status: '' + error.status }, pendingKey, pkProject);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { DatChunk, DatChunkApi, DatColumn, DatColumnApi, DatDigital, DatDigitalApi, DatNamespace, DatNamespaceApi, SchemaObject } from '@kleiolab/lib-sdk-lb3';\nimport { combineEpics, Epic } from 'redux-observable-es6-compat';\nimport { NotificationsAPIActions } from '../../state-gui/actions/notifications.actions';\nimport { ChunkActionsFactory, ColumnActionsFactory, DatActions, DigitalActionsFactory, LoadChunksOfDigitalAction, LoadColumnsOfTableAction } from '../actions/dat.actions';\nimport { InfActions } from '../actions/inf.actions';\nimport { ProActions } from '../actions/pro.actions';\nimport { ChunkSlice, ColumnSlice, DigitalSlice, NamespaceSlice } from '../models/dat.models';\nimport { datRoot } from '../reducer-configs/dat.config';\nimport { SchemaService } from '../services/schema.service';\nimport { Flattener, storeFlattened } from '../_helpers/flattener';\nimport { LoadActionMeta, LoadVersionAction, ModifyActionMeta } from '../_helpers/schema-actions-factory';\nimport { SchemaEpicsFactory } from '../_helpers/schema-epics-factory';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DatEpics {\n  constructor(\n    public notification: NotificationsAPIActions,\n    public datActions: DatActions,\n    public infActions: InfActions,\n    public proActions: ProActions,\n    public digitalApi: DatDigitalApi,\n    public chunkApi: DatChunkApi,\n    public columnApi: DatColumnApi,\n    public namespaceApi: DatNamespaceApi,\n    private schemaObjectService: SchemaService\n  ) { }\n\n  public createEpics(): Epic {\n    const digitalEpicsFactory = new SchemaEpicsFactory<DigitalSlice, DatDigital>\n      (datRoot, 'digital', this.datActions.digital, this.notification);\n\n    const chunkEpicsFactory = new SchemaEpicsFactory<ChunkSlice, DatChunk>\n      (datRoot, 'chunk', this.datActions.chunk, this.notification);\n\n    const namespaceEpicsFactory = new SchemaEpicsFactory<NamespaceSlice, DatNamespace>\n      (datRoot, 'namespace', this.datActions.namespace, this.notification);\n\n    const columnEpicsFactory = new SchemaEpicsFactory<ColumnSlice, DatColumn>\n      (datRoot, 'column', this.datActions.column, this.notification);\n\n    return combineEpics(\n\n      // Digital\n      digitalEpicsFactory.createLoadEpic<LoadVersionAction>(\n        (meta) => this.digitalApi.getVersion(meta.pkEntity, meta.entityVersion ? meta.entityVersion : null),\n        DigitalActionsFactory.LOAD_VERSION\n      ),\n      digitalEpicsFactory.createUpsertEpic<ModifyActionMeta<DatDigital>>(\n        (meta) => this.digitalApi.bulkUpsert(meta.pk, meta.items)\n      ),\n      digitalEpicsFactory.createDeleteEpic(\n        (meta) => this.digitalApi.bulkDelete(meta.items.map(item => item.pk_entity))\n      ),\n\n      // Chunk\n      chunkEpicsFactory.createLoadEpic<LoadChunksOfDigitalAction>(\n        (meta) => this.chunkApi.ofDigital(meta.pk, meta.pkDigital),\n        ChunkActionsFactory.CHUNKS_OF_DIGITAL,\n        (results, pk) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.chunk.flatten(results);\n          storeFlattened(flattener.getFlattened(), pk);\n        }\n      ),\n\n      // Namespace\n      namespaceEpicsFactory.createLoadEpic<LoadActionMeta>(\n        (meta) => this.namespaceApi.byProject(meta.pk), ''\n      ),\n\n      columnEpicsFactory.createLoadEpic<LoadColumnsOfTableAction>(\n        (meta) => this.columnApi.ofDigital(meta.pk, meta.pkDigital),\n        ColumnActionsFactory.COLUMNS_OF_TABLE,\n        (results, pk) => {\n          const schemaObject = results as unknown as SchemaObject;\n\n          this.schemaObjectService.storeSchemaObject(schemaObject, pk)\n        }\n      ),\n\n    )\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { DfhLabel, DfhLabelApi, DfhProfile, DfhProfileApi } from '@kleiolab/lib-sdk-lb3';\nimport { DfhClass, DfhClassControllerService, DfhProperty, DfhPropertyControllerService } from '@kleiolab/lib-sdk-lb4';\nimport { combineEpics, Epic } from 'redux-observable-es6-compat';\nimport { NotificationsAPIActions } from '../../state-gui/actions/notifications.actions';\nimport { DfhActions, DfhClassActionFactory, DfhLabelActionFactory, DfhProfileActionFactory, DfhPropertyActionFactory } from '../actions/dfh.actions';\nimport { DfhClassSlice, DfhLabelSlice, DfhProfileSlice, DfhPropertySlice } from '../models/dfh.models';\nimport { LoadActionMeta } from '../_helpers/schema-actions-factory';\nimport { SchemaEpicsFactory } from '../_helpers/schema-epics-factory';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DfhEpics {\n  constructor(\n    private actions: DfhActions,\n    private notification: NotificationsAPIActions,\n    private profileApi: DfhProfileApi,\n    private classApi: DfhClassControllerService,\n    private propertyApi: DfhPropertyControllerService,\n    private labelApi: DfhLabelApi,\n  ) { }\n\n  public createEpics(): Epic {\n    const dfhProfileEpicsFactory = new SchemaEpicsFactory<DfhProfileSlice, DfhProfile>('dfh', 'profile', this.actions.profile, this.notification);\n    const dfhClassEpicsFactory = new SchemaEpicsFactory<DfhClassSlice, DfhClass>('dfh', 'klass', this.actions.klass, this.notification);\n    const dfhLabelEpicsFactory = new SchemaEpicsFactory<DfhLabelSlice, DfhLabel>('dfh', 'label', this.actions.label, this.notification);\n    const dfhPropertyEpicsFactory = new SchemaEpicsFactory<DfhPropertySlice, DfhProperty>('dfh', 'property', this.actions.property, this.notification);\n\n    return combineEpics(\n      // Profile Loaders\n      dfhProfileEpicsFactory.createLoadEpic<LoadActionMeta>((meta) => this.profileApi.ofProject(meta.pk),\n        DfhProfileActionFactory.OF_PROJECT\n      ),\n      // Property Loaders\n      dfhPropertyEpicsFactory.createLoadEpic<LoadActionMeta>((meta) => this.propertyApi.dfhPropertyControllerOfProject(meta.pk),\n        DfhPropertyActionFactory.OF_PROJECT\n      ),\n      // Class Loaders\n      dfhClassEpicsFactory.createLoadEpic<LoadActionMeta>((meta) => this.classApi.dfhClassControllerOfProject(meta.pk),\n        DfhClassActionFactory.OF_PROJECT\n      ),\n      // Label Loaders\n      dfhLabelEpicsFactory.createLoadEpic<LoadActionMeta>((meta) => this.labelApi.ofProject(meta.pk),\n        DfhLabelActionFactory.OF_PROJECT\n      )\n    )\n\n  }\n\n\n}\n","import { ProInfoProjRel, ProInfoProjRelApi } from '@kleiolab/lib-sdk-lb3';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { pathOr } from 'ramda';\nimport { Action } from 'redux';\nimport { ofType } from 'redux-observable-es6-compat';\nimport { Observable } from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\nimport { ProActions } from '../actions/pro.actions';\nimport { NotificationsAPIActions } from '../../state-gui/actions/notifications.actions';\nimport { InfActionFactory } from './inf-action-factory';\nimport { ModifyActionMeta } from './schema-actions-factory';\nimport { SchemaEpicsFactory } from './schema-epics-factory';\n\nexport class InfEpicsFactory<Payload, Model> extends SchemaEpicsFactory<Payload, Model> {\n  constructor(\n    public actionPrefix: string,\n    public modelName: string,\n    public actions: InfActionFactory<Payload, Model>,\n    public notifications: NotificationsAPIActions,\n    public infoProjRelApi: ProInfoProjRelApi,\n    public proActions: ProActions\n  ) {\n    super(actionPrefix, modelName, actions, notifications)\n  }\n\n  /**\n   * This upsert epic overrides the standard upsert.\n   * In addition to the standard, it extends the items to upsert, so that\n   * they are added to the project.\n   */\n  createUpsertEpic<T>(apiFn: (meta: T) => Observable<Model[]>, onSuccessHook?: (data: Model[], pk?) => void) {\n    return (action$, store) => {\n      return action$.pipe(\n        ofType(this.actionPrefix + '.' + this.modelName + '::UPSERT'),\n        mergeMap((action: FluxStandardAction<Payload, ModifyActionMeta<Model>>) => new Observable<Action>((globalActions) => {\n          const pendingKey = action.meta.addPending;\n\n          const meta = action.meta as any;\n          // add is_in_project true\n\n          meta.items = meta.items.map(i => ({\n            ...i, entity_version_project_rels: [{\n              ...pathOr({}, ['entity_version_project_rels', 0], i),\n              is_in_project: true,\n            }]\n          }))\n\n          apiFn(meta).subscribe((data: Model[]) => {\n            if (onSuccessHook) {\n              onSuccessHook(data, action.meta.pk);\n              this.actions.succeeded(data, pendingKey, action.meta.pk);\n            }\n            else {\n              this.actions.upsertSucceeded(data, pendingKey, action.meta.pk);\n            }\n          }, error => {\n            globalActions.next(this.notifications.addToast({\n              type: 'error',\n              options: { title: error.message }\n            }));\n            this.actions.failed({ status: '' + error.status }, pendingKey, action.meta.pk);\n          });\n        })));\n    };\n  }\n\n  /**\n   * This epic maps the items to remove in minimalisic instances of\n   * InfoProjRel, containing only the fk_entity and is_in_project=false.\n   * The pk of the project, that removes the items, is transported in meta.pk.\n   */\n  createRemoveEpic() {\n    return (action$, store) => {\n      return action$.pipe(\n        ofType(this.actionPrefix + '.' + this.modelName + '::REMOVE'),\n        mergeMap((action: FluxStandardAction<Payload, ModifyActionMeta<Model>>) => new Observable<Action>((globalActions) => {\n          const pendingKey = action.meta.addPending;\n\n          this.infoProjRelApi.bulkUpdateEprAttributes(\n            action.meta.pk,\n            action.meta.items.map((item: any) => ({\n              fk_entity: item.pk_entity,\n              is_in_project: false\n            }))\n          )\n            .subscribe((infoProjRels: ProInfoProjRel[]) => {\n              if (infoProjRels.length) {\n                this.proActions.info_proj_rel.upsertSucceeded(infoProjRels, undefined, action.meta.pk)\n              }\n              this.actions.removeSucceeded(action.meta.items, pendingKey, action.meta.pk)\n            }, error => {\n              globalActions.next(this.notifications.addToast({\n                type: 'error',\n                options: { title: error.message }\n              }));\n              this.actions.failed({ status: '' + error.status }, pendingKey, action.meta.pk)\n            })\n        }))\n\n      )\n    }\n  }\n\n\n\n  /**\n   * This upsert epic overrides the standard upsert.\n   * In addition to the standard, it extends the items to upsert, so that\n   * they are added to the project.\n   */\n  createCustomUpsertEpic<T>(apiFn: (meta: T) => Observable<Model[]>, actionSuffix: string, onSuccessHook?: (data: Model[], pk?) => void) {\n    return (action$, store) => {\n      return action$.pipe(\n        ofType(this.actionPrefix + '.' + this.modelName + '::UPSERT' + (actionSuffix ? '::' + actionSuffix : '')),\n        mergeMap((action: FluxStandardAction<Payload, ModifyActionMeta<Model>>) => new Observable<Action>((globalActions) => {\n          const pendingKey = action.meta.addPending;\n          const meta = action.meta as any;\n          apiFn(meta).subscribe((data: Model[]) => {\n            if (onSuccessHook) {\n              onSuccessHook(data, action.meta.pk);\n              this.actions.upsertSucceeded([], pendingKey, action.meta.pk);\n            }\n            else {\n              this.actions.upsertSucceeded(data, pendingKey, action.meta.pk);\n            }\n          }, error => {\n            globalActions.next(this.notifications.addToast({\n              type: 'error',\n              options: { title: error.message }\n            }));\n            this.actions.failed({ status: '' + error.status }, pendingKey, action.meta.pk);\n          });\n        })));\n    };\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { InfPersistentItem, InfPersistentItemApi, InfStatement, InfStatementApi, InfTemporalEntity, InfTemporalEntityApi, InfTextProperty, InfTextPropertyApi, ProInfoProjRelApi } from '@kleiolab/lib-sdk-lb3';\nimport { GvFieldPage, GvFieldPageScope } from '@kleiolab/lib-sdk-lb4';\nimport { Action } from 'redux';\nimport { combineEpics, Epic, ofType } from 'redux-observable-es6-compat';\nimport { Observable } from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\nimport { SchemaObject } from '../../root/models/model';\nimport { NotificationsAPIActions } from '../../state-gui/actions/notifications.actions';\nimport { DatActions } from '../actions/dat.actions';\nimport { FindStatementByParams, InfActions, InfPersistentItemActionFactory, InfStatementActionFactory, InfTemporalEntityActionFactory, InfTextPropertyActionFactory, LoadAlternativeTextProperties, LoadByPkMeta, LoadIngoingAlternativeStatements, LoadPaginatedStatementListMeta, PaginatedStatementList, SourcesAndDigitalsOfEntity, SourcesAndDigitalsOfEntityResult } from '../actions/inf.actions';\nimport { ProActions } from '../actions/pro.actions';\nimport { InfPersistentItemSlice, InfStatementSlice, InfTemporalEntitySlice, InfTextPropertySlice } from '../models/inf.models';\nimport { infRoot } from '../reducer-configs/inf.config';\nimport { SchemaService } from '../services/schema.service';\nimport { Flattener, storeFlattened } from '../_helpers/flattener';\nimport { InfEpicsFactory } from '../_helpers/inf-epic-factory';\nimport { FluxActionObservable, ModifyActionMeta } from '../_helpers/schema-actions-factory';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class InfEpics {\n  constructor(\n    public notification: NotificationsAPIActions,\n    public peItApi: InfPersistentItemApi,\n    public teEnApi: InfTemporalEntityApi,\n    public statementApi: InfStatementApi,\n    public textPropertyApi: InfTextPropertyApi,\n    public infActions: InfActions,\n    public proActions: ProActions,\n    public datActions: DatActions,\n    public infoProjRelApi: ProInfoProjRelApi,\n    private schemaObjectService: SchemaService\n  ) { }\n\n  public createEpics(): Epic {\n    const infPersistentItemEpicsFactory = new InfEpicsFactory<InfPersistentItemSlice, InfPersistentItem>\n      (infRoot, 'persistent_item', this.infActions.persistent_item, this.notification, this.infoProjRelApi, this.proActions);\n\n    const infTemporalEntityEpicsFactory = new InfEpicsFactory<InfTemporalEntitySlice, InfTemporalEntity>\n      (infRoot, 'temporal_entity', this.infActions.temporal_entity, this.notification, this.infoProjRelApi, this.proActions);\n\n    const infStatementEpicsFactory = new InfEpicsFactory<InfStatementSlice, InfStatement>\n      (infRoot, 'statement', this.infActions.statement, this.notification, this.infoProjRelApi, this.proActions);\n\n    const infTextPropertyEpicsFactory = new InfEpicsFactory<InfTextPropertySlice, InfTextProperty>\n      (infRoot, 'text_property', this.infActions.text_property, this.notification, this.infoProjRelApi, this.proActions);\n\n    return combineEpics(\n      /**\n       * Perstistent Item\n       *\n       */\n      infPersistentItemEpicsFactory.createLoadEpic<LoadByPkMeta>(\n        (meta) => this.peItApi.ownProperties(meta.pk, meta.pkEntity),\n        InfPersistentItemActionFactory.MINIMAL_BY_PK,\n        (results, pk) => {\n          const schemas = results as any as SchemaObject;\n          // call action to store records\n          Object.keys(schemas).forEach(schema => {\n            let actions;\n            if (schema === 'inf') actions = this.infActions;\n            else if (schema === 'pro') actions = this.proActions;\n            if (actions) {\n              Object.keys(schemas[schema]).forEach(model => {\n                actions[model].loadSucceeded(schemas[schema][model], undefined, pk)\n              })\n            }\n          })\n        }\n      ),\n      infPersistentItemEpicsFactory.createLoadEpic<LoadByPkMeta>(\n        (meta) => this.peItApi.typesOfProject(meta.pk),\n        InfPersistentItemActionFactory.TYPES_OF_PROJECT,\n        (results, pk) => {\n          const schemaObject = results as SchemaObject;\n          this.schemaObjectService.storeSchemaObject(schemaObject, pk)\n        }\n      ),\n      // infPersistentItemEpicsFactory.createLoadEpic<LoadTypeOfProjectAction>(\n      //   (meta) => this.peItApi.typeOfProject(meta.pk, meta.pkEntity),\n      //   InfPersistentItemActionFactory.TYPE_OF_PROJECT,\n      //   (results, pk) => {\n      //     const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n      //     flattener.persistent_item.flatten(results);\n      //     storeFlattened(flattener.getFlattened(), pk);\n      //   }\n      // ),\n      infPersistentItemEpicsFactory.createUpsertEpic<ModifyActionMeta<InfPersistentItem>>((meta) => this.peItApi\n        .findOrCreateInfPersistentItems(meta.pk, meta.items),\n        (results, pk) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.persistent_item.flatten(results);\n          storeFlattened(flattener.getFlattened(), pk, 'UPSERT');\n        }\n      ),\n      infPersistentItemEpicsFactory.createRemoveEpic(),\n\n\n      /**\n       * Temporal Entity\n       *\n       */\n      infTemporalEntityEpicsFactory.createLoadEpic<LoadByPkMeta>(\n        (meta) => this.teEnApi.ownProperties(meta.pk, meta.pkEntity),\n        InfTemporalEntityActionFactory.OWN_PROPERTIES,\n        (results, pk) => {\n          const schemaObject = results as SchemaObject;\n          this.schemaObjectService.storeSchemaObject(schemaObject, pk)\n        }\n      ),\n      /**\n       * Epic to load paginated Temporal Entity List\n       */\n      (action$: FluxActionObservable<any, LoadPaginatedStatementListMeta>, store) => action$.pipe(\n        ofType(infTemporalEntityEpicsFactory.type('LOAD', InfTemporalEntityActionFactory.PAGINATED_LIST)),\n        mergeMap(action => new Observable<Action>((globalActions) => {\n          const meta = action.meta;\n          const apiCal$ = this.teEnApi.temporalEntityList(\n            meta.pk, meta.pkSourceEntity, meta.pkProperty, meta.fkTargetClass, meta.isOutgoing, meta.limit, meta.offset\n          )\n          const pkProject = meta.pk;\n          this.handleTemporalEntityListAction(action, infTemporalEntityEpicsFactory, globalActions, apiCal$, pkProject);\n        }))\n      ),\n      /**\n       * Epic to load paginated Alternative Temporal Entity List\n       */\n      (action$: FluxActionObservable<any, LoadPaginatedStatementListMeta>, store) => action$.pipe(\n        ofType(infTemporalEntityEpicsFactory.type('LOAD', InfTemporalEntityActionFactory.PAGINATED_ALTERNATIVE_LIST)),\n        mergeMap(action => new Observable<Action>((globalActions) => {\n          const meta = action.meta;\n          const apiCal$ = this.teEnApi.alternativeTemporalEntityList(\n            meta.pk, meta.pkSourceEntity, meta.pkProperty, meta.fkTargetClass, meta.isOutgoing, meta.limit, meta.offset\n          )\n          const pkProject = null;\n          this.handleTemporalEntityListAction(action, infTemporalEntityEpicsFactory, globalActions, apiCal$, pkProject);\n        }))\n      ),\n      infTemporalEntityEpicsFactory.createUpsertEpic<ModifyActionMeta<InfTemporalEntity>>((meta) => this.teEnApi\n        .findOrCreateInfTemporalEntities(meta.pk, meta.items),\n        (results, pk) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.temporal_entity.flatten(results);\n          storeFlattened(flattener.getFlattened(), pk, 'UPSERT');\n        }\n      ),\n      infTemporalEntityEpicsFactory.createRemoveEpic(),\n\n\n      /**\n       * Statement\n       *\n       */\n      infStatementEpicsFactory.createLoadEpic<LoadIngoingAlternativeStatements>(\n        (meta) => this.statementApi.alternativesNotInProjectByEntityPk(meta.pkEntity, meta.pkProperty, meta.pk),\n        InfStatementActionFactory.ALTERNATIVES_INGOING,\n        (results, pk) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.statement.flatten(results);\n          storeFlattened(flattener.getFlattened(), null);\n        }\n      ),\n      infStatementEpicsFactory.createUpsertEpic<ModifyActionMeta<InfStatement>>((meta) => this.statementApi\n        .findOrCreateInfStatements(meta.pk, meta.items),\n        (results, pk) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.statement.flatten(results);\n          storeFlattened(flattener.getFlattened(), pk, 'UPSERT');\n        }\n      ),\n\n      (action$: FluxActionObservable<any, LoadPaginatedStatementListMeta>, store) => action$.pipe(\n        ofType(infStatementEpicsFactory.type('LOAD', InfTemporalEntityActionFactory.PAGINATED_LIST)),\n        mergeMap(action => new Observable<Action>((globalActions) => {\n          const meta = action.meta;\n          const apiCal$ = this.statementApi.paginatedListTargetingEntityPreviews(\n            meta.pk, meta.pkSourceEntity, meta.pkProperty, meta.fkTargetClass, meta.isOutgoing, meta.limit, meta.offset\n          )\n          const pkProject = meta.pk;\n          this.handleTemporalEntityListAction(action, infStatementEpicsFactory, globalActions, apiCal$, pkProject);\n        }))\n      ),\n\n      infStatementEpicsFactory.createRemoveEpic(),\n\n\n      infStatementEpicsFactory.createLoadEpic<FindStatementByParams>(\n        (meta) => this.statementApi.queryByParams(meta.ofProject, meta.pk, meta.pkEntity, meta.pkInfoRange, meta.pkInfoDomain, meta.pkProperty),\n        InfStatementActionFactory.BY_PARAMS,\n        (results, pk) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.statement.flatten(results);\n          storeFlattened(flattener.getFlattened(), pk, 'LOAD');\n        }\n      ),\n\n      infStatementEpicsFactory.createLoadEpic<SourcesAndDigitalsOfEntity>(\n        (meta) => this.statementApi.sourcesAndDigitalsOfEntity(meta.ofProject, meta.pk, meta.pkEntity),\n        InfStatementActionFactory.SOURCES_AND_DIGITALS_OF_ENTITY,\n        (results, pk) => {\n          const res = results as any as SourcesAndDigitalsOfEntityResult;\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.statement.flatten(res.statements);\n          storeFlattened(flattener.getFlattened(), pk);\n\n          const flattener2 = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener2.digital.flatten(res.digitals);\n          storeFlattened(flattener2.getFlattened(), pk);\n\n        }\n      ),\n\n\n\n      /**\n       * Text Property\n       *\n       */\n      infTextPropertyEpicsFactory.createLoadEpic<LoadAlternativeTextProperties>((meta) => this.textPropertyApi\n        .findAlternativeTextProperties(meta.pk, meta.fkEntity, meta.fkClassField),\n        InfTextPropertyActionFactory.ALTERNATIVES,\n        (results, pk) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.text_property.flatten(results);\n          storeFlattened(flattener.getFlattened(), null);\n        }\n      ),\n\n      infTextPropertyEpicsFactory.createUpsertEpic<ModifyActionMeta<InfTextProperty>>((meta) => this.textPropertyApi\n        .findOrCreateInfTextProperties(meta.pk, meta.items),\n        (results, pk) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.text_property.flatten(results);\n          storeFlattened(flattener.getFlattened(), pk);\n        }\n      ),\n      infTextPropertyEpicsFactory.createRemoveEpic(),\n\n    );\n  }\n\n\n  /**\n   * handles the update of store for paginated temporal entity lists.\n   * @param pkProject if null, list is handled as 'repo' list\n   *\n   * TODO remove\n   */\n  private handleTemporalEntityListAction<M>(\n    action,\n    epicsFactory: InfEpicsFactory<InfTemporalEntitySlice, InfTemporalEntity> | InfEpicsFactory<InfStatementSlice, InfStatement>,\n    globalActions,\n    apiCall$: Observable<any>,\n    pkProject) {\n    const meta: LoadPaginatedStatementListMeta = action.meta;\n    const scope: GvFieldPageScope = meta.alternatives ? { notInProject: pkProject } : { inProject: pkProject }\n    const req: GvFieldPage = {\n      fkSourceEntity: meta.pkSourceEntity,\n      fkProperty: meta.pkProperty,\n      isOutgoing: meta.isOutgoing,\n      limit: meta.limit,\n      offset: meta.offset,\n      scope,\n    }\n    const pendingKey = meta.addPending;\n\n    // call action to set pagination loading on true\n    this.infActions.statement.loadPage(req, pkProject);\n    // call api to load data\n    apiCall$.subscribe((data: PaginatedStatementList) => {\n      // call action to store records\n      this.schemaObjectService.storeSchemaObject(data.schemas, pkProject);\n      // call action to store pagination\n      this.infActions.statement.loadPageSucceeded(data.paginatedStatements, data.count, req, pkProject);\n      // call action to conclude the pending request\n      epicsFactory.actions.loadSucceeded([], pendingKey, pkProject);\n    }, error => {\n      // call action to handle error\n      epicsFactory.onError(globalActions, error, pendingKey, pkProject);\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ProClassFieldConfig, ProClassFieldConfigApi, ProDfhClassProjRel, ProDfhClassProjRelApi, ProDfhProfileProjRel, ProDfhProfileProjRelApi, ProInfoProjRel, ProInfoProjRelApi, ProProject, ProProjectApi, ProTextProperty, ProTextPropertyApi } from '@kleiolab/lib-sdk-lb3';\nimport { AnalysisService, ProAnalysis } from '@kleiolab/lib-sdk-lb4';\nimport { combineEpics, Epic } from 'redux-observable-es6-compat';\nimport { SchemaObject } from '../../root/models/model';\nimport { NotificationsAPIActions } from '../../state-gui/actions/notifications.actions';\nimport { DatActions } from '../actions/dat.actions';\nimport { InfActions } from '../actions/inf.actions';\nimport { MarkStatementAsFavoriteActionMeta, ProActions, ProClassFieldConfigActionFactory, ProDfhClassProjRelActionFactory, ProDfhProfileProjRelActionFactory, ProInfoProjRelActionFactory, ProProjectActionFactory, ProTextPropertyActionFactory } from '../actions/pro.actions';\nimport { ProAnalysisSlice, ProClassFieldConfigSlice, ProDfhClassProjRelSlice, ProDfhProfileProjRelSlice, ProInfoProjRelSlice, ProProjectSlice, ProTextPropertySlice } from '../models/pro.models';\nimport { proRoot } from '../reducer-configs/pro.config';\nimport { SchemaService } from '../services/schema.service';\nimport { Flattener, storeFlattened } from '../_helpers/flattener';\nimport { LoadActionMeta, ModifyActionMeta } from '../_helpers/schema-actions-factory';\nimport { SchemaEpicsFactory } from '../_helpers/schema-epics-factory';\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProEpics {\n  constructor(\n    public notification: NotificationsAPIActions,\n    public infActions: InfActions,\n    public proActions: ProActions,\n    public datActions: DatActions,\n    public projectApi: ProProjectApi,\n    public infoProjRelApi: ProInfoProjRelApi,\n    public classProjRelApi: ProDfhClassProjRelApi,\n    public profileProjRelApi: ProDfhProfileProjRelApi,\n    public classFieldConfApi: ProClassFieldConfigApi,\n    public textPropertyApi: ProTextPropertyApi,\n    public analysisApi: AnalysisService,\n    private schemaObjectService: SchemaService\n  ) { }\n\n  public createEpics(): Epic {\n    const proProjectEpicsFactory = new SchemaEpicsFactory<ProProjectSlice, ProProject>\n      (proRoot, 'project', this.proActions.project, this.notification);\n\n    const proInfoProjRelEpicsFactory = new SchemaEpicsFactory<ProInfoProjRelSlice, ProInfoProjRel>\n      (proRoot, 'info_proj_rel', this.proActions.info_proj_rel, this.notification);\n\n    const proDfhClassProjRelEpicsFactory = new SchemaEpicsFactory<ProDfhClassProjRelSlice, ProDfhClassProjRel>\n      (proRoot, 'dfh_class_proj_rel', this.proActions.dfh_class_proj_rel, this.notification);\n\n    const proDfhProfileProjRelEpicsFactory = new SchemaEpicsFactory<ProDfhProfileProjRelSlice, ProDfhProfileProjRel>\n      (proRoot, 'dfh_profile_proj_rel', this.proActions.dfh_profile_proj_rel, this.notification);\n\n    const proClassFieldConfigEpicsFactory = new SchemaEpicsFactory<ProClassFieldConfigSlice, ProClassFieldConfig>\n      (proRoot, 'class_field_config', this.proActions.class_field_config, this.notification);\n\n    const proTextPropertyEpicsFactory = new SchemaEpicsFactory<ProTextPropertySlice, ProTextProperty>\n      (proRoot, 'text_property', this.proActions.text_property, this.notification);\n\n    const proAnalysisEpicsFactory = new SchemaEpicsFactory<ProAnalysisSlice, ProAnalysis>\n      (proRoot, 'analysis', this.proActions.analysis, this.notification);\n\n\n\n    return combineEpics(\n      /**\n      * ProProject\n      */\n      proProjectEpicsFactory.createLoadEpic<LoadActionMeta>((meta) => this.projectApi\n        .ofAccount(meta.pk),\n        ProProjectActionFactory.OF_ACCOUNT,\n        (results) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.pro_project.flatten(results);\n          storeFlattened(flattener.getFlattened());\n        }\n      ),\n      proProjectEpicsFactory.createLoadEpic<LoadActionMeta>((meta) => this.projectApi\n        .getBasics(meta.pk),\n        ProProjectActionFactory.LOAD_BASICS,\n        (results) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.pro_project.flatten(results);\n          storeFlattened(flattener.getFlattened());\n        }\n      ),\n      /**\n       * ProInfoProjRel\n       */\n      proInfoProjRelEpicsFactory.createUpsertEpic<ModifyActionMeta<ProInfoProjRel>>((meta) => this.infoProjRelApi\n        .bulkUpdateEprAttributes(meta.pk, meta.items),\n        (results, pk) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.info_proj_rel.flatten(results);\n          storeFlattened(flattener.getFlattened(), pk, 'UPSERT');\n        }\n      ),\n      proInfoProjRelEpicsFactory.createLoadEpic<MarkStatementAsFavoriteActionMeta>((meta) => this.infoProjRelApi\n        .markStatementAsFavorite(meta.pk, meta.pkStatement, meta.isOutgoing),\n        ProInfoProjRelActionFactory.MARK_ROLE_AS_FAVORITE,\n        (results, pk) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.info_proj_rel.flatten(results);\n          storeFlattened(flattener.getFlattened(), pk, 'UPSERT');\n        }\n      ),\n      /**\n       * ProClassFieldConfig\n       */\n      proClassFieldConfigEpicsFactory.createLoadEpic<LoadActionMeta>(\n        (meta) => this.classFieldConfApi.ofProject(meta.pk),\n        ProClassFieldConfigActionFactory.OF_PROJECT,\n        (results) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.pro_class_field_config.flatten(results);\n          storeFlattened(flattener.getFlattened());\n        }\n      ),\n      proClassFieldConfigEpicsFactory.createUpsertEpic<ModifyActionMeta<ProClassFieldConfig>>((meta) => this.classFieldConfApi\n        .bulkUpsert(meta.pk, meta.items),\n        (results, pk) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.pro_class_field_config.flatten(results);\n          storeFlattened(flattener.getFlattened(), pk, 'UPSERT');\n        }\n      ),\n      /**\n       * ProProDfhClassProjRel\n       */\n      proDfhClassProjRelEpicsFactory.createLoadEpic<LoadActionMeta>(\n        (meta) => this.classProjRelApi.ofProject(meta.pk),\n        ProDfhClassProjRelActionFactory.OF_PROJECT,\n        (results) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.pro_dfh_class_proj_rel.flatten(results);\n          storeFlattened(flattener.getFlattened());\n        }\n      ),\n      proDfhClassProjRelEpicsFactory.createUpsertEpic<ModifyActionMeta<ProDfhClassProjRel>>((meta) => this.classProjRelApi\n        .bulkUpsert(meta.pk, meta.items),\n        (results, pk) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.pro_dfh_class_proj_rel.flatten(results);\n          storeFlattened(flattener.getFlattened(), pk, 'UPSERT');\n        }\n      ),\n      /**\n      * ProDfhProfileProjRel\n      */\n      proDfhProfileProjRelEpicsFactory.createLoadEpic<LoadActionMeta>(\n        (meta) => this.profileProjRelApi.ofProject(meta.pk),\n        ProDfhProfileProjRelActionFactory.OF_PROJECT,\n        (results) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.pro_dfh_profile_proj_rel.flatten(results);\n          storeFlattened(flattener.getFlattened());\n        }\n      ),\n      proDfhProfileProjRelEpicsFactory.createUpsertEpic<ModifyActionMeta<ProDfhProfileProjRel>>((meta) => this.profileProjRelApi\n        .bulkUpsert(meta.pk, meta.items),\n        (results, pk) => {\n          const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n          flattener.pro_dfh_profile_proj_rel.flatten(results);\n          storeFlattened(flattener.getFlattened(), pk, 'UPSERT');\n        }\n      ),\n      /**\n      * ProTextProperty\n      */\n      proTextPropertyEpicsFactory.createLoadEpic<LoadActionMeta>(\n        (meta) => this.textPropertyApi.ofProject(meta.pk),\n        ProTextPropertyActionFactory.OF_PROJECT,\n        (results, pk) => {\n          const schemas = results as any as SchemaObject;\n          this.schemaObjectService.storeSchemaObject(schemas, pk)\n        }\n      ),\n      proTextPropertyEpicsFactory.createUpsertEpic<ModifyActionMeta<ProTextProperty>>((meta) => this.textPropertyApi\n        .bulkUpsert(meta.pk, meta.items),\n        (results, pk) => {\n          const schemas = results as any as SchemaObject;\n          this.schemaObjectService.storeSchemaObject(schemas, pk)\n        }\n      ),\n      proTextPropertyEpicsFactory.createDeleteEpic((meta) => this.textPropertyApi.bulkDelete(meta.pk, meta.items)),\n      /**\n      * ProAnalysis\n      */\n      // proAnalysisEpicsFactory.createLoadEpic<LoadByPkANsVersionActionMeta>(\n      //   (meta) => this.analysisApi.analysisControllerGetVersion(meta.pk, meta.pkEntity, meta.version).pipe(map(x => [x])),\n      //   ProAnalysisActionFactory.BY_PK_AND_VERSION,\n      //   (results) => {\n      //     const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n      //     flattener.analysis.flatten(results);\n      //     storeFlattened(flattener.getFlattened());\n      //   }\n      // ),\n      // proAnalysisEpicsFactory.createUpsertEpic<ModifyActionMeta<ProAnalysis>>(\n      //   (meta) => this.analysisApi.analysisControllerBulkUpsert(meta.pk, meta.items),\n      //   (results, pk) => {\n      //     const flattener = new Flattener(this.infActions, this.datActions, this.proActions);\n      //     flattener.analysis.flatten(results);\n      //     storeFlattened(flattener.getFlattened(), pk, 'UPSERT');\n      //   }\n      // ),\n      proAnalysisEpicsFactory.createDeleteEpic(\n        (meta) => this.analysisApi.analysisControllerBulkDelete(meta.pk, meta.items.map(item => item.pk_entity)),\n      ),\n    )\n  }\n  // private storeSchemaObject(schemas: SchemaObject, pkProject) {\n  //   if (schemas && Object.keys(schemas).length > 0) {\n  //     Object.keys(schemas).forEach(schema => {\n  //       let actions;\n  //       if (schema === 'inf') actions = this.infActions;\n  //       else if (schema === 'pro') actions = this.proActions;\n  //       if (actions) {\n  //         Object.keys(schemas[schema]).forEach(model => {\n  //           actions[model].loadSucceeded(schemas[schema][model], undefined, pkProject);\n  //         });\n  //       }\n  //     });\n  //   }\n  // }\n\n}\n","import { NgRedux } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { GvFieldPageReq, GvSchemaObject } from '@kleiolab/lib-sdk-lb4';\nimport { U } from '@kleiolab/lib-utils';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { Observable } from 'rxjs';\nimport { IAppState } from '../../root/models/model';\nimport { LoadActionMeta } from '../_helpers/schema-actions-factory';\n\nexport type GvSchemaObjectAction = FluxStandardAction<Observable<GvSchemaObject>, LoadActionMeta>;\n\ninterface GvPaginationObjectActionMeta extends LoadActionMeta {\n  req: GvFieldPageReq\n}\nexport type GvPaginationObjectAction = FluxStandardAction<null, GvPaginationObjectActionMeta>;\n\n\n/**\n * Class for actions that handle the loading of schema objects,\n * negative schema objects ect.\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class GvSchemaActions {\n  static readonly GV_SCHEMA_OBJECT_LOAD = 'GV_SCHEMA_OBJECT::LOAD';\n  static readonly GV_PAGINATION_OBJECT_LOAD = 'GV_PAGINATION_OBJECT::LOAD';\n\n  constructor(private ngRedux: NgRedux<IAppState>) { }\n\n  /**\n   * Action for loading GvSchemaObject into the store\n   * @param apiCall$ Pass in the api call. Don't subscribe to the call, since otherwise\n   *                we'll end up with two subscriptions and thus two api calls\n   */\n  loadGvSchemaObject(\n    apiCall$: Observable<GvSchemaObject>\n  ): void {\n    const addPending = U.uuid()\n    const action: GvSchemaObjectAction = {\n      type: GvSchemaActions.GV_SCHEMA_OBJECT_LOAD,\n      meta: { addPending },\n      payload: apiCall$,\n    };\n    this.ngRedux.dispatch(action)\n  }\n\n  /**\n * Action for loading GvPaginationObject into the store\n * @param apiCall$ Pass in the api call. Don't subscribe to the call, since otherwise\n *                we'll end up with two subscriptions and thus two api calls\n */\n  loadGvPaginationObject(\n    req: GvFieldPageReq,\n  ): void {\n    const addPending = U.uuid()\n    const action: GvPaginationObjectAction = {\n      type: GvSchemaActions.GV_PAGINATION_OBJECT_LOAD,\n      meta: { addPending, req },\n    };\n    this.ngRedux.dispatch(action)\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { SubfieldPageControllerService } from '@kleiolab/lib-sdk-lb4';\nimport { Action } from 'redux';\nimport { combineEpics, Epic, ofType, StateObservable } from 'redux-observable-es6-compat';\nimport { Observable } from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\nimport { IAppState } from '../../root/models/model';\nimport { LoadingBarActions } from '../../state-gui/actions/loading-bar.actions';\nimport { NotificationsAPIActions } from '../../state-gui/actions/notifications.actions';\nimport { InfActions } from '../actions/inf.actions';\nimport { GvPaginationObjectAction, GvSchemaActions, GvSchemaObjectAction } from '../actions/schema.actions';\nimport { SchemaService } from '../services/schema.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SchemaEpics {\n  constructor(\n    private schemaObjectService: SchemaService,\n    private loadingBarActions: LoadingBarActions,\n    private notificationActions: NotificationsAPIActions,\n    public infActions: InfActions,\n    private pag: SubfieldPageControllerService\n\n  ) { }\n\n  public createEpics(): Epic {\n\n    return combineEpics(\n      /**\n       * Epic for loading GvSchemaObjects\n       * - it subscribes to the given observable (payload), which usually triggers a REST API call\n       * - on success it stores the GvSchemaObject\n       * - else it toasts an error message\n       */\n      (action$, store) => action$.pipe(\n        ofType(GvSchemaActions.GV_SCHEMA_OBJECT_LOAD),\n        mergeMap((action: GvSchemaObjectAction) => new Observable<Action>((actionEmitter) => {\n          actionEmitter.next(this.loadingBarActions.startLoading());\n          action.payload.subscribe((data) => {\n            this.schemaObjectService.storeSchemaObjectGv(data, 0)\n            actionEmitter.next(this.loadingBarActions.completeLoading());\n          }, error => {\n            actionEmitter.next(this.notificationActions.addToast({\n              type: 'error',\n              options: { title: error }\n            }))\n          })\n        }))\n      ),\n      /**\n      * Epic for loading GvPaginationObjects\n      * - it subscribes to the given observable (payload), which usually triggers a REST API call\n      * - on success it stores the GvPaginationObject\n      * - else it toasts an error message\n      */\n      (action$, store: StateObservable<IAppState>) => action$.pipe(\n        ofType(GvSchemaActions.GV_PAGINATION_OBJECT_LOAD),\n        mergeMap((action: GvPaginationObjectAction) => new Observable<Action>((actionEmitter) => {\n          actionEmitter.next(this.loadingBarActions.startLoading());\n\n          const pkProject = store.value.activeProject.pk_project;\n          const meta = action.meta;\n\n          // call action to set pagination loading on true\n          this.infActions.statement.loadPage(meta.req.page, pkProject);\n\n          this.pag.subfieldPageControllerLoadSubfieldPage(action.meta.req)\n            .subscribe((data) => {\n              // call action to store records\n              this.schemaObjectService.storeSchemaObjectGv(data.schemas, pkProject);\n              // call action to store page informations\n              for (const subfieldPage of data.subfieldPages) {\n                this.infActions.statement.loadPageSucceeded(subfieldPage.paginatedStatements, subfieldPage.count, subfieldPage.page, pkProject);\n              }\n              // call action to complete loading bar\n              actionEmitter.next(this.loadingBarActions.completeLoading());\n            }, error => {\n              actionEmitter.next(this.notificationActions.addToast({\n                type: 'error',\n                options: { title: error }\n              }))\n            })\n        }))\n      )\n    )\n  }\n}\n\n","import { Injectable } from '@angular/core';\nimport { SysSystemRelevantClass, SysSystemRelevantClassApi } from '@kleiolab/lib-sdk-lb3';\nimport { SysConfigValue, SystemConfigurationService } from '@kleiolab/lib-sdk-lb4';\nimport { combineEpics, Epic } from 'redux-observable-es6-compat';\nimport { map } from 'rxjs/operators';\nimport { NotificationsAPIActions } from '../../state-gui/actions/notifications.actions';\nimport { SysActions } from '../actions/sys.actions';\nimport { SysConfigSlice, SysRelevantClassSlice } from '../models/sys.models';\nimport { sysRoot } from '../reducer-configs/sys.config';\nimport { ModifyActionMeta } from '../_helpers/schema-actions-factory';\nimport { SchemaEpicsFactory } from '../_helpers/schema-epics-factory';\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SysEpics {\n  constructor(\n    private actions: SysActions,\n    private notification: NotificationsAPIActions,\n    private sysRelevantClassApi: SysSystemRelevantClassApi,\n    // private sysAnalysisTypeApi: SysAnalysisTypeApi,\n    private sysConfigApi: SystemConfigurationService\n  ) { }\n\n  public createEpics(): Epic {\n    const systemRelevantClassEpicsFactory = new SchemaEpicsFactory<SysRelevantClassSlice, SysSystemRelevantClass>\n      (sysRoot, 'system_relevant_class', this.actions.system_relevant_class, this.notification);\n\n    // const analysisTypeEpicsFactory = new StandardEpicsFactory<SysRelevantClassSlice, SysAnalysisType>\n    //   (sysRoot, 'analysis_type', this.actions.analysis_type, this.notification);\n\n    const configEpicsFactory = new SchemaEpicsFactory<SysConfigSlice, SysConfigValue>\n      (sysRoot, 'config', this.actions.config, this.notification);\n\n\n\n    return combineEpics(\n\n      // SystemRelevantClass Epics\n      systemRelevantClassEpicsFactory.createLoadEpic((action) => this.sysRelevantClassApi.find(), ''),\n      systemRelevantClassEpicsFactory.createUpsertEpic<ModifyActionMeta<SysSystemRelevantClass>>((meta) => this.sysRelevantClassApi.bulkReplaceOrCreate(meta.items)),\n\n      // analysisTypeEpicsFactory.createLoadEpic(() => this.sysAnalysisTypeApi.find(), ''),\n\n      configEpicsFactory.createLoadEpic(\n        () => this.sysConfigApi.sysConfigControllerGetSystemConfig().pipe(map(x => [x])),\n        '')\n    );\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { Action } from 'redux';\nimport { ActionsObservable, combineEpics, Epic, StateObservable } from 'redux-observable-es6-compat';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\nimport { AccountEpics } from '../state-gui/epics/account.epics';\nimport { ActiveProjectEpics } from '../state-gui/epics/active-project.epics';\nimport { LoadingBarEpics } from '../state-gui/epics/loading-bar.epics';\nimport { NotificationsAPIEpics } from '../state-gui/epics/notifications.epics';\nimport { ActionResolverEpics } from '../state-schema/epics/action-resolver.epics';\nimport { DatEpics } from '../state-schema/epics/dat.epics';\nimport { DfhEpics } from '../state-schema/epics/dfh.epics';\nimport { InfEpics } from '../state-schema/epics/inf.epics';\nimport { ProEpics } from '../state-schema/epics/pro.epics';\nimport { SchemaEpics } from '../state-schema/epics/schema.epics';\nimport { SysEpics } from '../state-schema/epics/sys.epics';\nimport { IAppState } from './models/model';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RootEpics {\n\n  private rootEpicStream$;\n  private rootEpic;\n\n  constructor(\n    private loadingBarEpics: LoadingBarEpics,\n    private notificationEpics: NotificationsAPIEpics,\n    private activeProjectEpics: ActiveProjectEpics,\n    private accountEpics: AccountEpics,\n    private sysEpics: SysEpics,\n    private dfhEpics: DfhEpics,\n    private infEpics: InfEpics,\n    private datEpics: DatEpics,\n    private proEpics: ProEpics,\n    private schemaObjectEpics: SchemaEpics,\n    private actionResolver: ActionResolverEpics\n  ) {\n\n    this.rootEpicStream$ = new BehaviorSubject(combineEpics(\n      this.loadingBarEpics.createEpics(),\n      this.notificationEpics.createEpics(),\n      this.activeProjectEpics.createEpics(),\n      this.accountEpics.createEpics(),\n      this.sysEpics.createEpics(),\n      this.dfhEpics.createEpics(),\n      this.infEpics.createEpics(),\n      this.datEpics.createEpics(),\n      this.proEpics.createEpics(),\n      this.schemaObjectEpics.createEpics(),\n      // important: this needs to be the last epic in\n      this.actionResolver.createEpics()\n    ));\n\n    this.rootEpic = (\n      action$: ActionsObservable<Action>,\n      state$: StateObservable<IAppState>,\n      dependencies = undefined\n    ): Observable<Action> => {\n      return this.rootEpicStream$.pipe(\n        mergeMap((epic: Epic) => epic(action$, state$, dependencies))\n      );\n    }\n  }\n\n  public getRootEpic(): Epic<Action<any>, Action<any>, void, any> {\n    return this.rootEpic;\n  }\n\n  /**\n   * Adds an epic to the RootEpic middleware\n   * @param epic that will be added to the RootEpics\n   */\n  public addEpic(epic: Epic<Action<any>, Action<any>, void, any>) {\n    this.rootEpicStream$.next(epic);\n  }\n}\n","import { AccountActions, AccountAction } from '../../state-gui/actions/account.actions';\nimport { IAccount } from '../models/account.model';\n\n\nconst INITIAL_STATE: IAccount = {\n  account: undefined,\n  roles: undefined\n};\n\nexport const accountRootReducer = (lastState: IAccount = INITIAL_STATE, action: AccountAction): IAccount => {\n  switch (action.type) {\n    case AccountActions.LOGIN_SUCCEEDED:\n      lastState = {\n        ...lastState,\n        account: action.meta.account\n      };\n      break;\n\n\n    case AccountActions.ACCOUNT_UPDATED:\n      lastState = {\n        ...lastState,\n        account: action.meta.account\n      };\n      break;\n\n    case AccountActions.LOAD_ROLES_SUCCEEDED:\n      lastState = {\n        ...lastState,\n        roles: action.meta.accountRoles\n      };\n      break;\n\n    case AccountActions.LOAD_ROLES_FAILED:\n      lastState = {\n        ...lastState,\n        roles: []\n      };\n      break;\n\n\n\n  }\n  return lastState;\n}\n\n","import { Action } from 'redux';\nimport { LoadingBarAction, LoadingBarActions } from '../actions/loading-bar.actions';\nimport { LoadingBar } from '../models/loading-bar.models';\n\nconst INITIAL_STATE: LoadingBar = {\n  loading: false,\n  progress: 0,\n};\n\n\nexport function loadingBarReducer(state: LoadingBar = INITIAL_STATE, a: Action): LoadingBar {\n\n  const action = a as LoadingBarAction;\n\n\n  switch (action.type) {\n\n    case LoadingBarActions.START:\n      return {\n        ...state,\n        loading: true\n      };\n\n    case LoadingBarActions.STOP:\n      return {\n        ...state,\n        loading: false,\n      };\n\n    case LoadingBarActions.COPMLETE:\n      return {\n        ...state,\n        loading: false,\n      };\n  }\n\n  return state;\n};\n\n","import { moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\nimport { omit } from 'ramda';\nimport { ActiveProjectActions, ActiveProjectAction } from '../../state-gui/actions/active-project.action';\nimport { ProjectDetail } from '../models/active-project.models';\n\n\nconst INITIAL_STATE: ProjectDetail = {\n  label: '',\n  list: '',\n  uiIdSerial: 0,\n  panelSerial: 0,\n  focusedPanel: 0,\n  panels: []\n};\nexport const activeProjectReducer = (state: ProjectDetail = INITIAL_STATE, action: ActiveProjectAction): ProjectDetail => {\n  let pi, ti, ppi, cpi, pti, cti;\n  switch (action.type) {\n    /************************************************************************************\n     * Load project data (metadata, crm)\n    ************************************************************************************/\n    case ActiveProjectActions.LOAD_PROJECT_BASICS_SUCCEEDED:\n      state = {\n        ...state,\n        ...action.meta.projectPreview\n      };\n      break;\n    case ActiveProjectActions.LOAD_PROJECT_CONFIG:\n      state = {\n        ...state,\n        loadingConfigData: true\n      }\n      break;\n    case ActiveProjectActions.LOAD_PROJECT_CONFIG_SUCCEEDED:\n      state = {\n        ...state,\n        // crm: action.payload.crm,\n        configDataInitialized: true,\n        loadingConfigData: false\n      }\n      break;\n\n    /************************************************************************************\n     * Layout -- Tabs\n    ************************************************************************************/\n    case ActiveProjectActions.SET_PANELS:\n      state = {\n        ...state,\n        panels: action.meta.panels,\n        uiIdSerial: action.meta.uiIdSerial,\n        panelSerial: action.meta.panelSerial,\n        focusedPanel: action.meta.focusedPanel\n      }\n      break;\n    case ActiveProjectActions.SET_LIST_TYPE:\n      state = {\n        ...state,\n        list: action.meta.list\n      }\n      break;\n    case ActiveProjectActions.ACTIVATE_TAB:\n      pi = action.meta.panelIndex;\n      ti = action.meta.tabIndex;\n      state = {\n        ...state,\n        panels: Object.assign([...state.panels], {\n          [pi]: {\n            ...state.panels[pi],\n            tabs: [...state.panels[pi].tabs].map((tab, index) => {\n              tab.active = (index === ti);\n              return tab;\n            })\n          }\n        })\n      }\n      break;\n    case ActiveProjectActions.MOVE_TAB:\n      ppi = action.meta.previousPanelIndex;\n      cpi = action.meta.currentPanelIndex;\n      pti = action.meta.previousTabIndex;\n      cti = action.meta.currentTabIndex;\n\n      if (ppi === cpi) {\n        const tabs = [...state.panels[cpi].tabs];\n        moveItemInArray(tabs, pti, cti);\n        state = {\n          ...state,\n          panels: Object.assign([...state.panels], {\n            [cpi]: {\n              ...state.panels[cpi],\n              tabs\n            }\n          })\n        }\n      } else {\n        const pTabs = [...state.panels[ppi].tabs];\n        const cTabs = [...state.panels[cpi].tabs];\n        transferArrayItem(pTabs, cTabs, pti, cti);\n        state = {\n          ...state,\n          panels: Object.assign([...state.panels], {\n            [ppi]: {\n              ...state.panels[ppi],\n              tabs: pTabs.map((tab, index) => {\n                tab.active = (index === (pti < pTabs.length ? pti : (pti - 1)));\n                return tab;\n              })\n            },\n            [cpi]: {\n              ...state.panels[cpi],\n              tabs: cTabs.map((tab, index) => {\n                tab.active = (index === cti);\n                return tab;\n              })\n            }\n          })\n        }\n      }\n\n      break;\n    case ActiveProjectActions.ADD_TAB:\n      if (state.panels.length === 0) {\n        state = {\n          ...state,\n          panels: [\n            {\n              id: state.panelSerial,\n              tabs: []\n            }\n          ],\n          focusedPanel: 0,\n          panelSerial: state.panelSerial + 1\n        }\n      }\n      pi = state.focusedPanel;\n      state = {\n        ...state,\n        panels: Object.assign([...state.panels], {\n          [pi]: {\n            ...state.panels[pi],\n            tabs: [\n              ...state.panels[pi].tabs.map(t => {\n                t.active = false;\n                return t;\n              }),\n              {\n                ...omit(['pathSegment'], action.meta.tab),\n                // panelIndex: pi,\n                path: ['activeProject', action.meta.tab.pathSegment, state.uiIdSerial.toString()]\n              }\n            ]\n          }\n        }),\n        uiIdSerial: (state.uiIdSerial + 1)\n      }\n      break;\n    case ActiveProjectActions.CLOSE_TAB:\n      pi = action.meta.panelIndex;\n      ti = action.meta.tabIndex;\n      // remove the closing tab\n      state = {\n        ...state,\n        panels: Object.assign([...state.panels], {\n          [pi]: {\n            ...state.panels[pi],\n            tabs: [...state.panels[pi].tabs]\n              .filter((tab, index) => index !== ti)\n\n          }\n        })\n      }\n      // activate a sibling tab, if needed and possible\n      if (!state.panels[pi].tabs.find(t => t.active)) {\n        state = {\n          ...state,\n          panels: Object.assign([...state.panels], {\n            [pi]: {\n              ...state.panels[pi],\n              tabs: [...state.panels[pi].tabs]\n                .map((tab, index) => {\n                  tab.active = (index === (ti < state.panels[pi].tabs.length ? ti : (ti - 1)));\n                  return tab;\n                })\n            }\n          })\n\n        }\n      }\n      break;\n    case ActiveProjectActions.CLOSE_PANEL:\n      pi = action.meta.panelIndex;\n      const panels = [...state.panels];\n      panels.splice(pi, 1);\n      state = {\n        ...state,\n        panels\n      }\n      break;\n\n    case ActiveProjectActions.FOCUS_PANEL:\n      state = {\n        ...state,\n        focusedPanel: action.meta.panelIndex\n      }\n      break;\n    case ActiveProjectActions.SPLIT_PANEL:\n      ppi = action.meta.previousPanelIndex;\n      ti = action.meta.tabIndex;\n      cpi = action.meta.currentPanelIndex;\n      const moveTab = state.panels[ppi].tabs[ti];\n      // removes tab from old panel\n      state = {\n        ...state,\n        panels: Object.assign([...state.panels], {\n          [ppi]: {\n            ...state.panels[ppi],\n            tabs: [...state.panels[ppi].tabs]\n              .filter((tab, index) => index !== ti)\n              .map((tab, index) => {\n                if (index === 0) tab.active = true;\n                return tab;\n              })\n          }\n        })\n      }\n      // insert a new panel at position of cpi\n      const newPanels = [...state.panels];\n      newPanels.splice(cpi, 0, {\n        id: state.panelSerial,\n        tabs: [moveTab]\n      })\n      state = {\n        ...state,\n        panels: newPanels,\n        // increase panel id sequence\n        panelSerial: state.panelSerial + 1\n      }\n\n      break;\n\n\n    case ActiveProjectActions.SET_REFINING_CHUNK:\n      state = {\n        ...state,\n        refiningChunk: action.payload.refiningChunk\n      };\n      break;\n    case ActiveProjectActions.SET_CREATING_MENTIONING:\n      state = {\n        ...state,\n        creatingMentioning: action.payload.creatingMentioning\n      };\n      break;\n\n    /************************************************************************************\n    * Highlighting of mentionings in the gui\n    ************************************************************************************/\n    case ActiveProjectActions.SET_MENTIONINGS_FOCUSED_IN_TEXT:\n      state = {\n        ...state,\n        mentioningsFocusedInText: action.payload.mentioningsFocusedInText\n      };\n      break;\n\n    case ActiveProjectActions.SET_MENTIONINGS_FOCUSED_IN_TABLE:\n      state = {\n        ...state,\n        mentioningsFocusedInTable: action.payload.mentioningsFocusedInTable\n      };\n      break;\n\n\n    /************************************************************************************\n     * Destroy the active project state (on closing a project)\n    ************************************************************************************/\n    case ActiveProjectActions.DESTROY:\n      state = INITIAL_STATE;\n      break;\n  }\n\n  return state;\n}\n","import { List } from './list';\n\nexport class Information {\n\n  // search results\n  items?: List;\n\n  loading?: boolean;\n\n  constructor(data?: Information) {\n    Object.assign(this, data);\n  }\n}\n","import { dispatch } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { Information } from '../models/entity-list.models';\n\ntype Payload = Information;\nexport type InformationAPIAction = FluxStandardAction<Payload, {}>;\n\n@Injectable()\nexport class InformationAPIActions {\n\n\n\n  static readonly DESTROY = 'Information::DESTROY';\n\n\n  /*********************************************************************\n  *  Method to distroy the slice of store\n  *********************************************************************/\n  @dispatch() destroy = (): InformationAPIAction => ({\n    type: InformationAPIActions.DESTROY,\n    meta: null,\n    payload: null\n  })\n}\n","import { Action } from 'redux';\nimport { Information } from '../models/entity-list.models';\nimport { InformationAPIAction, InformationAPIActions } from '../actions/entity-list.actions';\n\n\nconst INITIAL_STATE = new Information();\n\nexport function informationReducer(state: Information = INITIAL_STATE, a: Action): Information {\n\n  const action = a as InformationAPIAction;\n\n  switch (action.type) {\n\n\n    /*****************************************************\n    * Reducers called on destroy of component\n    *****************************************************/\n    case InformationAPIActions.DESTROY:\n      state = {};\n      break;\n\n  }\n\n  return state;\n};\n\n","import { dispatch } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { SourceList } from '../models/source-list.models';\n\ntype Payload = SourceList;\ninterface MetaData {\n  // pkEntity?: number;\n  // pkSource?: number;\n  // pkProject?: number;\n  // crm?: ProjectCrm;\n\n  // sourceDetail?: PeItDetail;\n  // sectionDetail?: PeItDetail;\n\n  // classAndTypePk?: ClassAndTypePk;\n  // pkUiContext?: number;\n  pkAllowedClasses?: number[];\n};\nexport type SourceListAPIAction = FluxStandardAction<Payload, MetaData>;\n\n@Injectable()\nexport class SourceListAPIActions {\n\n  static readonly INITIALIZE_LIST = 'SourceList::INITIALIZE_LIST';\n\n  static readonly DESTROY = 'SourceList::DESTROY';\n\n\n  /*********************************************************************\n  *  Actions to manage the list\n  *********************************************************************/\n\n  @dispatch() initializeList = (pkAllowedClasses: number[]): SourceListAPIAction => ({\n    type: SourceListAPIActions.INITIALIZE_LIST,\n    meta: { pkAllowedClasses },\n    payload: null\n  })\n\n\n\n\n  /*********************************************************************\n  *  Method to distroy the slice of store\n  *********************************************************************/\n  @dispatch()\n  destroy = (): SourceListAPIAction => ({\n    type: SourceListAPIActions.DESTROY,\n    meta: null,\n    payload: null\n  })\n\n}\n","import { List } from './list';\n\n// Class of this slice of store\nexport class SourceList {\n\n  // the list of sources (search result)\n  list?: List;\n\n  // // class and type selector\n  // classAndTypeSelector?: ClassAndTypeSelector;\n\n  loading?: boolean;\n\n  constructor(data?: SourceList) {\n    Object.assign(this, data);\n  }\n}\n","import { Action } from 'redux';\nimport { SourceListAPIAction, SourceListAPIActions } from '../actions/source-list.actions';\nimport { SourceList } from '../models/source-list.models';\n\nconst INITIAL_STATE = new SourceList();\n\nexport function sourceListReducer(state: SourceList = INITIAL_STATE, a: Action): SourceList {\n\n  const action = a as SourceListAPIAction;\n\n  switch (action.type) {\n\n    case SourceListAPIActions.INITIALIZE_LIST:\n      state = {\n        ...state,\n        list: {\n          pkAllowedClasses: action.meta.pkAllowedClasses\n        }\n      }\n      break;\n\n\n    /*****************************************************\n    * Reducers called on destroy of component\n    *****************************************************/\n    case SourceListAPIActions.DESTROY:\n      state = {};\n      break;\n\n  }\n\n  return state;\n};\n\n","import { Injectable } from '@angular/core';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { ProjectPreview } from '../models/active-project.models';\nexport type ProjectsAction = FluxStandardAction<ProjectPreview[], {}>;\n\n\n@Injectable()\nexport class ProjectsActions {\n  static LOAD_PROJECTS_SUCCEEDED = 'LOAD_PROJECTS_SUCCEEDED';\n\n  loadProjectsSucceeded(payload: ProjectPreview[]): ProjectsAction {\n    return {\n      type: ProjectsActions.LOAD_PROJECTS_SUCCEEDED,\n      payload,\n      meta: null\n    };\n  }\n\n}\n","import { ProjectsAction, ProjectsActions } from '../actions/projects.actions';\nimport { IProjectList } from '../models/projects.model';\nimport { ProjectPreview } from '../models/active-project.models';\n\nconst INITIAL_STATE: IProjectList = {\n  records: []\n};\n\nconst projectListReducer = (lastState: IProjectList = INITIAL_STATE, action: ProjectsAction): IProjectList => {\n  switch (action.type) {\n    case ProjectsActions.LOAD_PROJECTS_SUCCEEDED: return {\n      ...lastState, records: action.payload.map((record: ProjectPreview) => ({ record: record }))\n    };\n  }\n\n  return lastState;\n}\n\nexport const createProjectsReducer = () => {\n  return projectListReducer;\n}\n","import { GvFieldId } from '@kleiolab/lib-sdk-lb4';\nimport { keys, values } from 'ramda';\nexport function subfieldIdToString(x: GvFieldId): string {\n  return `${x.fkSourceEntity}_${x.fkProperty}_${x.isOutgoing ? 'out' : 'in'}_${keys(x.scope)[0]}_${values(x.scope)[0]}`\n}\n","import { composeReducers } from '@angular-redux/form';\nimport { U } from '@kleiolab/lib-utils';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { equals, indexBy, keys, omit, values } from 'ramda';\nimport { combineReducers, Reducer } from 'redux';\nimport { LoadPageMeta, LoadPageSucceededMeta } from './schema-actions-factory';\nimport { subfieldIdToString } from './subfieldIdToString';\n\nexport const PR_ENTITY_MODEL_MAP = 'pkEntityModelMap'\nexport interface EntityModelAndClass<ModelName> {\n  modelName: ModelName,\n  fkClass: number\n}\n\nexport interface ReducerConfigCollection {\n  [key: string]: ReducerConfig\n}\n\nexport interface ReducerConfig {\n  // wraps everything in facette named by facetteByPk and grouped by action.meta.pk\n  facetteByPk?: string,\n  indexBy?: {\n    keyInStore: string;\n    indexByFn: (item) => string;\n  },\n  groupBy?: {\n    keyInStore: string;\n    groupByFn: (item) => string;\n  }[],\n  equals?: (itemA, itemB) => boolean\n}\n\nexport interface Meta<Model> { items: Model[], pk?: number }\n\n\nexport const by = (name: string) => 'by_' + name;\n// export const paginateName = (pagBy: PaginateByParam[]) => pagBy.map(p => Object.keys(p)[0]).join('__');\n\n// export const pag = (name: string) => 'pag_' + name;\n// export const paginatedBy = (name: string) => pag(by(name));\n\n// export const paginateKey = (pagBy: PaginateByParam[]) => pagBy.map(p => values(p)[0]).join('_');\nexport const paginateBy = 'by_subfield_page'\n\nexport function getFromTo(limit: number, offset: number) {\n  return getStart(limit, offset) + '_' + getEnd(limit, offset);\n}\n\nexport function getEnd(limit: number, offset: number) {\n  return getStart(limit, offset) + limit;\n}\n\nexport function getStart(limit: number, offset: number) {\n  return offset;\n}\n\n/**\n * Creates standard reducers for the given model.\n *\n * Adds indexes according to config.\n *\n * S: Interface of the state (slice of store)\n */\nexport class ReducerFactory<Payload, Model> {\n\n  constructor(public actionPrefix: string, public configs: ReducerConfigCollection) { }\n\n  public createReducers() {\n\n    const reducers = {}\n    U.obj2KeyValueArr(this.configs).forEach(x => {\n      reducers[x.key] = this.createModelReducers(x.key, x.value);\n    });\n\n    const entityModelMapReducers = keys(this.configs).map(modelName => this.createEntityModelMapReducers(modelName))\n    reducers[PR_ENTITY_MODEL_MAP] = composeReducers(...entityModelMapReducers)\n\n    return combineReducers(reducers)\n  }\n\n  private createModelReducers(modelName, config: ReducerConfig) {\n    const actionPrefix = this.actionPrefix;\n    const reducer = (state = {}, action: FluxStandardAction<Payload, Meta<Model>>) => {\n\n      const facette = this.facette(modelName, config)\n\n      if (action.type === actionPrefix + '.' + modelName + '::LOAD') {\n\n        state = facette(action, state, (innerState) => ({\n          // TODO refactor this for partial lodings\n          ...omit([by(config.indexBy.keyInStore)], innerState),\n          loading: true\n        }));\n\n      }\n\n\n      else if (action.type === actionPrefix + '.' + modelName + '::LOAD_SUCCEEDED') {\n        // If action state differs from\n        state = facette(action, state, (innerState) => (\n          {\n            ...this.mergeItemsInState(config, innerState, action),\n            loading: false\n          }))\n      }\n\n\n      else if (action.type === actionPrefix + '.' + modelName + '::UPSERT') {\n        state = facette(action, state, (innerState) => ({\n          ...innerState,\n          [this.updatingBy(config.indexBy.keyInStore)]: this.indexKeyObject(action, config)\n        }))\n      }\n\n      else if (action.type === actionPrefix + '.' + modelName + '::UPSERT_SUCCEEDED') {\n        state = facette(action, state, (innerState) => ({\n          ... this.mergeItemsInState(config, innerState, action\n            // , true\n          ),\n          [this.updatingBy(config.indexBy.keyInStore)]:\n            omit(values(this.indexKeyObject(action, config)), innerState[this.updatingBy(config.indexBy.keyInStore)])\n        }))\n      }\n\n      else if (action.type === actionPrefix + '.' + modelName + '::DELETE') {\n        state = facette(action, state, (innerState) => ({\n          ...innerState,\n          [this.deletingBy(config.indexBy.keyInStore)]: this.indexKeyObject(action, config)\n        }));\n      }\n\n      else if (action.type === actionPrefix + '.' + modelName + '::DELETE_SUCCEEDED') {\n\n        const deletingKey = this.deletingBy(config.indexBy.keyInStore)\n        state = facette(action, state, (innerState) => {\n          innerState = {\n            ...this.deleteItemsFromState(config, action, innerState),\n            [deletingKey]: omit(values(this.indexKeyObject(action, config)), innerState[this.deletingBy(config.indexBy.keyInStore)])\n          }\n          if (!Object.keys(innerState[deletingKey]).length) innerState = omit([deletingKey], innerState);\n          return innerState;\n        })\n\n      }\n\n      else if (action.type === actionPrefix + '.' + modelName + '::REMOVE') {\n        state = facette(action, state, (innerState) => ({\n          ...innerState,\n          [this.removingBy(config.indexBy.keyInStore)]: this.indexKeyObject(action, config)\n        }));\n      }\n\n      else if (action.type === actionPrefix + '.' + modelName + '::REMOVE_SUCCEEDED') {\n\n        const removingKey = this.removingBy(config.indexBy.keyInStore)\n        state = facette(action, state, (innerState) => {\n          innerState = {\n            ...this.deleteItemsFromState(config, action, innerState),\n            [removingKey]: omit(values(this.indexKeyObject(action, config)), innerState[this.removingBy(config.indexBy.keyInStore)])\n          }\n          if (!Object.keys(innerState[removingKey]).length) innerState = omit([removingKey], innerState);\n          return innerState;\n        })\n      }\n\n      else if (action.type === actionPrefix + '.' + modelName + '::FAILED') {\n\n        state = facette(action, state, (innerState) => ({\n          ...innerState,\n          ...omit([by(config.indexBy.keyInStore)], innerState),\n          loading: false\n        }));\n\n      }\n\n\n      else if (action.type === actionPrefix + '.' + modelName + '::LOAD_PAGE') {\n        const meta = action.meta as any as LoadPageMeta;\n        const key = subfieldIdToString(meta.page)\n        const fromTo = getFromTo(meta.page.limit, meta.page.offset);\n\n        state = facette(action, state, (innerState) => ({\n          ...innerState,\n          [paginateBy]: {\n            ...innerState[paginateBy],\n            [key]: {\n              ...(innerState[paginateBy] || {})[key],\n              loading: {\n                ...((innerState[paginateBy] || {})[key] || {}).loading,\n                [fromTo]: true\n              }\n            }\n          }\n        }));\n      }\n      else if (action.type === actionPrefix + '.' + modelName + '::LOAD_PAGE_FAILED') {\n        const meta = action.meta as any as LoadPageMeta;\n\n        const key = subfieldIdToString(meta.page)\n        const fromTo = getFromTo(meta.page.limit, meta.page.offset);\n\n        state = facette(action, state, (innerState) => ({\n          ...innerState,\n          [paginateBy]: {\n            ...innerState[paginateBy],\n            [key]: {\n              ...(innerState[paginateBy] || {})[key],\n              loading: {\n                ...((innerState[paginateBy] || {})[key] || {}).loading,\n                [fromTo]: false\n              }\n            }\n          }\n        }));\n      }\n\n      else if (action.type === actionPrefix + '.' + modelName + '::LOAD_PAGE_SUCCEEDED') {\n        const meta = action.meta as any as LoadPageSucceededMeta;\n        const key = subfieldIdToString(meta.page)\n        const fromTo = getFromTo(meta.page.limit, meta.page.offset);\n        const start = getStart(meta.page.limit, meta.page.offset);\n\n        const rows = {}\n        if (meta.pks) {\n          meta.pks.forEach((pk, i) => {\n            rows[start + i] = pk;\n          })\n        }\n        state = facette(action, state, (innerState) => ({\n          ...innerState,\n          [paginateBy]: {\n            ...innerState[paginateBy],\n            [key]: {\n              ...(innerState[paginateBy] || {})[key],\n              count: meta.count || 0,\n              rows: {\n                ...((innerState[paginateBy] || {})[key] || {}).rows,\n                ...rows\n              },\n              loading: {\n                ...((innerState[paginateBy] || {})[key] || {}).loading,\n                [fromTo]: false\n              }\n            }\n          }\n        }));\n\n      }\n\n      return state;\n    };\n\n\n    return reducer;\n  }\n\n  /**\n   * Creates an map for pk_entity -> modelName on the level of the schema:\n   * example:\n   */\n  private createEntityModelMapReducers(modelName): Reducer<unknown, FluxStandardAction<Payload, Meta<Model>>> {\n    const actionPrefix = this.actionPrefix;\n    const reducer = (state = {}, action: FluxStandardAction<Payload, Meta<Model>>) => {\n      const modelPath = actionPrefix + '.' + modelName;\n\n      if (!action || !action.meta || !action.meta.items || !action.meta.items.length) return state;\n      const items = action.meta.items;\n\n      switch (action.type) {\n        case modelPath + '::LOAD_SUCCEEDED':\n        case modelPath + '::UPSERT_SUCCEEDED':\n          const idx = {}\n          for (let i = 0; i < items.length; i++) {\n            const item = items[i] as any;\n            if (item.pk_entity) {\n              idx[item.pk_entity] = {\n                modelName,\n                fkClass: item.fk_class\n              }\n            }\n          }\n          state = {\n            ...state,\n            ...idx\n          }\n          break;\n\n        case modelPath + '::DELETE_SUCCEEDED':\n        case modelPath + '::REMOVE_SUCCEEDED':\n          const pkEntities = []\n          for (let i = 0; i < items.length; i++) {\n            const item = items[i] as any;\n            if (item.pk_entity) {\n              pkEntities.push(item.pk_entity);\n            }\n          }\n          state = omit(pkEntities, state)\n          break;\n\n        default:\n          break;\n      }\n      return state;\n    };\n    return reducer;\n  }\n\n\n  updatingBy = (name: string) => 'updating_' + by(name);\n  deletingBy = (name: string) => 'deleting_' + by(name);\n  removingBy = (name: string) => 'removing_' + by(name);\n\n\n\n  private facette(modelName: any, config: ReducerConfig) {\n    return (action, state, cb: (innerState) => any) => {\n      let outerState;\n      ({ outerState, state } = this.deFacette(modelName, config, action, outerState, state));\n      const innerState = cb(state);\n      return this.enFacette(modelName, config, action, innerState, outerState);\n    };\n  }\n\n  private deFacette(modelName: string, config: ReducerConfig, action: FluxStandardAction<Payload, { items: Model[]; pk?: number; }>, outerState: any, state: {}) {\n    if (this.isFacetteByPk(config, action)) {\n      // outerState = clone(state);\n      const pk = action.meta.pk || 'repo'\n      // state = !state[config.facetteByPk] ? {} : state[config.facetteByPk][pk] || {};\n      const innerState = !state[config.facetteByPk] ? {} : state[config.facetteByPk][pk] || {};\n      return {\n        outerState: state,\n        state: innerState\n      }\n    }\n    return { outerState, state };\n  }\n\n  private enFacette(modelName: string, config: ReducerConfig, action: FluxStandardAction<Payload, { items: Model[]; pk?: number; }>, state: {}, outerState: any) {\n    if (this.isFacetteByPk(config, action)) {\n      const pk = action.meta.pk || 'repo'\n      state = {\n        ...outerState,\n        [config.facetteByPk]: {\n          ...outerState[config.facetteByPk],\n          [pk]: state\n        }\n      };\n    }\n    return state;\n  }\n\n\n  private isFacetteByPk(config: ReducerConfig, action: FluxStandardAction<Payload, { items: Model[]; pk?: number; }>) {\n    if (config.facetteByPk) {\n      if (!action.meta || action.meta.pk === undefined) throw Error('Facette actionÂ must provide pk for facette');\n      else return true;\n    }\n    else return false;\n  }\n\n\n\n  deleteItemsFromState(config: ReducerConfig, action: FluxStandardAction<Payload, { items: Model[]; }>, state) {\n    const items = action.meta.items;\n    // let state = {}\n    const groupBys = !(config.groupBy && config.groupBy.length) ? [] : config.groupBy;\n    const groups = groupBys.map(i => ({\n      groupByKey: by(i.keyInStore),\n      groupByFn: i.groupByFn,\n    }))\n    const mainIndexKey = by(config.indexBy.keyInStore); // first segment e.g. 'by_pk_entity'\n\n    items.forEach((removedItem) => {\n      // get path segments of new item\n      const itemKey = config.indexBy.indexByFn(removedItem); // second segment e.g. '807060'\n\n      // get old item, if exists\n      const oldItem = state[mainIndexKey] ? state[mainIndexKey][itemKey] : undefined;\n\n      // Q: Does the item exists?\n      if (oldItem) {\n        // A: Yes. use old item does exist\n\n        // remove the removedItem at path in main index\n        state = {\n          ...state,\n          [mainIndexKey]: {\n            ...omit([itemKey], state[mainIndexKey]),\n          }\n        }\n\n        // delete the removedItem at path in the group index\n        groups.forEach(g => {\n          const groupKey = this.getGroupKeyOfItem(g.groupByFn, removedItem)\n          state = {\n            ...state,\n            [g.groupByKey]: {\n              ...state[g.groupByKey],\n              [groupKey]: {\n                ...omit([itemKey], (state[g.groupByKey] || {})[groupKey])\n              }\n            }\n          }\n          // // cleanup paginations\n          // state = this.resetPaginationsByGroup(g.groupByKey, state, groupKey);\n\n        })\n      }\n\n\n    })\n\n    // cleanup main index\n    if (Object.keys(state[mainIndexKey]).length < 1) {\n      state = { ...omit([mainIndexKey], state) }\n    }\n    // cleanup group indices\n    groups.forEach(g => {\n\n      // cleanup groups in group index\n      Object.keys(state[g.groupByKey]).forEach(groupKey => {\n\n        if (Object.keys(state[g.groupByKey][groupKey]).length < 1) {\n          state = {\n            ...state,\n            [g.groupByKey]: omit([groupKey], state[g.groupByKey])\n          }\n        }\n      })\n\n      // cleanup group index\n      if (Object.keys(state[g.groupByKey]).length < 1) {\n        state = { ...omit([g.groupByKey], state) }\n      }\n    })\n\n\n    return state;\n  }\n\n  mergeItemsInState(config: ReducerConfig, state, action: FluxStandardAction<Payload, { items: Model[]; }>\n    // , resetPaginations = false\n  ) {\n    const items = action.meta.items;\n    const groupBys = !(config.groupBy && config.groupBy.length) ? [] : config.groupBy;\n    const groups = groupBys.map(i => ({\n      groupByKey: by(i.keyInStore),\n      groupByFn: i.groupByFn,\n    }))\n\n    const mainIndexKey = by(config.indexBy.keyInStore); // first segment e.g. 'by_pk_entity'\n\n    items.forEach((newItem) => {\n      // get path segments of new item\n      const itemKey = config.indexBy.indexByFn(newItem); // second segment e.g. '807060'\n\n      // get old item, if exists\n      const oldItem = state[mainIndexKey] ? state[mainIndexKey][itemKey] : undefined;\n\n      let itemToSet;\n\n      // Q: Does the item exists, and is it deeply-equal to the new item?\n      const equalsFn = config.equals || equals\n      if (oldItem && equalsFn(newItem, oldItem)) {\n        // A: Yes. use old item as itemToSet\n        itemToSet = oldItem;\n      }\n      else {\n        // A: No. use new item as itemToSet\n        itemToSet = newItem;\n\n        // put the itemToSet at path in main index\n        state = {\n          ...state,\n          [mainIndexKey]: {\n            ...state[mainIndexKey],\n            [itemKey]: itemToSet\n          }\n        }\n\n        // iterate over the group indexes\n        groups.forEach(g => {\n          // remove the oldItem from all group indexes\n          const oldGroupKey = this.getGroupKeyOfItem(g.groupByFn, oldItem)\n          state = {\n            ...state,\n            [g.groupByKey]: {\n              ...state[g.groupByKey],\n              [oldGroupKey]: {\n                ...omit([itemKey], (state[g.groupByKey] || {})[oldGroupKey])\n              }\n            }\n          }\n\n          // add the itemToSet to all group indexes, if not undefined\n          const newGroupKey = this.getGroupKeyOfItem(g.groupByFn, itemToSet)\n          if (newGroupKey !== undefined) {\n            state = {\n              ...state,\n              [g.groupByKey]: {\n                ...state[g.groupByKey],\n                [newGroupKey]: {\n                  ...(state[g.groupByKey] || {})[newGroupKey],\n                  [itemKey]: itemToSet\n                }\n              }\n            }\n          }\n\n        })\n      }\n    })\n\n\n    return state;\n  }\n\n\n  // /**\n  //  * resets pagination within a group, e.g. 'pag_by_fk_property'\n  //  * TODO: check if can be deleted\n  //  */\n  // private resetPaginationsByGroup(groupByKey: string, state: any, groupKey: any, isUpsert = false) {\n  //   const paginateBy = pag(groupByKey);\n  //   if (state[paginateBy] && state[paginateBy][groupKey] && state[paginateBy][groupKey].count !== undefined) {\n  //     state = {\n  //       ...state,\n  //       [paginateBy]: {\n  //         ...state[paginateBy],\n  //         [groupKey]: {\n  //           ...state[paginateBy][groupKey],\n  //           ...(!isUpsert ? {} : { count: state[paginateBy][groupKey].count + 1 }),\n  //           rows: {},\n  //           loading: {}\n  //         }\n  //       }\n  //     };\n  //   }\n  //   return state;\n  // }\n\n  /**\n   * Creates object where the key returned by the configured indexByFn\n   */\n  private indexKeyObject(action: FluxStandardAction<Payload, { items: Model[]; }>, config: ReducerConfig) {\n    return indexBy((i) => (i), action.meta.items\n      // filter items that are not (yet) indexable. This is normally the case, when creating new items that have no pk yet.\n      .filter(item => {\n        try {\n          config.indexBy.indexByFn(item);\n          return true;\n        } catch (error) {\n          return false;\n        }\n      })\n      .map(item => config.indexBy.indexByFn(item)));\n  }\n\n  groupBy(items: any[], groupByFn: (item) => string, indexByFn: (item) => string) {\n    const groups = {}\n    items.forEach(item => {\n      // if the group by key is not possible to create, the item won't be added to the index\n      const groupKey = this.getGroupKeyOfItem(groupByFn, item);\n\n      if (groupKey) {\n        const indexKey = indexByFn(item);\n        groups[groupKey] = { ...groups[groupKey], ...{ [indexKey]: item } }\n      }\n    })\n    return groups;\n  }\n\n\n\n\n  private getGroupKeyOfItem(groupByFn: (item: any) => string, item: any): string {\n    let groupKey\n    try {\n      groupKey = groupByFn(item);\n    } catch (error) {\n\n    }\n    return groupKey;\n  }\n}\n","import { sysDefinitions, sysRoot } from '../reducer-configs/sys.config';\nimport { ReducerFactory } from '../_helpers/reducer-factory';\nexport function createSysReducer() {\n  return new ReducerFactory(sysRoot, sysDefinitions).createReducers()\n}\n","\nimport { ReducerFactory } from '../_helpers/reducer-factory';\nimport { dfhDefinitions } from '../reducer-configs/dfh.config';\n\nexport function createDfhReducer() {\n  return new ReducerFactory('dfh', dfhDefinitions).createReducers()\n}\n","import { ReducerFactory } from '../_helpers/reducer-factory';\nimport { infDefinitions, infRoot } from '../reducer-configs/inf.config';\n\n\n\nexport function createInfReducer() {\n  return new ReducerFactory(infRoot, infDefinitions).createReducers()\n}\n\n\n","import { ReducerFactory } from '../_helpers/reducer-factory';\nimport { datDefinitions, datRoot } from '../reducer-configs/dat.config';\n\nexport function createDatReducer() {\n  return new ReducerFactory(datRoot, datDefinitions).createReducers()\n}\n","import { ReducerFactory } from '../_helpers/reducer-factory';\nimport { proDefinitions, proRoot } from '../reducer-configs/pro.config';\n\n\n\n\nexport function createProReducer() {\n  return new ReducerFactory(proRoot, proDefinitions).createReducers()\n}\n\n\n","import { warDefinitions, warRoot } from '../reducer-configs/war.config';\nimport { ReducerFactory } from '../_helpers/reducer-factory';\n\nexport function createWarReducer() {\n  return new ReducerFactory(warRoot, warDefinitions).createReducers()\n}\n\n\n","import { tabDefinitions, tabRoot } from '../reducer-configs/tab.config';\nimport { ReducerFactory } from '../_helpers/reducer-factory';\n\nexport function createTabReducer() {\n  return new ReducerFactory(tabRoot, tabDefinitions).createReducers()\n}\n","import { composeReducers, defaultFormReducer } from '@angular-redux/form';\nimport { routerReducer } from '@angular-redux/router';\nimport { FluxStandardAction } from 'flux-standard-action';\nimport { omit } from 'ramda';\nimport { combineReducers } from 'redux';\nimport { accountRootReducer } from '../state-gui/reducers/account.reducers';\nimport { loadingBarReducer } from '../state-gui/reducers/loading-bar.reducer';\nimport { activeProjectReducer } from '../state-gui/reducers/active-project.reducer';\nimport { informationReducer } from '../state-gui/reducers/entity-list.reducer';\nimport { sourceListReducer } from '../state-gui/reducers/source-list.reducer';\nimport { createProjectsReducer } from '../state-gui/reducers/projects.reducers';\nimport { createSysReducer } from '../state-schema/reducers/sys.reducer';\nimport { createDfhReducer } from '../state-schema/reducers/dfh.reducer';\nimport { createInfReducer } from '../state-schema/reducers/inf.reducer';\nimport { createDatReducer } from '../state-schema/reducers/dat.reducer';\nimport { createProReducer } from '../state-schema/reducers/pro.reducer';\nimport { createWarReducer } from '../state-schema/reducers/war.reducer';\nimport { createTabReducer } from '../state-schema/reducers/tab.reducer';\n\n\nexport const INIT_SANDBOX_STATE = 'INIT_SANDBOX_STATE';\nexport const sandboxStateReducer = (lastState = {}, action: FluxStandardAction<any>) => {\n  if (action.type === INIT_SANDBOX_STATE) {\n    lastState = {\n      ...lastState,\n      ...action.payload\n    };\n  }\n  return lastState;\n};\n\n\nexport const pendingRequestReducer = (state = {}, action) => {\n\n  if (action && action.meta && action.meta.addPending) {\n    const uuid = action.meta.addPending;\n    state = {\n      ...state,\n      [uuid]: true\n    }\n    // console.log('add ' + uuid + ' ' + Date.now())\n  }\n\n  if (action && action.meta && action.meta.removePending) {\n    const uuid = action.meta.removePending;\n    state = {\n      ...omit([uuid], state)\n    }\n  }\n  return state;\n}\n\n\nexport const resolvedRequestReducer = (state = {}, action) => {\n\n  if (action && action.meta && action.meta.removePending) {\n    const uuid = action.meta.removePending;\n    state = {\n      ...state,\n      [uuid]: action.meta\n    }\n  }\n  return state;\n}\n\nexport const cleanupResolved = (state = {}, action) => {\n\n  if (action && action.type === 'CLEAN_UP_RESOLVED') {\n    const uuid = action.meta.uuid;\n    state = {\n      ...omit([uuid], state)\n    }\n    // console.log('resolve ' + uuid + ' ' + Date.now().toString())\n  }\n  return state;\n}\nexport const SET_APP_STATE = 'SET_APP_STATE';\nexport const setAppState = (state = {}, action) => {\n  if (action && action.type === SET_APP_STATE) {\n    state = action.payload\n  }\n  return state;\n}\n\nexport const rootReducer = composeReducers(\n  defaultFormReducer(),\n  combineReducers({\n    account: accountRootReducer,\n    loadingBar: loadingBarReducer,\n    activeProject: activeProjectReducer,\n    routes: routerReducer,\n    information: informationReducer,\n    sources: sourceListReducer,\n    sandboxState: sandboxStateReducer,\n    projects: createProjectsReducer(),\n    sys: createSysReducer(),\n    dfh: createDfhReducer(),\n    inf: createInfReducer(),\n    dat: createDatReducer(),\n    pro: createProReducer(),\n    war: createWarReducer(),\n    tab: createTabReducer(),\n    pending: pendingRequestReducer,\n    resolved: composeReducers(resolvedRequestReducer, cleanupResolved),\n  }),\n  setAppState\n)\n","// Angular-redux ecosystem stuff.\n// @angular-redux/form and @angular-redux/router are optional\n// extensions that sync form and route location state between\n// our store and Angular.\nimport { DevToolsExtension, NgRedux, NgReduxModule } from '@angular-redux/store';\nimport { Inject, InjectionToken, ModuleWithProviders, NgModule, Optional, SkipSelf } from '@angular/core';\nimport { SlimLoadingBarModule } from '@cime/ngx-slim-loading-bar';\nimport { ToastyModule } from '@cime/ngx-toasty';\nimport { SdkLb3Module } from '@kleiolab/lib-sdk-lb3';\nimport { Configuration, ConfigurationParameters, SdkLb4Module } from '@kleiolab/lib-sdk-lb4';\nimport { equals } from 'ramda';\nimport dynamicMiddlewares from 'redux-dynamic-middlewares';\nimport { createEpicMiddleware } from 'redux-observable-es6-compat';\nimport { IAppState } from '../root/models/model';\nimport { RootEpics } from '../root/root-epics';\nimport { rootReducer } from '../root/root-reducer';\n\n\n/**\n * Function to use in combination with rxjs/operator .filter()\n * in order to get only actions dispached with a fractalkey\n * equal to the provided path.\n *\n * example:\n * pipe(\n *    filter(action => ofSubstore(c.basePath)(action)),\n *    ofType('Foo')\n * )\n * @param path\n */\nexport const ofSubstore = (path: string[]) => (action): boolean => {\n  if (!('@angular-redux::fractalkey' in action)) return false;\n\n  const actionPath = JSON.parse(action['@angular-redux::fractalkey']);\n  const bool = equals(actionPath, path);\n  return bool;\n}\n\nexport const APP_INITIAL_STATE = new InjectionToken<IAppState>('app.INITIAL_STATE');\n\nexport function apiConfigFactory(): Configuration {\n  const params: ConfigurationParameters = {\n    // set configuration parameters here.\n  }\n  return new Configuration(params);\n}\n\n@NgModule({\n  imports: [\n    NgReduxModule,\n\n    // for gui-state epics\n    SlimLoadingBarModule,\n    ToastyModule.forRoot(),\n\n  ],\n  providers: [\n\n    // AccountActions,\n    // ActiveProjectActions,\n    // LoadingBarActions,\n    // NotificationsAPIActions,\n\n    // AccountEpics,\n    // ActiveProjectEpics,\n    // LoadingBarEpics,\n    // NotificationsAPIEpics,\n\n    // DatActions,\n    // DfhActions,\n    // InfActions,\n    // ProActions,\n    // SysActions,\n    // TabActions,\n    // WarActions,\n\n    // DatEpics,\n    // DfhEpics,\n    // InfEpics,\n    // ProEpics,\n    // SysEpics,\n    // TabEpics,\n    // WarEpics,\n\n    // RootEpics,\n    // // SchemaActionsFactory,\n    // SchemaObjectService,\n    // { provide: APP_INITIAL_STATE, useValue: {} }\n  ]\n})\nexport class ReduxModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: ReduxModule,\n      providers: [{ provide: APP_INITIAL_STATE, useValue: {} }]\n    };\n  }\n\n  constructor(\n    public ngRedux: NgRedux<IAppState>,\n    devTools: DevToolsExtension,\n    rootEpics: RootEpics,\n    @Optional() @SkipSelf() parentModule?: ReduxModule,\n    @Optional() sdkLb3?: SdkLb3Module,\n    @Optional() sdkLb4?: SdkLb4Module,\n    @Optional() @Inject(APP_INITIAL_STATE) initialState?: IAppState\n  ) {\n    const errors: string[] = []\n    if (parentModule) errors.push('ReduxModule is already loaded. Import in your base AppModule only.');\n    if (!sdkLb3) errors.push('You need to import the SdkLb3Module in your AppModule!');\n    if (!sdkLb4) errors.push('You need to import the SdkLb4Module in your AppModule!');\n    if (errors.length) throw new Error(errors.join('\\n'));\n    if (!initialState) initialState = {}\n\n    const epicMiddleware = createEpicMiddleware();\n\n    // Tell Redux about our reducers and epics. If the Redux DevTools\n    // chrome extension is available in the browser, tell Redux about\n    // it too.\n    ngRedux.configureStore(\n      // RootReducer\n      rootReducer,\n\n      // Initial state\n      initialState,\n\n      // Middleware\n      [\n        // createLogger(),\n        epicMiddleware,\n        dynamicMiddlewares,\n      ],\n      // Enhancers\n      devTools.isEnabled() ? [devTools.enhancer()] : []\n    );\n\n    // Apply rootEpic\n    epicMiddleware.run(rootEpics.getRootEpic());\n\n\n    // // Enable syncing of Angular router state with our Redux store.\n    // if (ngReduxRouter) {\n    //     ngReduxRouter.initialize();\n    // }\n\n    // Enable syncing of Angular form state with our Redux store.\n    // provideReduxForms(ngRedux);\n  }\n}\n","import { DatDigital, InfAppellation, InfDimension, InfLangString, InfLanguage, InfPersistentItem, InfPlace, InfStatement, InfTemporalEntity, InfTextProperty, InfTimePrimitive, ProInfoProjRel, ProProject } from '@kleiolab/lib-sdk-lb3';\nimport { WarEntityPreview } from '@kleiolab/lib-sdk-lb4';\nimport { IAccount } from '../../state-gui/models/account.model';\nimport { ProjectDetail } from '../../state-gui/models/active-project.models';\nimport { Information } from '../../state-gui/models/entity-list.models';\nimport { LoadingBar } from '../../state-gui/models/loading-bar.models';\nimport { IProjectList } from '../../state-gui/models/projects.model';\nimport { SourceList } from '../../state-gui/models/source-list.models';\nimport { Dat } from '../../state-schema/models/dat.models';\nimport { Dfh } from '../../state-schema/models/dfh.models';\nimport { Inf } from '../../state-schema/models/inf.models';\nimport { Pro } from '../../state-schema/models/pro.models';\nimport { Sys } from '../../state-schema/models/sys.models';\nimport { Tab } from '../../state-schema/models/tab.models';\nimport { War } from '../../state-schema/models/war.models';\n\n\nexport interface InfObject {\n  persistent_item?: InfPersistentItem[]\n  temporal_entity?: InfTemporalEntity[]\n  statement?: InfStatement[]\n  place?: InfPlace[]\n  language?: InfLanguage[]\n  appellation?: InfAppellation[]\n  time_primitive?: InfTimePrimitive[]\n  text_property?: InfTextProperty[]\n  lang_string?: InfLangString[]\n  dimension?: InfDimension[]\n}\nexport interface ProObject {\n  info_proj_rel?: ProInfoProjRel[]\n  project?: ProProject[]\n}\nexport interface DatObject {\n  digital?: DatDigital[]\n}\n\nexport interface WarObject {\n  entity_preview?: WarEntityPreview[]\n}\n\nexport interface SchemaObject {\n  inf?: InfObject\n  pro?: ProObject\n  dat?: DatObject\n  war?: WarObject\n}\n\nexport interface PaginationObject {\n  count: number\n  schemas: SchemaObject\n  statements: number[]\n}\n\nexport interface IAppState {\n  account?: IAccount,\n  // backoffice?: Backoffice,\n  loadingBar?: LoadingBar,\n  projects?: IProjectList\n  sys?: Sys\n  dfh?: Dfh\n  inf?: Inf\n  dat?: Dat\n  pro?: Pro\n  war?: War\n  tab?: Tab\n  activeProject?: ProjectDetail\n  routes?: any,\n  information?: Information,\n  sources?: SourceList,\n  sandboxState?: any,\n  pending?: ByPk<string>\n}\n\n// generic interfaces used by different store modules\nexport interface ByPk<T> {\n  [pk: string]: T\n}\n\n","import { PubAccount } from '@kleiolab/lib-sdk-lb4';\n\nexport interface AccountRole {\n  id: number\n  name: string\n}\nexport interface IAccount {\n  account: PubAccount,\n  roles?: AccountRole[]\n}\n","import { DatChunk, InfPersistentItem, InfTemporalEntity, ProDfhClassProjRel, SysAppContextInterface, SysClassFieldInterface } from '@kleiolab/lib-sdk-lb3';\nimport { DfhProperty, InfLanguage, WarEntityPreview } from '@kleiolab/lib-sdk-lb4';\nimport { Observable } from 'rxjs';\nimport { Types } from './active-project/types.models';\nimport { EntityDetail } from './active-project/entity-detail';\nimport { TabBase } from './active-project/tab-layout.models';\nimport { ProjectSettingsData } from './active-project/project-settings-data.models';\n\n\nexport interface ProjectPreview {\n  label?: string,\n  description?: string,\n  default_language?: InfLanguage,\n  pk_project?: number\n}\n\nexport interface EntityByPk<T> {\n  [pk_entity: number]: T\n}\n\nexport interface VersionEntity<T> {\n  _latestVersion: number, // version number of the latest version\n  [v: number]: T\n}\n\nexport interface EntityVersionsByPk<T> {\n  [pk_entity: number]: VersionEntity<T>\n}\n\nexport interface ChunkList { [pk_entity: number]: DatChunk }\nexport interface PeItList { [pk_entity: number]: InfPersistentItem }\nexport interface TeEnList { [pk_entity: number]: InfTemporalEntity }\nexport interface PropertyList { [pk_entity: string]: DfhProperty; }\nexport interface TypePeIt extends InfPersistentItem { fk_typed_class: number; } // TODO remove if replaced by TypePreview\nexport interface TypesByClass { [dfh_pk_class: string]: TypePeIt[]; }\nexport interface TypesByPk { [pk_entity: string]: TypePeIt; }\n\nexport interface TypePreview extends WarEntityPreview { fk_typed_class: number; }\nexport interface TypePreviewsByClass { [dfh_pk_class: string]: TypePreview[]; }\nexport interface TypePreviewList { [pk_entity: string]: TypePreview[]; }\n// export interface ComQueryByPk { [key: string]: ProQuery }\n\n// export interface HasTypePropertyList { [dfh_pk_property: number]: HasTypePropertyReadable }\n\nexport type IconType = 'text' | 'table' | 'persistent-entity' | 'temporal-entity' | 'source' | 'expression-portion' | 'analysis' | 'query' | 'visual' | 'story' | 'settings';\n\nexport interface Panel {\n  id: number;\n  tabs: PanelTab<any>[];\n}\n\nexport type ListType = '' | 'entities' | 'sources' | 'analysis' | 'queries' | 'visuals' | 'stories' | 'settings';\nexport interface PanelTab<D> {\n  // wheter tab is active or not\n  active: boolean;\n  // the root component included in this tab, in dash separate minuscles: PeItDetailComponent -> 'entity-detail'\n  component: 'text-detail' | 'table-detail' | 'entity-detail' | 'te-en-detail' | 'analysis-detail' | 'query-detail' | 'visual-detail' | 'ontome-profiles-settings' | 'classes-settings' | 'contr-vocab-settings';\n  // icon to be displayed in tab, e.g.: gv-icon-source\n  icon: IconType\n  // name of the pathSegment under 'activeProject', used to generate the path: ['activeProject', pathSegment, uiId]\n  pathSegment?: 'textDetails' | 'tableDetails' | 'peItDetails' | 'teEnDetails' | 'analysisDetails' | 'queryDetails' | 'visualDetails' | 'ontomeProfilesSettings' | 'classesSettings' | 'contrVocabSettings';\n  // data to pass to component via input variabales\n  data?: D\n  // generated by reducer: base path where the component will be attatch his SubStore\n  path?: string[];\n  // generated on the fly, never in store\n  tabTitle$?: Observable<string>;\n  loading$?: Observable<boolean>;\n}\nexport interface PeItTabData {\n  // Used by peIt detail state creato\n  peItDetailConfig?: {\n    peItDetail?: EntityDetail\n    // stateSettings?: StateSettings\n  }\n}\n// export interface TeEntTabData {\n//   // Used by teEnt detail state creato\n//   teEntDetailConfig?: {\n//     teEntDetail?: TeEntDetail\n//     // stateSettings?: StateSettings\n//   }\n// }\nexport interface AnalysisTabData {\n  pkEntity?: number;\n  fkAnalysisType?: number;\n}\nexport interface TabData {\n  pkEntity?: number;\n  // classAndTypePk?: ClassAndTypePk;\n\n  pkProperty?: number;\n\n  // Used by peIt detail state creato\n  peItDetailConfig?: {\n    peItDetail?: EntityDetail\n    // stateSettings?: StateSettings\n  }\n\n  // // Used by teEnt detail state creato\n  // teEntDetailConfig?: {\n  //   teEntDetail?: TeEntDetail\n  //   // stateSettings?: StateSettingsÃ\n  // }\n}\n\nexport interface RamSource {\n  pkEntity?: number,\n  chunk?: DatChunk;\n}\n\nexport interface ProjectDetail extends ProjectPreview {\n\n  /******************************************************************\n   * CRM and Project Config\n   */\n\n  // Conceptional Reference Model\n  // crm?: ProjectCrm,\n  loadingConfigData?: boolean;\n  configDataInitialized?: boolean;\n\n  /******************************************************************\n   * Information Cache\n   */\n\n  // inf?: Inf;\n\n  // // data unit previews\n  // entityPreviews?: EntityPreviewList;\n\n  // // types by pk class\n  // typesByClass?: TypesByClass;\n\n  // // types by pk_entity\n  // typesByPk?: TypesByPk;\n\n  // // data unit details for display in modal\n  // peItModals?: PeItDetailList;\n\n  // // chunk List\n  // chunks?: ChunkList;\n\n  // // InfPersistentItems with statements by pk_entity\n  // peItGraphs?: PeItList;\n\n  // // InfPersistentItems with statements by pk_entity\n  // teEnGraphs?: TeEnList;\n\n  // // ComQuery list by pk_entity\n  // comQueryVersionsByPk?: EntityVersionsByPk<ProQuery>;\n  // comQueryLoading?: boolean;\n  // comQueryVersionLoading?: { [key: string]: boolean };\n\n  // // ComVisual list by pk_entity\n  // comVisualVersionsByPk?: EntityVersionsByPk<ProVisual>;\n  // comVisualLoading?: boolean;\n  // comVisualVersionLoading?: boolean;\n\n\n  /******************************************************************\n   * Layout â Tabs\n   */\n  list?: ListType;\n\n  panels?: Panel[]\n\n  // index of focused Panel\n  focusedPanel?: number;\n\n  // serial number for panels\n  panelSerial?: number;\n\n  // serial number for uiId\n  uiIdSerial?: number;\n\n  tabLayouts?: { [uiId: string]: TabBase }\n\n  // reference the uiId within the path of the tab (uiId has nothing to do with pk_entity)\n  textDetails?: { [uiId: string]: TabBase }\n\n  // reference the uiId within the path of the tab (uiId has nothing to do with pk_entity)\n  peItDetails?: { [uiId: string]: EntityDetail }\n\n  // // reference the uiId within the path of the tab (uiId has nothing to do with pk_entity)\n  // teEnDetails?: { [uiId: string]: TeEntDetail }\n\n  // reference the uiId within the path of the tab (uiId has nothing to do with pk_entity)\n  analysisDetails?: { [uiId: string]: any }\n\n  // // reference the uiId within the path of the tab (uiId has nothing to do with pk_entity)\n  // queryDetails?: { [uiId: string]: QueryDetail }\n\n  // // reference the uiId within the path of the tab (uiId has nothing to do with pk_entity)\n  // visualDetails?: { [uiId: string]: VisualDetail }\n\n  // reference the uiId within the path of the tab (uiId has nothing to do with pk_entity)\n  classesSettings?: { [uiId: string]: ProjectSettingsData }\n\n  // reference the uiId within the path of the tab (uiId has nothing to do with pk_entity)\n  contrVocabSettings?: { [uiId: string]: Types }\n\n  // reference the uiId within the path of the tab (uiId has nothing to do with pk_entity)\n  ontomeProfilesSettings?: { [uiId: string]: any }\n\n  // /******************************************************************\n  //  * Layout â Modals\n  //  */\n\n  // addModal?: CreateOrAddEntity;\n\n\n  /******************************************************************\n   * Things for Mentionings / Annotations\n   */\n\n\n  // // the chunk that is used to create mentionings\n  // selectedChunk?: DatChunk;\n\n  // if true, the text editor behaves so that each node can be clicked to de-/activate\n  refiningChunk?: boolean;\n\n  // true, when mentioning is being created.\n  // TODO: check, if needed\n  creatingMentioning?: boolean;\n\n  // Array of pk_entities of mentionings (a.k.a. statements of property \"is mentioned in\")\n  // that are focused by a click on a chunk (in text editor)\n  mentioningsFocusedInText?: number[]\n\n  // Array of pk_entities of mentionings (a.k.a. statements of property \"is mentioned in\")\n  // that are focused by click on mentioning in a list/table view\n  mentioningsFocusedInTable?: number[]\n\n}\n\nexport interface ProjectCrm {\n  classes?: ClassConfigList;\n  properties?: PropertyList\n}\n\nexport interface ClassConfigList { [dfh_pk_class: number]: ClassConfig }\n\nexport interface ClassConfig {\n  pkEntity: number;\n  dfh_pk_class: number;\n\n  label: string;\n  dfh_standard_label: string;\n\n  profileLabels: string;\n  profilePks: number[];\n\n  projRel?: ProDfhClassProjRel;\n  isInProject?: boolean; // reflects the enabled / disabled state from data settings of the project\n  changingProjRel: boolean;\n\n  subclassOf?: 'peIt' | 'teEnt' | 'other'; // to distinguish TeEnts from PeIts\n\n  subclassOfType?: boolean; // true if subclass of E55 Type\n\n  scopeNote: string;\n\n  dfh_identifier_in_namespace: string;\n\n  // propertyFields?: PropertyFieldList;\n  uiContexts?: {\n    [pk: number]: UiContext\n  }\n\n  required_by_sources?: boolean\n  required_by_entities?: boolean\n  required_by_basics?: boolean\n  excluded_from_entities?: boolean\n}\n\nexport interface UiContext extends SysAppContextInterface {\n  uiElements?: UiElement[]\n}\n\n// short version of ComUiContextConfig\nexport interface UiElement {\n  fk_property?: number,\n  property_is_outgoing?: boolean,\n  propertyFieldKey?: string, // TODO: merge the propertyFieldKey and propSetKey to fieldKey\n  propSetKey?: string,\n  fk_class_field?: number,\n  class_field?: SysClassFieldInterface\n  ord_num: number\n}\n","export type RightPanelTab = 'linked-sources' | 'linked-digitals' | 'content-tree';\n\nexport interface PeItDetailList { [pk_entity: number]: EntityDetail };\n\n\nexport class EntityDetail {\n\n\n  // _fields?: FieldList;\n\n  pkEntity?: number;\n\n  /** Left Panel Visibility */\n\n  // the properties with information about the peIt\n  showProperties?= false;\n\n  // the right area\n  showRightArea?= true;\n\n  /** Right panel */\n  rightPanelTabs?: RightPanelTab[] = []\n  rightPanelActiveTab?= 0; // index of the active tab\n\n  // the bar to above the properties\n  // showPropertiesHeader?= true;\n\n  // the header with name of peIt\n  showHeader?= true;\n\n\n  constructor(data?: EntityDetail) {\n    Object.assign(this, data);\n  }\n\n\n}\n","import { ClassConfig } from '../active-project.models';\n\nexport type EntityType = 'teEnt' | 'peIt' | 'other';\n\n\n// Class of this slice of store\nexport class ProjectSettingsData {\n  items?: ClassConfig[];\n  // profiles?: DfhClassProfileView[];\n  tabTitle?: string;\n  loading?: boolean;\n  error?: any;\n\n  constructor(data?: ProjectSettingsData) {\n    Object.assign(this, data);\n  }\n}\n","export type TabLayoutMode = 'left-only' | 'right-only' | 'both';\n\n// Class of this slice of store\nexport class TabBase {\n\n  pkEntity?: number;\n\n  tabTitle?: string;\n\n  tabTooltip?: string;\n\n  loading?: boolean;\n\n  layoutMode?: TabLayoutMode;\n\n  constructor(data?: TabBase) {\n    Object.assign(this, data);\n  }\n}\n","\n\n// Class of this slice of store\nexport class Types {\n  items?: {};\n  edit?: boolean;\n  loading?: boolean;\n  error?: any;\n\n  // title in the tab\n  tabTitle?: string;\n\n  constructor(data?: Types) {\n    Object.assign(this, data);\n  }\n}\n","import { EntitySearchHit } from '@kleiolab/lib-sdk-lb4';\n// Class of this slice of store\nexport class List {\n    searchString?: string;\n    // Array of dfh_pk_class of those classes that may appear in the list\n    pkAllowedClasses?: number[];\n    collectionSize?: number;\n    items?: EntitySearchHit[];\n    loading?: boolean;\n    error?: any;\n    constructor(data?: List) {\n        Object.assign(this, data);\n        if (true) {\n        }\n        else {\n        }\n    }\n}\n","export interface LoadingBar {\n  loading?: boolean;\n  progress?: number;\n}\n","import { ToastOptions } from '@cime/ngx-toasty';\n\n// Interface of this slice of store\nexport interface NotificationsI {\n    type: 'info' | Â 'success' | Â 'wait' | 'error' | 'warning';\n    options: ToastOptions;\n}\n\n// Class of this slice of store\nexport class Notifications implements NotificationsI {\n    type: 'info' | Â 'success' | Â 'wait' | 'error' | 'warning';\n    options: ToastOptions;\n\n    constructor(data?: NotificationsI) {\n        Object.assign(this, data);\n    }\n}\n","import { ProjectPreview } from './active-project.models';\n\nexport interface IProject {\n  record: ProjectPreview\n}\n\nexport interface IProjectList {\n  records: IProject[]\n}\n","import { DatColumn, DatNamespace, DatTextProperty } from '@kleiolab/lib-sdk-lb3';\nimport { DatClassColumnMapping, DatDigital } from '@kleiolab/lib-sdk-lb4';\nimport { ByPk } from '../../root/models/model';\n\n\n\n\nexport class DigitalSlice {\n  by_pk_entity__entity_version?: ByPk<DatDigital>;\n  by_pk_entity?: ByPk<ByPk<DatDigital>>;\n  by_pk_text?: ByPk<ByPk<DatDigital>>;\n  loading?: boolean\n}\nexport class ChunkSlice {\n  by_pk_entity?: ByPk<DatDigital>;\n  by_fk_text?: ByPk<ByPk<DatDigital>>;\n  loading?: boolean\n}\n\nexport class ColumnSlice {\n  by_pk_entity?: ByPk<DatColumn>;\n  by_fk_digital?: ByPk<ByPk<DatColumn>>;\n}\n\nexport class ClassColumnMappingSlice {\n  by_pk_entity?: ByPk<DatClassColumnMapping>;\n  by_fk_column?: ByPk<ByPk<DatClassColumnMapping>>;\n}\n\nexport class TextPropertySlice {\n  by_pk_entity?: ByPk<DatTextProperty>;\n  by_fk_digital?: ByPk<ByPk<DatTextProperty>>;\n}\n\nexport class NamespaceSlice {\n  by_pk_entity?: ByPk<DatNamespace>;\n  by_fk_project?: ByPk<ByPk<DatNamespace>>;\n  loading?: boolean\n}\n\nexport interface Dat {\n  digital?: DigitalSlice;\n  chunk?: ChunkSlice;\n  column?: ColumnSlice;\n  text_property?: TextPropertySlice;\n}\n\n\n\n\n","import { DfhLabel, DfhProfile } from '@kleiolab/lib-sdk-lb3';\nimport { DfhClass, DfhProperty } from '@kleiolab/lib-sdk-lb4';\nimport { ByPk } from '../../root/models/model';\n\n\nexport class DfhProfileSlice {\n  by_pk_profile?: ByPk<DfhProfile>;\n\n  loading?: boolean; // todo remove in reducer factory then here\n}\n\nexport class DfhClassSlice {\n  by_pk_class?: ByPk<DfhClass>;\n  by_basic_type?: ByPk<ByPk<DfhClass>>;\n  loading?: boolean; // todo remove in reducer factory then here\n}\n\nexport class DfhPropertySlice {\n  by_pk_property?: ByPk<ByPk<DfhProperty>>;\n  by_has_domain__fk_property?: ByPk<ByPk<DfhProperty>>;\n  by_has_range__fk_property?: ByPk<ByPk<DfhProperty>>;\n  by_has_domain?: ByPk<ByPk<DfhProperty>>;\n  by_has_range?: ByPk<ByPk<DfhProperty>>;\n  by_pk_property__has_domain__has_range?: ByPk<DfhProperty>;\n  by_is_has_type_subproperty?: ByPk<ByPk<DfhProperty>>;\n\n  loading?: boolean; // todo remove in reducer factory then here\n}\n\nexport class DfhLabelSlice {\n  by_fks?: ByPk<DfhLabel>;\n  by_fk_class__type?: ByPk<ByPk<DfhLabel>>;\n  by_fk_property__type?: ByPk<ByPk<DfhLabel>>;\n  by_fk_profile__type?: ByPk<ByPk<DfhLabel>>;\n\n  loading?: boolean; // todo remove in reducer factory then here\n}\n\nexport interface Dfh {\n  profile?: DfhProfileSlice;\n  klass?: DfhClassSlice;\n  property?: DfhPropertySlice;\n  label?: DfhLabelSlice;\n\n  pkEntityModelMap: ByPk<{ modelName: string }>\n}\n","import { InfAppellation, InfDimension, InfLangString, InfLanguage, InfPersistentItem, InfPlace, InfTemporalEntity, InfTextProperty, InfTimePrimitive } from '@kleiolab/lib-sdk-lb3';\nimport { InfStatement } from '@kleiolab/lib-sdk-lb4';\nimport { ByPk } from '../../root/models/model';\n\ninterface PaginationInfo {\n  loading: {\n    [key: string]: boolean\n  },\n  count: number,\n  rows: {\n    [key: string]: number\n  }\n}\nexport class InfPersistentItemSlice {\n  by_pk_entity?: ByPk<InfPersistentItem>;\n  by_fk_class?: ByPk<ByPk<InfPersistentItem>>;\n  loading?: boolean\n}\n\nexport class InfTemporalEntitySlice {\n  by_pk_entity?: ByPk<InfTemporalEntity>;\n  by_fk_class?: ByPk<ByPk<InfPersistentItem>>;\n  loading?: boolean\n}\n\nexport class InfStatementSlice {\n  by_pk_entity?: ByPk<InfStatement>;\n  by_subject?: ByPk<ByPk<InfStatement>>;\n  by_object?: ByPk<ByPk<InfStatement>>;\n  'by_subject+property'?: ByPk<ByPk<InfStatement>>;\n  'by_object+property'?: ByPk<ByPk<InfStatement>>;\n  by_fk_subject_data?: ByPk<ByPk<InfStatement>>;\n  by_subfield_page?: ByPk<PaginationInfo>\n  loading?: boolean\n}\n\nexport class InfPlaceSlice {\n  by_pk_entity?: ByPk<InfPlace>;\n  loading?: boolean\n}\n\nexport class InfTimePrimitiveSlice {\n  by_pk_entity?: ByPk<InfTimePrimitive>;\n  loading?: boolean\n}\n\nexport class InfLanguageSlice {\n  by_pk_entity?: ByPk<InfLanguage>;\n  loading?: boolean\n}\n\nexport class InfAppellationSlice {\n  by_pk_entity?: ByPk<InfAppellation>;\n  loading?: boolean\n}\n\n\nexport class InfLangStringSlice {\n  by_pk_entity?: ByPk<InfLangString>;\n  loading?: boolean\n}\n\n\nexport class InfDimensionSlice {\n  by_pk_entity?: ByPk<InfDimension>;\n  loading?: boolean\n}\n\nexport class InfTextPropertySlice {\n  by_pk_entity?: ByPk<InfTextProperty>;\n  by_fk_concerned_entity__fk_class_field?: ByPk<ByPk<InfTextProperty>>;\n  by_fk_concerned_entity?: ByPk<ByPk<InfTextProperty>>;\n  loading?: boolean\n}\n\n\nexport interface Inf {\n  persistent_item?: InfPersistentItemSlice;\n  temporal_entity?: InfTemporalEntitySlice;\n  statement?: InfStatementSlice;\n  place?: InfPlaceSlice;\n  time_primitive?: InfTimePrimitiveSlice;\n  language?: InfLanguageSlice;\n  appellation?: InfAppellationSlice;\n  lang_string?: InfLangStringSlice;\n  dimension?: InfDimensionSlice;\n  text_property?: InfTextPropertySlice;\n\n  pkEntityModelMap?: ByPk<{ modelName: string }>\n}\n\n\n\n\n","import { ProClassFieldConfig, ProDfhClassProjRel, ProDfhProfileProjRel, ProInfoProjRel, ProProject, ProTextProperty } from '@kleiolab/lib-sdk-lb3';\nimport { ProAnalysis } from '@kleiolab/lib-sdk-lb4';\nimport { ByPk } from '../../root/models/model';\n\nexport interface ProProjectSlice {\n  by_pk_entity?: ByPk<ProProject>;\n}\n\nexport interface ProInfoProjRelSlice {\n  by_fk_project__fk_entity?: ByPk<ProInfoProjRel>;\n  loading?: boolean\n}\n\nexport interface ProDfhClassProjRelSlice {\n  by_fk_project__fk_class?: ByPk<ProDfhClassProjRel>;\n  by_fk_project__enabled_in_entities?: ByPk<ByPk<ProDfhClassProjRel>>;\n  loading?: boolean\n}\nexport interface ProDfhProfileProjRelSlice {\n  by_fk_project__fk_profile?: ByPk<ProDfhProfileProjRel>;\n  by_fk_project__enabled?: ByPk<ByPk<ProDfhProfileProjRel>>;\n  loading?: boolean\n}\n\nexport interface ProClassFieldConfigSlice {\n  by_fk_project__fk_class?: ByPk<ProClassFieldConfig>;\n  loading?: boolean\n}\n\nexport interface ProTextPropertySlice {\n  by_pk_entity?: ProTextProperty;\n  by_fk_project__fk_property__fk_domain_class__fk_range_class?: ByPk<ProTextProperty>;\n  loading?: boolean\n}\nexport interface ProAnalysisSlice {\n  by_pk_entity?: ProAnalysis;\n}\n\nexport interface Pro {\n  info_proj_rel?: ProInfoProjRelSlice;\n  dfh_profile_proj_rel?: ProDfhProfileProjRelSlice;\n  dfh_class_proj_rel?: ProDfhClassProjRelSlice;\n  class_field_config?: ProClassFieldConfigSlice;\n  text_property?: ProTextPropertySlice;\n  analysis?: ProAnalysisSlice;\n}\n\n\n\n\n","import { SysSystemRelevantClass } from '@kleiolab/lib-sdk-lb3';\nimport { SysConfigValue } from '@kleiolab/lib-sdk-lb4';\nimport { ByPk } from '../../root/models/model';\n\nexport interface SysRelevantClassSlice {\n  by_pk_entity?: ByPk<SysSystemRelevantClass>;\n  by_fk_class?: ByPk<ByPk<SysSystemRelevantClass>>;\n  by_required_by_sources?: ByPk<ByPk<SysSystemRelevantClass>>;\n  by_required?: ByPk<ByPk<SysSystemRelevantClass>>;\n  loading?: boolean;\n}\n\n// export interface SysAnalysisTypeSlice {\n//   by_pk_entity?: ByPk<SysAnalysisType>;\n// }\nexport interface SysConfigSlice {\n  by_main?: ByPk<SysConfigValue>;\n  loading?: boolean;\n}\n\nexport interface Sys {\n  system_relevant_class?: SysRelevantClassSlice\n  config?: SysConfigSlice\n\n  pkEntityModelMap: ByPk<{ modelName: string }>\n}\n","import { TabCell } from '@kleiolab/lib-sdk-lb4';\nimport { ByPk } from '../../root/models/model';\n\nexport class TabCellSlice {\n  by_pk_cell?: ByPk<TabCell>;\n  by_fk_column_fk_row?: ByPk<ByPk<TabCell>>;\n}\n\nexport interface Tab {\n  cell?: TabCellSlice;\n}\n\n\n\n\n","import { WarEntityPreview } from '@kleiolab/lib-sdk-lb4';\nimport { ByPk } from '../../root/models/model';\n\nexport interface WarEntityPreviewSlice {\n  by_pk_entity?: ByPk<WarEntityPreview>;\n}\n\nexport interface War {\n  entity_preview?: WarEntityPreviewSlice;\n}\n\n\n\n\n"],"names":["Injectable","tslib_1.__decorate","dispatch","MetaData","combineEpics","ofType","mergeMap","Observable","PubAccountApi","U","filter","tslib_1.__extends","NgRedux","Subject","SchemaObjectApi","SysConfig","switchMap","omit","mapTo","combineLatest","map","ProProjectApi","SlimLoadingBarService","ToastyService","ToastyConfig","of","keys","ProInfoProjRel","ProDfhClassProjRel","ProDfhProfileProjRel","InfPersistentItem","InfTemporalEntity","InfStatement","InfAppellation","InfPlace","InfTimePrimitive","InfLanguage","InfLangString","InfDimension","InfTextProperty","DatDigital","DatChunk","ProProject","ProTextProperty","ProClassFieldConfig","values","DatDigitalApi","DatChunkApi","DatColumnApi","DatNamespaceApi","DfhProfileApi","DfhClassControllerService","DfhPropertyControllerService","DfhLabelApi","pathOr","InfPersistentItemApi","InfTemporalEntityApi","InfStatementApi","InfTextPropertyApi","ProInfoProjRelApi","ProDfhClassProjRelApi","ProDfhProfileProjRelApi","ProClassFieldConfigApi","ProTextPropertyApi","AnalysisService","tslib_1.__values","SubfieldPageControllerService","SysSystemRelevantClassApi","SystemConfigurationService","BehaviorSubject","INITIAL_STATE","tslib_1.__spread","moveItemInArray","transferArrayItem","composeReducers","combineReducers","equals","indexBy","defaultFormReducer","routerReducer","InjectionToken","Configuration","createEpicMiddleware","NgModule","NgReduxModule","SlimLoadingBarModule","ToastyModule","DevToolsExtension","Optional","SkipSelf","SdkLb3Module","SdkLb4Module","Inject"],"mappings":"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"}