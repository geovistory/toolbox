!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular-redux/store"),require("@angular/core"),require("ramda"),require("redux-dynamic-middlewares"),require("redux-observable-es6-compat"),require("rxjs"),require("rxjs/operators"),require("@kleiolab/lib-sdk-lb3"),require("@kleiolab/lib-config"),require("@kleiolab/lib-utils"),require("@cime/ngx-slim-loading-bar"),require("@cime/ngx-toasty"),require("@angular-redux/form"),require("redux"),require("@kleiolab/lib-sdk-lb4/public-api"),require("@angular-redux/router"),require("@angular/cdk/drag-drop")):"function"==typeof define&&define.amd?define("@kleiolab/lib-redux/src/lib/redux-store",["exports","@angular-redux/store","@angular/core","ramda","redux-dynamic-middlewares","redux-observable-es6-compat","rxjs","rxjs/operators","@kleiolab/lib-sdk-lb3","@kleiolab/lib-config","@kleiolab/lib-utils","@cime/ngx-slim-loading-bar","@cime/ngx-toasty","@angular-redux/form","redux","@kleiolab/lib-sdk-lb4/public-api","@angular-redux/router","@angular/cdk/drag-drop"],e):e(((t=t||self).kleiolab=t.kleiolab||{},t.kleiolab["lib-redux"]=t.kleiolab["lib-redux"]||{},t.kleiolab["lib-redux"].src=t.kleiolab["lib-redux"].src||{},t.kleiolab["lib-redux"].src.lib=t.kleiolab["lib-redux"].src.lib||{},t.kleiolab["lib-redux"].src.lib["redux-store"]={}),t.store,t.ng.core,t.ramda,t.dynamicMiddlewares,t.reduxObservableEs6Compat,t.rxjs,t.rxjs.operators,t.libSdkLb3,t.libConfig,t.libUtils,t.ngxSlimLoadingBar,t.ngxToasty,t.form,t.redux,t.publicApi,t.router,t.ng.cdk["drag-drop"])}(this,(function(t,e,n,i,r,o,a,c,s,p,u,l,f,d,y,_,g,h){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
var m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function A(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var E=function(){return(E=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function v(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function P(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function k(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function S(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(k(arguments[e]));return t}var O=function(){function t(){}return t.prototype.login=function(){return{type:t.LOGIN,payload:null,meta:null}},t.prototype.loginSucceeded=function(e){return{type:t.LOGIN_SUCCEEDED,payload:null,meta:{account:e}}},t.prototype.loginFailed=function(e){return{type:t.LOGIN_FAILED,payload:null,meta:null,error:e}},t.prototype.accountUpdated=function(e){return{type:t.ACCOUNT_UPDATED,payload:null,meta:{account:e}}},t.prototype.loadRoles=function(e){return{type:t.LOAD_ROLES,payload:null,meta:{accountId:e}}},t.prototype.loadRolesSucceeded=function(e){return{type:t.LOAD_ROLES_SUCCEEDED,payload:null,meta:{accountRoles:e}}},t.prototype.loadRolesFailed=function(e){return{type:t.LOAD_ROLES_FAILED,payload:null,meta:null}},t.LOGIN="Account::LOGIN",t.LOGIN_SUCCEEDED="Account::LOGIN_SUCCEEDED",t.LOGIN_FAILED="Account::LOGIN_FAILED",t.LOAD_ROLES="Account::LOAD_ROLES",t.LOAD_ROLES_SUCCEEDED="Account::LOAD_ROLES_SUCCEEDED",t.LOAD_ROLES_FAILED="Account::LOAD_ROLES_FAILED",t.ACCOUNT_UPDATED="Account::ACCOUNT_UPDATED",t.decorators=[{type:n.Injectable}],t}();var I=function(){function t(){}return t.prototype.loadProjectBasics=function(e){return{type:t.LOAD_PROJECT_BASICS,payload:null,meta:{pk_project:e}}},t.prototype.loadProjectBasiscsSucceded=function(e){return{type:t.LOAD_PROJECT_BASICS_SUCCEEDED,payload:null,meta:{projectPreview:e}}},t.prototype.loadProjectConfig=function(e){return{type:t.LOAD_PROJECT_CONFIG,payload:null,meta:{pk_project:e}}},t.prototype.loadProjectConfigSucceeded=function(){return{type:t.LOAD_PROJECT_CONFIG_SUCCEEDED,payload:{},meta:null}},t.prototype.setListType=function(e){return{type:t.SET_LIST_TYPE,payload:null,meta:{list:e}}},t.prototype.setPanels=function(e,n,i,r){return{type:t.SET_PANELS,payload:null,meta:{panels:e,uiIdSerial:n,panelSerial:i,focusedPanel:r}}},t.prototype.activateTab=function(e,n){return{type:t.ACTIVATE_TAB,payload:null,meta:{panelIndex:e,tabIndex:n}}},t.prototype.moveTab=function(e,n,i,r){return{type:t.MOVE_TAB,payload:null,meta:{previousPanelIndex:e,currentPanelIndex:n,previousTabIndex:i,currentTabIndex:r}}},t.prototype.closeTab=function(e,n){return{type:t.CLOSE_TAB,payload:null,meta:{panelIndex:e,tabIndex:n}}},t.prototype.addTab=function(e){return{type:t.ADD_TAB,payload:null,meta:{tab:e}}},t.prototype.splitPanel=function(e,n,i){return{type:t.SPLIT_PANEL,payload:null,meta:{previousPanelIndex:e,tabIndex:n,currentPanelIndex:i}}},t.prototype.closePanel=function(e){return{type:t.CLOSE_PANEL,payload:null,meta:{panelIndex:e}}},t.prototype.focusPanel=function(e){return{type:t.FOCUS_PANEL,payload:null,meta:{panelIndex:e}}},t.prototype.setRefiningChunk=function(e){return{type:t.SET_REFINING_CHUNK,payload:{refiningChunk:e},meta:null}},t.prototype.setCreatingMentioning=function(e){return{type:t.SET_CREATING_MENTIONING,payload:{creatingMentioning:e},meta:null}},t.prototype.setMentioningsFocusedInText=function(e){return{type:t.SET_MENTIONINGS_FOCUSED_IN_TEXT,payload:{mentioningsFocusedInText:e},meta:null}},t.prototype.setMentioningsFocusedInTable=function(e){return{type:t.SET_MENTIONINGS_FOCUSED_IN_TABLE,payload:{mentioningsFocusedInTable:e},meta:null}},t.prototype.destroy=function(){return{type:t.DESTROY,payload:null,meta:null}},t.LOAD_PROJECT_BASICS="ActiveProject::LOAD_PROJECT_BASICS",t.LOAD_PROJECT_BASICS_FAILED="ActiveProject::LOAD_PROJECT_BASICS_FAILED",t.LOAD_PROJECT_BASICS_SUCCEEDED="ActiveProject::LOAD_PROJECT_BASICS_SUCCEEDED",t.LOAD_PROJECT_CONFIG="ActiveProject::LOAD_PROJECT_CONFIG",t.LOAD_PROJECT_CONFIG_SUCCEEDED="ActiveProject::LOAD_PROJECT_CONFIG_SUCCEEDED",t.SET_LIST_TYPE="ActiveProject::SET_LIST_TYPE",t.SET_PANELS="ActiveProject::SET_PANELS",t.ACTIVATE_TAB="ActiveProject::ACTIVATE_TAB",t.MOVE_TAB="ActiveProject::MOVE_TAB",t.CLOSE_TAB="ActiveProject::CLOSE_TAB",t.ADD_TAB="ActiveProject::ADD_TAB",t.SPLIT_PANEL="ActiveProject::SPLIT_PANEL",t.CLOSE_PANEL="ActiveProject::CLOSE_PANEL",t.FOCUS_PANEL="ActiveProject::FOCUS_PANEL",t.UPDATE_SELECTED_CHUNK="ActiveProject::UPDATE_SELECTED_CHUNK",t.SET_REFINING_CHUNK="ActiveProject::SET_REFINING_CHUNK",t.SET_CREATING_MENTIONING="ActiveProject::SET_CREATING_MENTIONING",t.SET_MENTIONINGS_FOCUSED_IN_TEXT="ActiveProject::SET_MENTIONINGS_FOCUSED_IN_TEXT",t.SET_MENTIONINGS_FOCUSED_IN_TABLE="ActiveProject::SET_MENTIONINGS_FOCUSED_IN_TABLE",t.DESTROY="ActiveProject::DESTROY",t.decorators=[{type:n.Injectable}],t}();var T=function(){function t(){this.destroy=function(){return{type:t.DESTROY,meta:null,payload:null}}}return t.DESTROY="Information::DESTROY",t.decorators=[{type:n.Injectable}],v([e.dispatch(),P("design:type",Object)],t.prototype,"destroy",void 0),t}();var x=function(){function t(){this.startLoading=function(){return{type:t.START,meta:null,payload:null}},this.stopLoading=function(){return{type:t.STOP,meta:null,payload:null}},this.completeLoading=function(){return{type:t.COPMLETE,meta:null,payload:null}}}return t.START="LOADING_BAR_START",t.STOP="LOADING_BAR_STOP",t.COPMLETE="LOADING_BAR_COPMLETE",t.decorators=[{type:n.Injectable}],v([e.dispatch(),P("design:type",Object)],t.prototype,"startLoading",void 0),v([e.dispatch(),P("design:type",Object)],t.prototype,"stopLoading",void 0),v([e.dispatch(),P("design:type",Object)],t.prototype,"completeLoading",void 0),t}();var b=function(){function t(){this.addToast=function(e){return{type:t.ADD_TOAST,meta:null,payload:e}}}return t.ADD_TOAST="Notifications::ADD_TOAST",t.decorators=[{type:n.Injectable}],t}();var R=function(){function t(){}return t.prototype.loadProjectsSucceeded=function(e){return{type:t.LOAD_PROJECTS_SUCCEEDED,payload:e,meta:null}},t.LOAD_PROJECTS_SUCCEEDED="LOAD_PROJECTS_SUCCEEDED",t.decorators=[{type:n.Injectable}],t}();var j=function(){function t(){this.initializeList=function(e){return{type:t.INITIALIZE_LIST,meta:{pkAllowedClasses:e},payload:null}},this.destroy=function(){return{type:t.DESTROY,meta:null,payload:null}}}return t.INITIALIZE_LIST="SourceList::INITIALIZE_LIST",t.DESTROY="SourceList::DESTROY",t.decorators=[{type:n.Injectable}],v([e.dispatch(),P("design:type",Object)],t.prototype,"initializeList",void 0),v([e.dispatch(),P("design:type",Object)],t.prototype,"destroy",void 0),t}();var C=function(){function t(t,e,n,i){this.actions=t,this.loadingBarActions=e,this.accountApi=n,this.notificationActions=i}return t.prototype.createEpics=function(){return o.combineEpics(this.loadRoles())},t.prototype.loadRoles=function(){var t=this;return(function(e,n){return e.pipe(o.ofType(O.LOAD_ROLES),c.mergeMap((function(e){return new a.Observable((function(n){n.next(t.loadingBarActions.startLoading()),t.accountApi.getRoles(e.meta.accountId).subscribe((function(e){n.next(t.loadingBarActions.completeLoading()),n.next(t.actions.loadRolesSucceeded(e))}),(function(e){n.next(t.notificationActions.addToast({type:"error",options:{title:e}}))}))}))})))})},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:O},{type:x},{type:s.PubAccountApi},{type:b}]},t}();var D="dat",L={digital:{equals:function(t,e){return!(!e.quill_doc&&t.quill_doc)&&(t.pk_entity===e.pk_entity&&t.entity_version===e.entity_version)},indexBy:{keyInStore:"pk_entity__entity_version",indexByFn:function(t){return t.pk_entity.toString()+"_"+t.entity_version.toString()}},groupBy:[{keyInStore:"pk_entity",groupByFn:function(t){return t.pk_entity.toString()}},{keyInStore:"pk_text",groupByFn:function(t){return t.pk_text.toString()}}]},chunk:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[{keyInStore:"fk_text",groupByFn:function(t){return t.fk_text.toString()}}]},column:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[{keyInStore:"fk_digital",groupByFn:function(t){return t.fk_digital.toString()}}]},class_column_mapping:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[{keyInStore:"fk_column",groupByFn:function(t){return t.fk_column.toString()}}]},text_property:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[{keyInStore:"fk_entity__fk_system_type",groupByFn:function(t){return t.fk_entity+"_"+t.fk_system_type}}]},namespace:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[{keyInStore:"fk_project",groupByFn:function(t){return t.fk_project.toString()}}]}},B=function(t){return(t.type||null)+"_"+(t.language||null)+"_"+(t.fk_class||null)+"_"+(t.fk_profile||null)+"_"+(t.fk_property||null)+"_"+(t.fk_project||null)},F={profile:{indexBy:{keyInStore:"pk_profile",indexByFn:function(t){return t.pk_profile.toString()}}},klass:{indexBy:{keyInStore:"pk_class",indexByFn:function(t){return t.pk_class.toString()}},groupBy:[{keyInStore:"basic_type",groupByFn:function(t){return t.basic_type.toString()}}]},property:{indexBy:{keyInStore:"pk_property__has_domain__has_range",indexByFn:function(t){return t.pk_property+"_"+t.has_domain+"_"+t.has_range}},groupBy:[{keyInStore:"pk_property",groupByFn:function(t){return t.pk_property.toString()}},{keyInStore:"has_domain",groupByFn:function(t){return t.has_domain.toString()}},{keyInStore:"has_range",groupByFn:function(t){return t.has_range.toString()}},{keyInStore:"has_domain__fk_property",groupByFn:function(t){return t.has_domain+"_"+t.pk_property}},{keyInStore:"has_range__fk_property",groupByFn:function(t){return t.has_range+"_"+t.pk_property}},{keyInStore:"is_has_type_subproperty",groupByFn:function(t){return t.is_has_type_subproperty?t.is_has_type_subproperty.toString():void 0}}]},label:{indexBy:{keyInStore:"fks",indexByFn:B},groupBy:[{keyInStore:"fk_class__type",groupByFn:function(t){return t.fk_class?t.fk_class+"_"+t.type:void 0}},{keyInStore:"fk_property__type",groupByFn:function(t){return t.fk_property?t.fk_property+"_"+t.type:void 0}},{keyInStore:"fk_profile__type",groupByFn:function(t){return t.fk_profile?t.fk_profile+"_"+t.type:void 0}}]}},N="inf",w={persistent_item:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[{keyInStore:"fk_class",groupByFn:function(t){return t.fk_class.toString()}}]},temporal_entity:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[{keyInStore:"fk_class",groupByFn:function(t){return t.fk_class.toString()}}]},statement:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[{keyInStore:"subject",groupByFn:function(t){return U(t)}},{keyInStore:"subject+property",groupByFn:function(t){return G(t)}},{keyInStore:"object",groupByFn:function(t){return M(t)}},{keyInStore:"object+property",groupByFn:function(t){return $(t)}},{keyInStore:"fk_subject_data",groupByFn:function(t){return u.U.toStr0undef(t.fk_subject_data)}}]},text_property:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[{keyInStore:"fk_concerned_entity__fk_class_field",groupByFn:function(t){return t.fk_concerned_entity+"_"+t.fk_class_field}},{keyInStore:"fk_concerned_entity",groupByFn:function(t){return t.fk_concerned_entity.toString()}}]},lang_string:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[]},appellation:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[]},time_primitive:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[]},place:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[]},language:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[]},dimension:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[]}};function U(t){return void 0===t&&(t={}),(t.fk_subject_info||"0")+"-"+(t.fk_subject_data||"0")+"-"+(t.fk_subject_tables_row||"0")+"-"+(t.fk_subject_tables_cell||"0")}function M(t){return void 0===t&&(t={}),(t.fk_object_info||"0")+"-"+(t.fk_object_data||"0")+"-"+(t.fk_object_tables_row||"0")+"-"+(t.fk_object_tables_cell||"0")}function G(t){return void 0===t&&(t={}),(t.fk_subject_info||"0")+"-"+(t.fk_subject_data||"0")+"-"+(t.fk_subject_tables_row||"0")+"-"+(t.fk_subject_tables_cell||"0")+"-"+(t.fk_property||"0")+"-"+(t.fk_property_of_property||"0")}function $(t){return void 0===t&&(t={}),(t.fk_object_info||"0")+"-"+(t.fk_object_data||"0")+"-"+(t.fk_object_tables_row||"0")+"-"+(t.fk_object_tables_cell||"0")+"-"+(t.fk_property||"0")+"-"+(t.fk_property_of_property||"0")}var J="pro",K=function(t){return(t.fk_project||null)+"_"+(t.fk_system_type||null)+"_"+(t.fk_language||null)+"_"+(t.fk_dfh_class||null)+"_"+(t.fk_dfh_property||null)+"_"+(t.fk_dfh_property_domain||null)+"_"+(t.fk_dfh_property_range||null)},V=function(t){return(t.fk_project||null)+"_"+(t.fk_system_type||null)+"_"+(t.fk_dfh_class||null)+"_"+(t.fk_dfh_property||null)+"_"+(t.fk_dfh_property_domain||null)+"_"+(t.fk_dfh_property_range||null)},Y=function(t){var e=t.fk_range_class||t.fk_domain_class||t.fk_class_for_class_field;return(t.fk_project||null)+"_"+(e||null)},q={project:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}}},info_proj_rel:{indexBy:{keyInStore:"fk_project__fk_entity",indexByFn:function(t){return t.fk_project.toString()+"_"+t.fk_entity.toString()}}},class_field_config:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[{keyInStore:"fk_project__fk_class",groupByFn:Y}]},dfh_class_proj_rel:{indexBy:{keyInStore:"fk_project__fk_class",indexByFn:function(t){return t.fk_project+"_"+t.fk_class}},groupBy:[{keyInStore:"fk_project__enabled_in_entities",groupByFn:function(t){return t.fk_project+"_"+t.enabled_in_entities}},{keyInStore:"fk_project",groupByFn:function(t){return t.fk_project.toString()}}]},dfh_profile_proj_rel:{indexBy:{keyInStore:"fk_project__fk_profile",indexByFn:function(t){return t.fk_project+"_"+t.fk_profile}},groupBy:[{keyInStore:"fk_project__enabled",groupByFn:function(t){return t.fk_project+"_"+t.enabled}},{keyInStore:"fk_project",groupByFn:function(t){return t.fk_project.toString()}}]},text_property:{indexBy:{keyInStore:"fks",indexByFn:K},groupBy:[{keyInStore:"fks_without_lang",groupByFn:V}]},analysis:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}}}},H="sys",X={system_relevant_class:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}},groupBy:[{keyInStore:"fk_class",groupByFn:function(t){return t.fk_class.toString()}},{keyInStore:"required_by_sources",groupByFn:function(t){return t.required_by_sources.toString()}},{keyInStore:"required",groupByFn:function(t){return t.required_by_sources||t.required_by_entities||t.required_by_basics?"true":"false"}}]},config:{indexBy:{keyInStore:"main",indexByFn:function(){return"main"}}}},W="tab",z={cell:{indexBy:{keyInStore:"pk_cell",indexByFn:function(t){return t.pk_cell.toString()}},groupBy:[{keyInStore:"fk_column_fk_row",groupByFn:function(t){return t.fk_column+"_"+t.fk_row}}]}},Z="war",Q={entity_preview:{indexBy:{keyInStore:"pk_entity",indexByFn:function(t){return t.pk_entity.toString()}}}};var tt=function(){function t(t){this.ngRedux=t}return t.prototype.createCrudActions=function(t,e){var n=this;return this.actionPrefix=t,this.modelName=e,this.load=function(t,e){void 0===t&&(t="");var i=u.U.uuid(),r={type:n.actionPrefix+"."+n.modelName+"::LOAD"+(t?"::"+t:""),meta:{addPending:i,pk:e},payload:null};return n.ngRedux.dispatch(r),{pending$:n.ngRedux.select(["pending",i]),resolved$:n.ngRedux.select(["resolved",i]),key:i}},this.loadSucceeded=function(t,e,i){var r={type:n.actionPrefix+"."+n.modelName+"::LOAD_SUCCEEDED",meta:{items:t,removePending:e,pk:i},payload:null};n.ngRedux.dispatch(r)},this.upsert=function(t,e){var i=u.U.uuid(),r={type:n.actionPrefix+"."+n.modelName+"::UPSERT",meta:{items:t,addPending:i,pk:e},payload:null};return n.ngRedux.dispatch(r),{pending$:n.ngRedux.select(["pending",i]),resolved$:n.ngRedux.select(["resolved",i]),key:i}},this.upsertSucceeded=function(t,e,i){var r={type:n.actionPrefix+"."+n.modelName+"::UPSERT_SUCCEEDED",meta:{items:t,removePending:e,pk:i},payload:null};n.ngRedux.dispatch(r)},this.succeeded=function(t,e,i){var r={type:"general::UPSERT_SUCCEEDED",meta:{items:t,removePending:e,pk:i},payload:null};n.ngRedux.dispatch(r)},this.delete=function(t,e){var i=u.U.uuid(),r={type:n.actionPrefix+"."+n.modelName+"::DELETE",meta:{items:t,addPending:i,pk:e},payload:null};return n.ngRedux.dispatch(r),{pending$:n.ngRedux.select(["pending",i]),resolved$:n.ngRedux.select(["resolved",i]).pipe(c.filter((function(t){return!!t}))),key:i}},this.deleteSucceeded=function(t,e,i){var r={type:n.actionPrefix+"."+n.modelName+"::DELETE_SUCCEEDED",meta:{items:t,removePending:e,pk:i},payload:null};n.ngRedux.dispatch(r)},this.failed=function(t,e,i){var r={type:n.actionPrefix+"."+n.modelName+"::FAILED",meta:{removePending:e,pk:i},payload:null,error:t};n.ngRedux.dispatch(r)},this.loadPage=function(t,e,i,r){var o={type:n.actionPrefix+"."+n.modelName+"::LOAD_PAGE",meta:{paginateBy:t,limit:e,offset:i,pk:r},payload:null};n.ngRedux.dispatch(o)},this.loadPageSucceeded=function(t,e,i,r,o,a){var c={type:n.actionPrefix+"."+n.modelName+"::LOAD_PAGE_SUCCEEDED",meta:{pks:t,paginateBy:i,count:e,limit:r,offset:o,pk:a},payload:null};n.ngRedux.dispatch(c)},this.loadPageFailed=function(t,e,i,r){var o={type:n.actionPrefix+"."+n.modelName+"::LOAD_PAGE_FAILED",meta:{paginateBy:t,limit:e,offset:i,pk:r},payload:null};n.ngRedux.dispatch(o)},this},t}();var et=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createCrudActions(D,"digital")),this.loadVersion=function(n,i){var r=u.U.uuid(),o={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.LOAD_VERSION,meta:{addPending:r,pkEntity:n,entityVersion:i},payload:null};return t.ngRedux.dispatch(o),{pending$:t.ngRedux.select(["pending",r]),resolved$:t.ngRedux.select(["resolved",r]),key:r}},this},e.LOAD_VERSION="LOAD_VERSION",e}(tt);var nt=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createCrudActions(D,"chunk")),this.loadChunksOfDigital=function(n,i){var r=u.U.uuid(),o={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.CHUNKS_OF_DIGITAL,meta:{addPending:r,pkDigital:n,pk:i},payload:null};return t.ngRedux.dispatch(o),{pending$:t.ngRedux.select(["pending",r]),resolved$:t.ngRedux.select(["resolved",r]),key:r}},this},e.CHUNKS_OF_DIGITAL="CHUNKS_OF_DIGITAL",e}(tt);var it=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createCrudActions(D,"column")),this.loadColumnsOfTable=function(n,i){var r=u.U.uuid(),o={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.COLUMNS_OF_TABLE,meta:{addPending:r,pkDigital:n,pk:i},payload:null};return t.ngRedux.dispatch(o),{pending$:t.ngRedux.select(["pending",r]),resolved$:t.ngRedux.select(["resolved",r]),key:r}},this},e.COLUMNS_OF_TABLE="COLUMNS_OF_TABLE",e}(tt);var rt=function(){function t(t){this.ngRedux=t,this.digital=new et(this.ngRedux).createActions(),this.chunk=new nt(this.ngRedux).createActions(),this.column=new it(this.ngRedux).createActions(),this.class_column_mapping=new tt(this.ngRedux).createCrudActions(D,"class_column_mapping"),this.namespace=new tt(this.ngRedux).createCrudActions(D,"namespace"),this.text_property=new tt(this.ngRedux).createCrudActions(D,"text_property")}return t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:e.NgRedux}]},t}();var ot=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createCrudActions("dfh","profile")),this.loadOfProject=function(n){var i=u.U.uuid(),r={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.OF_PROJECT,meta:{addPending:i,pk:n},payload:null};return t.ngRedux.dispatch(r),{pending$:t.ngRedux.select(["pending",i]),resolved$:t.ngRedux.select(["resolved",i]).pipe(c.filter((function(t){return!!t}))),key:i}},this},e.OF_PROJECT="OF_PROJECT",e}(tt);var at=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createCrudActions("dfh","klass")),this.loadOfProject=function(n){var i=u.U.uuid(),r={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.OF_PROJECT,meta:{addPending:i,pk:n},payload:null};return t.ngRedux.dispatch(r),{pending$:t.ngRedux.select(["pending",i]),resolved$:t.ngRedux.select(["resolved",i]).pipe(c.filter((function(t){return!!t}))),key:i}},this},e.OF_PROJECT="OF_PROJECT",e}(tt);var ct=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createCrudActions("dfh","property")),this.loadOfProject=function(n){var i=u.U.uuid(),r={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.OF_PROJECT,meta:{addPending:i,pk:n},payload:null};return t.ngRedux.dispatch(r),{pending$:t.ngRedux.select(["pending",i]),resolved$:t.ngRedux.select(["resolved",i]).pipe(c.filter((function(t){return!!t}))),key:i}},this},e.OF_PROJECT="OF_PROJECT",e}(tt);var st=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createCrudActions("dfh","label")),this.loadOfProject=function(n){var i=u.U.uuid(),r={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.OF_PROJECT,meta:{addPending:i,pk:n},payload:null};return t.ngRedux.dispatch(r),{pending$:t.ngRedux.select(["pending",i]),resolved$:t.ngRedux.select(["resolved",i]).pipe(c.filter((function(t){return!!t}))),key:i}},this},e.OF_PROJECT="OF_PROJECT",e}(tt);var pt=function(){function t(t){this.ngRedux=t,this.profile=new ot(this.ngRedux).createActions(),this.klass=new at(this.ngRedux).createActions(),this.property=new ct(this.ngRedux).createActions(),this.label=new st(this.ngRedux).createActions()}return t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:e.NgRedux}]},t}();var ut=function(t){function i(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(i,t),i.prototype.createInfActions=function(t,e){var n=this;return this.createCrudActions(t,e),this.remove=function(t,e){var i=u.U.uuid(),r={type:n.actionPrefix+"."+n.modelName+"::REMOVE",meta:{items:t,addPending:i,pk:e},payload:null};return n.ngRedux.dispatch(r),{pending$:n.ngRedux.select(["pending",i]),resolved$:n.ngRedux.select(["resolved",i]),key:i}},this.removeSucceeded=function(t,e,i){var r={type:n.actionPrefix+"."+n.modelName+"::REMOVE_SUCCEEDED",meta:{items:t,removePending:e,pk:i},payload:null};n.ngRedux.dispatch(r)},this},i.decorators=[{type:n.Injectable}],i.ctorParameters=function(){return[{type:e.NgRedux}]},i}(tt);var lt=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createInfActions(N,"persistent_item")),this.loadMinimal=function(n,i){var r=u.U.uuid(),o={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.MINIMAL_BY_PK,meta:{addPending:r,pk:n,pkEntity:i},payload:null};return t.ngRedux.dispatch(o),{pending$:t.ngRedux.select(["pending",r]),resolved$:t.ngRedux.select(["resolved",r]).pipe(c.filter((function(t){return!!t}))),key:r}},this.typesOfProject=function(n){var i=u.U.uuid(),r={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.TYPES_OF_PROJECT,meta:{addPending:i,pk:n},payload:null};return t.ngRedux.dispatch(r),{pending$:t.ngRedux.select(["pending",i]),resolved$:t.ngRedux.select(["resolved",i]).pipe(c.filter((function(t){return!!t}))),key:i}},this},e.MINIMAL_BY_PK="MINIMAL_BY_PK",e.TYPES_OF_PROJECT="TYPES_OF_PROJECT",e.TYPE_OF_PROJECT="TYPE_OF_PROJECT",e}(ut);var ft=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createInfActions(N,"temporal_entity")),this.loadNestedObject=function(n,i){var r=u.U.uuid(),o={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.OWN_PROPERTIES,meta:{addPending:r,pk:n,pkEntity:i},payload:null};return t.ngRedux.dispatch(o),{pending$:t.ngRedux.select(["pending",r]),resolved$:t.ngRedux.select(["resolved",r]).pipe(c.filter((function(t){return!!t}))),key:r}},this.loadPaginatedList=function(n,i,r,o,a,s,p){var l=u.U.uuid(),f={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.PAGINATED_LIST,meta:{addPending:l,pk:n,pkSourceEntity:i,fkTargetClass:o,pkProperty:r,isOutgoing:a,limit:s,offset:p,alternatives:!1},payload:null};return t.ngRedux.dispatch(f),{pending$:t.ngRedux.select(["pending",l]),resolved$:t.ngRedux.select(["resolved",l]).pipe(c.filter((function(t){return!!t}))),key:l}},this.loadPaginatedAlternativeList=function(n,i,r,o,a,s,p){var l=u.U.uuid(),f={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.PAGINATED_ALTERNATIVE_LIST,meta:{addPending:l,pk:n,pkSourceEntity:i,pkProperty:r,fkTargetClass:o,isOutgoing:a,limit:s,offset:p,alternatives:!0},payload:null};return t.ngRedux.dispatch(f),{pending$:t.ngRedux.select(["pending",l]),resolved$:t.ngRedux.select(["resolved",l]).pipe(c.filter((function(t){return!!t}))),key:l}},this},e.OWN_PROPERTIES="OWN_PROPERTIES",e.PAGINATED_LIST="PAGINATED_LIST",e.PAGINATED_ALTERNATIVE_LIST="PAGINATED_ALTERNATIVE_LIST",e}(ut);var dt=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createInfActions(N,"statement")),this.findByParams=function(n,i,r,o,a,c){var s={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.BY_PARAMS,meta:{addPending:u.U.uuid(),pk:i,ofProject:n,pkEntity:r,pkInfoRange:o,pkInfoDomain:a,pkProperty:c},payload:null};t.ngRedux.dispatch(s)},this.loadIngoingAlternatives=function(n,i,r){var o=u.U.uuid(),a={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.ALTERNATIVES_INGOING,meta:{addPending:o,pk:r,pkEntity:n,pkProperty:i},payload:null};return t.ngRedux.dispatch(a),{pending$:t.ngRedux.select(["pending",o]),resolved$:t.ngRedux.select(["resolved",o]).pipe(c.filter((function(t){return!!t}))),key:o}},this.loadPaginatedList=function(n,i,r,o,a,s,p){var l=u.U.uuid(),f={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.PAGINATED_LIST,meta:{addPending:l,pk:n,pkSourceEntity:i,fkTargetClass:o,pkProperty:r,isOutgoing:a,limit:s,offset:p,alternatives:!1},payload:null};return t.ngRedux.dispatch(f),{pending$:t.ngRedux.select(["pending",l]),resolved$:t.ngRedux.select(["resolved",l]).pipe(c.filter((function(t){return!!t}))),key:l}},this.sourcesAndDigitalsOfEntity=function(n,i,r){var o=u.U.uuid(),a={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.SOURCES_AND_DIGITALS_OF_ENTITY,meta:{addPending:o,ofProject:n,pk:i,pkEntity:r},payload:null};return t.ngRedux.dispatch(a),{pending$:t.ngRedux.select(["pending",o]),resolved$:t.ngRedux.select(["resolved",o]).pipe(c.filter((function(t){return!!t}))),key:o}},this},e.ALTERNATIVES_INGOING="ALTERNATIVES_INGOING",e.PAGINATED_LIST="PAGINATED_LIST",e.CONTENT_TREE="CONTENT_TREE",e.SOURCES_AND_DIGITALS_OF_ENTITY="SOURCES_AND_DIGITALS_OF_ENTITY",e.BY_PARAMS="BY_PARAMS",e}(ut);var yt=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createInfActions(N,"text_property")),this.loadAlternatives=function(n,i,r){var o=u.U.uuid(),a={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.ALTERNATIVES,meta:{addPending:o,pk:r,fkEntity:n,fkClassField:i},payload:null};return t.ngRedux.dispatch(a),{pending$:t.ngRedux.select(["pending",o]),resolved$:t.ngRedux.select(["resolved",o]).pipe(c.filter((function(t){return!!t}))),key:o}},this},e.ALTERNATIVES="ALTERNATIVES",e}(ut);var _t=function(){function t(t){this.ngRedux=t,this.persistent_item=new lt(this.ngRedux).createActions(),this.temporal_entity=new ft(this.ngRedux).createActions(),this.statement=new dt(this.ngRedux).createActions(),this.language=new tt(this.ngRedux).createCrudActions(N,"language"),this.appellation=new tt(this.ngRedux).createCrudActions(N,"appellation"),this.lang_string=new tt(this.ngRedux).createCrudActions(N,"lang_string"),this.dimension=new tt(this.ngRedux).createCrudActions(N,"dimension"),this.place=new tt(this.ngRedux).createCrudActions(N,"place"),this.time_primitive=new tt(this.ngRedux).createCrudActions(N,"time_primitive"),this.text_property=new yt(this.ngRedux).createActions()}return t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:e.NgRedux}]},t}();var gt=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createCrudActions(J,"project")),this.loadOfAccount=function(n){var i=u.U.uuid(),r={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.OF_ACCOUNT,meta:{addPending:i,pk:n},payload:null};return t.ngRedux.dispatch(r),{pending$:t.ngRedux.select(["pending",i]),resolved$:t.ngRedux.select(["resolved",i]).pipe(c.filter((function(t){return!!t}))),key:i}},this.loadBasics=function(n){var i=u.U.uuid(),r={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.LOAD_BASICS,meta:{addPending:i,pk:n},payload:null};return t.ngRedux.dispatch(r),{pending$:t.ngRedux.select(["pending",i]),resolved$:t.ngRedux.select(["resolved",i]).pipe(c.filter((function(t){return!!t}))),key:i}},this},e.OF_ACCOUNT="OF_ACCOUNT",e.LOAD_BASICS="LOAD_BASICS",e}(tt);var ht=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createCrudActions(J,"info_proj_rel")),this.markStatementAsFavorite=function(n,i,r){var o=u.U.uuid(),a={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.MARK_ROLE_AS_FAVORITE,meta:{addPending:o,pk:n,pkStatement:i,isOutgoing:r},payload:null};return t.ngRedux.dispatch(a),{pending$:t.ngRedux.select(["pending",o]),resolved$:t.ngRedux.select(["resolved",o]).pipe(c.filter((function(t){return!!t}))),key:o}},this},e.MARK_ROLE_AS_FAVORITE="MARK_ROLE_AS_FAVORITE",e}(tt);var mt=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createCrudActions(J,"dfh_class_proj_rel")),this.loadOfProject=function(n){var i=u.U.uuid(),r={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.OF_PROJECT,meta:{addPending:i,pk:n},payload:null};return t.ngRedux.dispatch(r),{pending$:t.ngRedux.select(["pending",i]),resolved$:t.ngRedux.select(["resolved",i]).pipe(c.filter((function(t){return!!t}))),key:i}},this},e.OF_PROJECT="OF_PROJECT",e}(tt);var At=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createCrudActions(J,"dfh_profile_proj_rel")),this.loadOfProject=function(n){var i=u.U.uuid(),r={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.OF_PROJECT,meta:{addPending:i,pk:n},payload:null};return t.ngRedux.dispatch(r),{pending$:t.ngRedux.select(["pending",i]),resolved$:t.ngRedux.select(["resolved",i]).pipe(c.filter((function(t){return!!t}))),key:i}},this},e.OF_PROJECT="OF_PROJECT",e}(tt);var Et=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createCrudActions(J,"class_field_config")),this.loadOfProject=function(n){var i=u.U.uuid(),r={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.OF_PROJECT,meta:{addPending:i,pk:n},payload:null};return t.ngRedux.dispatch(r),{pending$:t.ngRedux.select(["pending",i]),resolved$:t.ngRedux.select(["resolved",i]).pipe(c.filter((function(t){return!!t}))),key:i}},this},e.OF_PROJECT="OF_PROJECT",e}(tt);var vt=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createCrudActions(J,"text_property")),this.loadOfProject=function(n){var i=u.U.uuid(),r={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.OF_PROJECT,meta:{addPending:i,pk:n},payload:null};return t.ngRedux.dispatch(r),{pending$:t.ngRedux.select(["pending",i]),resolved$:t.ngRedux.select(["resolved",i]).pipe(c.filter((function(t){return!!t}))),key:i}},this},e.OF_PROJECT="OF_PROJECT",e}(tt);var Pt=function(t){function e(e){var n=t.call(this,e)||this;return n.ngRedux=e,n}return A(e,t),e.prototype.createActions=function(){var t=this;return Object.assign(this,this.createCrudActions(J,"analysis")),this.loadByIdAndVersion=function(n,i,r){var o=u.U.uuid(),a={type:t.actionPrefix+"."+t.modelName+"::LOAD::"+e.BY_PK_AND_VERSION,meta:{addPending:o,pk:n,pkEntity:i,version:r},payload:null};return t.ngRedux.dispatch(a),{pending$:t.ngRedux.select(["pending",o]),resolved$:t.ngRedux.select(["resolved",o]).pipe(c.filter((function(t){return!!t}))),key:o}},this},e.BY_PK_AND_VERSION="BY_PK_AND_VERSION",e}(tt);var kt=function(){function t(t){this.ngRedux=t,this.project=new gt(this.ngRedux).createActions(),this.info_proj_rel=new ht(this.ngRedux).createActions(),this.text_property=new vt(this.ngRedux).createActions(),this.dfh_class_proj_rel=new mt(this.ngRedux).createActions(),this.dfh_profile_proj_rel=new At(this.ngRedux).createActions(),this.class_field_config=new Et(this.ngRedux).createActions(),this.analysis=new Pt(this.ngRedux).createActions()}return t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:e.NgRedux}]},t}();var St=function(){function t(t){this.ngRedux=t,this.system_relevant_class=new tt(this.ngRedux).createCrudActions(H,"system_relevant_class"),this.config=new tt(this.ngRedux).createCrudActions(H,"config")}return t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:e.NgRedux}]},t}();var Ot=function(){function t(t){this.ngRedux=t,this.cell=new tt(this.ngRedux).createCrudActions(W,"cell")}return t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:e.NgRedux}]},t}();var It=function(){function t(t){this.ngRedux=t,this.entity_preview=new tt(this.ngRedux).createCrudActions(Z,"entity_preview")}return t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:e.NgRedux}]},t}();var Tt=function(){function t(t,e,n,i,r,o,a,c,s,p){this.sys=t,this.dat=e,this.dfh=n,this.pro=i,this.inf=r,this.projectApi=o,this.actions=a,this.notificationActions=c,this.loadingBarActions=s,this.ngRedux=p}return t.prototype.createEpics=function(){return o.combineEpics(this.createLoadProjectBasicsEpic(),this.createLoadProjectConfigEpic(),this.createLoadProjectUpdatedEpic(),this.createClosePanelEpic(),this.createActivateTabFocusPanelEpic(),this.createMoveTabFocusPanelEpic(),this.createClosePanelFocusPanelEpic(),this.createSplitPanelActivateTabEpic(),this.createAddTabCloseListEpic())},t.prototype.createLoadProjectBasicsEpic=function(){var t=this;return(function(e,n){return e.pipe(o.ofType(I.LOAD_PROJECT_BASICS),c.switchMap((function(e){return new a.Observable((function(n){n.next(t.loadingBarActions.startLoading()),t.projectApi.getBasics(e.meta.pk_project).subscribe((function(e){n.next(t.actions.loadProjectBasiscsSucceded(function(t){return{label:this.firstProTextPropStringOfType(t.text_properties,p.SysConfig.PK_SYSTEM_TYPE__TEXT_PROPERTY__LABEL),description:this.firstProTextPropStringOfType(t.text_properties,p.SysConfig.PK_SYSTEM_TYPE__TEXT_PROPERTY__DESCRIPTION),default_language:t.default_language,pk_project:t.pk_entity}}(e[0])))}),(function(e){n.next(t.notificationActions.addToast({type:"error",options:{title:e.message}}))}))}))})))})},t.prototype.createLoadProjectUpdatedEpic=function(){var t=this;return(function(e,n){return e.pipe(o.ofType(I.LOAD_PROJECT_BASICS_SUCCEEDED),c.mapTo(t.loadingBarActions.completeLoading()))})},t.prototype.createLoadProjectConfigEpic=function(){var t=this;return(function(e,n){return e.pipe(o.ofType(I.LOAD_PROJECT_CONFIG),c.switchMap((function(e){return new a.Observable((function(n){n.next(t.loadingBarActions.startLoading()),a.combineLatest(t.dfh.profile.loadOfProject(e.meta.pk_project).resolved$.pipe(c.filter((function(t){return!!t}))),t.dfh.klass.loadOfProject(e.meta.pk_project).resolved$.pipe(c.filter((function(t){return!!t}))),t.dfh.property.loadOfProject(e.meta.pk_project).resolved$.pipe(c.filter((function(t){return!!t}))),t.dfh.label.loadOfProject(e.meta.pk_project).resolved$.pipe(c.filter((function(t){return!!t}))),t.sys.system_relevant_class.load().resolved$.pipe(c.filter((function(t){return!!t}))),t.sys.config.load().resolved$.pipe(c.filter((function(t){return!!t}))),t.dat.namespace.load("",e.meta.pk_project).resolved$.pipe(c.filter((function(t){return!!t}))),t.pro.text_property.loadOfProject(e.meta.pk_project).resolved$.pipe(c.filter((function(t){return!!t}))),t.pro.dfh_class_proj_rel.loadOfProject(e.meta.pk_project).resolved$.pipe(c.filter((function(t){return!!t}))),t.pro.dfh_profile_proj_rel.loadOfProject(e.meta.pk_project).resolved$.pipe(c.filter((function(t){return!!t}))),t.pro.class_field_config.loadOfProject(e.meta.pk_project).resolved$.pipe(c.filter((function(t){return!!t}))),t.inf.persistent_item.typesOfProject(e.meta.pk_project).resolved$.pipe(c.filter((function(t){return!!t})))).pipe(c.filter((function(t){return!t.includes(void 0)}))).subscribe((function(e){n.next(t.actions.loadProjectConfigSucceeded()),n.next(t.loadingBarActions.completeLoading())}),(function(t){}))}))})))})},t.prototype.createClosePanelEpic=function(){var t=this;return(function(e,n){return e.pipe(o.ofType(I.CLOSE_TAB,I.MOVE_TAB,I.SPLIT_PANEL),c.mergeMap((function(e){return new a.Observable((function(e){t.ngRedux.getState().activeProject.panels.forEach((function(n,i){0===n.tabs.length&&e.next(t.actions.closePanel(i))}))}))})))})},t.prototype.createSplitPanelActivateTabEpic=function(){var t=this;return(function(e,n){return e.pipe(o.ofType(I.SPLIT_PANEL),c.map((function(e){var n=t.ngRedux.getState().activeProject,i=e.meta.currentPanelIndex,r=n.panels.length<i+1?i-1:i;return t.actions.activateTab(r,0)})))})},t.prototype.createActivateTabFocusPanelEpic=function(){var t=this;return(function(e,n){return e.pipe(o.ofType(I.ACTIVATE_TAB),c.mergeMap((function(e){return new a.Observable((function(n){t.ngRedux.getState().activeProject.focusedPanel!==e.meta.panelIndex&&n.next(t.actions.focusPanel(e.meta.panelIndex))}))})))})},t.prototype.createMoveTabFocusPanelEpic=function(){var t=this;return(function(e,n){return e.pipe(o.ofType(I.MOVE_TAB),c.mergeMap((function(e){return new a.Observable((function(n){t.ngRedux.getState().activeProject.focusedPanel!==e.meta.currentPanelIndex&&n.next(t.actions.focusPanel(e.meta.currentPanelIndex))}))})))})},t.prototype.createClosePanelFocusPanelEpic=function(){var t=this;return(function(e,n){return e.pipe(o.ofType(I.CLOSE_PANEL),c.mergeMap((function(e){return new a.Observable((function(e){t.ngRedux.getState().activeProject.focusedPanel>t.ngRedux.getState().activeProject.panels.length-1&&e.next(t.actions.focusPanel(0))}))})))})},t.prototype.createAddTabCloseListEpic=function(){var t=this;return(function(e,n){return e.pipe(o.ofType(I.ADD_TAB),c.mapTo(t.actions.setListType("")))})},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:St},{type:rt},{type:pt},{type:kt},{type:_t},{type:s.ProProjectApi},{type:I},{type:b},{type:x},{type:e.NgRedux}]},t}();var xt=function(){function t(t,e){this.service=t,this.actions=e}return t.prototype.createEpics=function(){return o.combineEpics(this.createStartLoadingBarEpic(),this.createCompleteLoadingBarEpic())},t.prototype.createCompleteLoadingBarEpic=function(){var t=this;return(function(e,n){return e.pipe(o.ofType(x.COPMLETE),c.switchMap((function(){return a.Observable.create((function(e){t.service.complete()}))})))})},t.prototype.createStartLoadingBarEpic=function(){var t=this;return(function(e,n){return e.pipe(o.ofType(x.START),c.switchMap((function(){return a.Observable.create((function(e){t.service.start()}))})))})},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:l.SlimLoadingBarService},{type:x}]},t}();var bt=function(){function t(t,e){this.toastyService=t,this.toastyConfig=e,this.toastyConfig.theme="bootstrap"}return t.prototype.createEpics=function(){return o.combineEpics(this.createAddToastEpic())},t.prototype.createAddToastEpic=function(){var t=this;return(function(e,n){return e.pipe(c.filter((function(t){return t})),o.ofType(b.ADD_TOAST),c.switchMap((function(e){return new a.Observable((function(n){var i=e;i.payload.options.title||i.payload.options.msg||"error"===i.payload.type&&(i.payload.options.title="Oops, something went wrong!"),t.toastyService[i.payload.type](i.payload.options)}))})))})},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:f.ToastyService},{type:f.ToastyConfig}]},t}();var Rt=function(){function t(){var t=this;this.createEpics=function(){return o.combineEpics(t.createResolveEpic())}}return t.prototype.createResolveEpic=function(){return function(t,e){return t.pipe(c.filter((function(t){return!!t&&!!t.meta&&!!t.meta.removePending})),c.switchMap((function(t){return a.of({type:"CLEAN_UP_RESOLVED",meta:{uuid:t.meta.removePending}})})))}},t.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}();var jt=function(){function t(t,e,n){this.actions=t,this.modelDefinition=e,this.flattenCb=n}return t.prototype.flatten=function(t){if(t&&t.length>0){this.flattenCb(t);var e=i.keys(this.modelDefinition.relations).map((function(t){return t.toString()}));this.items=S(this.items||[],t.filter((function(t){return!!t&&Object.keys(t).length>0})).map((function(t){return i.omit(e,t)})))}return!0},t}();var Ct=function(){function t(t,e,n){var i=this;this.infActions=t,this.datActions=e,this.proActions=n,this.info_proj_rel=new jt(this.proActions.info_proj_rel,s.ProInfoProjRel.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.ProInfoProjRel(t)}))})),this.pro_dfh_class_proj_rel=new jt(this.proActions.dfh_class_proj_rel,s.ProDfhClassProjRel.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.ProDfhClassProjRel(t)}))})),this.pro_dfh_profile_proj_rel=new jt(this.proActions.dfh_profile_proj_rel,s.ProDfhProfileProjRel.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.ProDfhProfileProjRel(t)}))})),this.persistent_item=new jt(this.infActions.persistent_item,s.InfPersistentItem.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.InfPersistentItem(t),i.statement.flatten(t.incoming_statements),i.statement.flatten(t.outgoing_statements),i.text_property.flatten(t.text_properties),i.info_proj_rel.flatten(t.entity_version_project_rels)}))})),this.temporal_entity=new jt(this.infActions.temporal_entity,s.InfTemporalEntity.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.InfTemporalEntity(t),i.statement.flatten(t.outgoing_statements),i.statement.flatten(t.incoming_statements),i.text_property.flatten(t.text_properties),i.info_proj_rel.flatten(t.entity_version_project_rels)}))})),this.statement=new jt(this.infActions.statement,s.InfStatement.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.InfStatement(t),i.info_proj_rel.flatten(t.entity_version_project_rels),t.subject_temporal_entity?i.temporal_entity.flatten([t.subject_temporal_entity]):t.subject_statement&&i.statement.flatten([t.subject_statement]),t.object_persistent_item?i.persistent_item.flatten([t.object_persistent_item]):t.object_appellation?i.appellation.flatten([t.object_appellation]):t.object_place?i.place.flatten([t.object_place]):t.object_time_primitive?i.time_primitive.flatten([t.object_time_primitive]):t.object_language?i.language.flatten([t.object_language]):t.subject_chunk?i.chunk.flatten([t.subject_chunk]):t.object_lang_string?i.lang_string.flatten([t.object_lang_string]):t.object_dimension&&i.dimension.flatten([t.object_dimension])}))})),this.appellation=new jt(this.infActions.appellation,s.InfAppellation.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.InfAppellation(t)}))})),this.place=new jt(this.infActions.place,s.InfPlace.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.InfPlace(t)}))})),this.time_primitive=new jt(this.infActions.time_primitive,s.InfTimePrimitive.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.InfTimePrimitive(t)}))})),this.language=new jt(this.infActions.language,s.InfLanguage.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.InfLanguage(t)}))})),this.lang_string=new jt(this.infActions.lang_string,s.InfLangString.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.InfLangString(t),i.language.flatten([t.language]),i.info_proj_rel.flatten(t.entity_version_project_rels)}))})),this.dimension=new jt(this.infActions.dimension,s.InfDimension.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.InfDimension(t),i.info_proj_rel.flatten(t.entity_version_project_rels)}))})),this.text_property=new jt(this.infActions.text_property,s.InfTextProperty.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.InfTextProperty(t),i.language.flatten([t.language]),i.info_proj_rel.flatten(t.entity_version_project_rels)}))})),this.digital=new jt(this.datActions.digital,s.DatDigital.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.DatDigital(t)}))})),this.chunk=new jt(this.datActions.chunk,s.DatChunk.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.DatChunk(t),i.statement.flatten(t.outgoing_statements)}))})),this.pro_project=new jt(this.proActions.project,s.ProProject.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.ProProject(t),i.language.flatten([t.default_language])}))})),this.pro_text_property=new jt(this.proActions.text_property,s.ProTextProperty.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.ProTextProperty(t),i.language.flatten([t.language])}))})),this.pro_class_field_config=new jt(this.proActions.class_field_config,s.ProClassFieldConfig.getModelDefinition(),(function(t){t.forEach((function(t){t=new s.ProClassFieldConfig(t)}))})),this.analysis=new jt(this.proActions.analysis,{relations:[]},(function(t){t.forEach((function(t){}))}))}return t.prototype.getFlattened=function(){return{pro_project:this.pro_project,pro_text_property:this.pro_text_property,pro_class_field_config:this.pro_class_field_config,pro_dfh_profile_proj_rel:this.pro_dfh_profile_proj_rel,pro_dfh_class_proj_rel:this.pro_dfh_class_proj_rel,info_proj_rel:this.info_proj_rel,analysis:this.analysis,persistent_item:this.persistent_item,temporal_entity:this.temporal_entity,statement:this.statement,appellation:this.appellation,place:this.place,time_primitive:this.time_primitive,language:this.language,text_property:this.text_property,lang_string:this.lang_string,dimension:this.dimension,digital:this.digital,chunk:this.chunk}},t}();var Dt=function(t,e,n){i.values(t).forEach((function(t){t.items&&("UPSERT"===n?t.actions.upsertSucceeded(t.items,void 0,e):t.actions.loadSucceeded(t.items,void 0,e))}))},Lt=function(){function t(t,e,n,i){this.actionPrefix=t,this.modelName=e,this.actions=n,this.notifications=i}return t.prototype.createLoadEpic=function(t,e,n){var i=this;return(function(r,s){return r.pipe(o.ofType(i.type("LOAD",e)),c.mergeMap((function(e){return new a.Observable((function(r){var o=e.meta.addPending,a=e.meta;t(a).subscribe((function(t){n?(n(t,e.meta.pk,a),i.actions.succeeded(t,o,e.meta.pk)):i.actions.loadSucceeded(t,o,e.meta.pk)}),(function(t){i.onError(r,t,o,e.meta.pk)}))}))})))})},t.prototype.createUpsertEpic=function(t,e){var n=this;return(function(i,r){return i.pipe(o.ofType(n.actionPrefix+"."+n.modelName+"::UPSERT"),c.mergeMap((function(i){return new a.Observable((function(r){var o=i.meta.addPending,a=i.meta;t(a).subscribe((function(t){e?(e(t,i.meta.pk),n.actions.succeeded(t,o,i.meta.pk)):n.actions.upsertSucceeded(t,o,i.meta.pk)}),(function(t){n.onError(r,t,o,i.meta.pk)}))}))})))})},t.prototype.createDeleteEpic=function(t){var e=this;return(function(n,i){return n.pipe(o.ofType(e.actionPrefix+"."+e.modelName+"::DELETE"),c.mergeMap((function(n){return new a.Observable((function(i){var r=n.meta.addPending;t(n.meta).subscribe((function(t){e.actions.deleteSucceeded(n.meta.items,r,n.meta.pk)}),(function(t){e.onError(i,t,r,n.meta.pk)}))}))})))})},t.prototype.type=function(t,e){return this.actionPrefix+"."+this.modelName+"::"+t+(e?"::"+e:"")},t.prototype.onError=function(t,e,n,i){t.next(this.notifications.addToast({type:"error",options:{title:e.message}})),this.actions.failed({status:""+e.status},n,i)},t}();var Bt=function(t){function e(e,n,i,r,o,a){var c=t.call(this,e,n,i,r)||this;return c.actionPrefix=e,c.modelName=n,c.actions=i,c.notifications=r,c.infoProjRelApi=o,c.proActions=a,c}return A(e,t),e.prototype.createUpsertEpic=function(t,e){var n=this;return(function(r,s){return r.pipe(o.ofType(n.actionPrefix+"."+n.modelName+"::UPSERT"),c.mergeMap((function(r){return new a.Observable((function(o){var a=r.meta.addPending,c=r.meta;c.items=c.items.map((function(t){return E({},t,{entity_version_project_rels:[E({},i.pathOr({},["entity_version_project_rels",0],t),{is_in_project:!0})]})})),t(c).subscribe((function(t){e?(e(t,r.meta.pk),n.actions.succeeded(t,a,r.meta.pk)):n.actions.upsertSucceeded(t,a,r.meta.pk)}),(function(t){o.next(n.notifications.addToast({type:"error",options:{title:t.message}})),n.actions.failed({status:""+t.status},a,r.meta.pk)}))}))})))})},e.prototype.createRemoveEpic=function(){var t=this;return(function(e,n){return e.pipe(o.ofType(t.actionPrefix+"."+t.modelName+"::REMOVE"),c.mergeMap((function(e){return new a.Observable((function(n){var i=e.meta.addPending;t.infoProjRelApi.bulkUpdateEprAttributes(e.meta.pk,e.meta.items.map((function(t){return{fk_entity:t.pk_entity,is_in_project:!1}}))).subscribe((function(n){n.length&&t.proActions.info_proj_rel.upsertSucceeded(n,void 0,e.meta.pk),t.actions.removeSucceeded(e.meta.items,i,e.meta.pk)}),(function(r){n.next(t.notifications.addToast({type:"error",options:{title:r.message}})),t.actions.failed({status:""+r.status},i,e.meta.pk)}))}))})))})},e.prototype.createCustomUpsertEpic=function(t,e,n){var i=this;return(function(r,s){return r.pipe(o.ofType(i.actionPrefix+"."+i.modelName+"::UPSERT"+(e?"::"+e:"")),c.mergeMap((function(e){return new a.Observable((function(r){var o=e.meta.addPending,a=e.meta;t(a).subscribe((function(t){n?(n(t,e.meta.pk),i.actions.upsertSucceeded([],o,e.meta.pk)):i.actions.upsertSucceeded(t,o,e.meta.pk)}),(function(t){r.next(i.notifications.addToast({type:"error",options:{title:t.message}})),i.actions.failed({status:""+t.status},o,e.meta.pk)}))}))})))})},e}(Lt);var Ft=function(t){return"by_"+t},Nt=function(t){return t.map((function(t){return Object.keys(t)[0]})).join("__")},wt=function(t){return"pag_"+t},Ut=function(t){return wt(Ft(t))},Mt=function(t){return t.map((function(t){return i.values(t)[0]})).join("_")};function Gt(t,e){return Jt(t,e)+"_"+$t(t,e)}function $t(t,e){return Jt(t,e)+t}function Jt(t,e){return e}var Kt=function(){function t(t,e){this.actionPrefix=t,this.configs=e,this.updatingBy=function(t){return"updating_"+Ft(t)},this.deletingBy=function(t){return"deleting_"+Ft(t)},this.removingBy=function(t){return"removing_"+Ft(t)}}return t.prototype.createReducers=function(){var t=this,e={};u.U.obj2KeyValueArr(this.configs).forEach((function(n){e[n.key]=t.createModelReducers(n.key,n.value)}));var n=i.keys(this.configs).map((function(e){return t.createEntityModelMapReducers(e)}));return e.pkEntityModelMap=d.composeReducers.apply(void 0,S(n)),y.combineReducers(e)},t.prototype.createModelReducers=function(t,e){var n=this,r=this.actionPrefix;return function(o,a){void 0===o&&(o={});var c=n.facette(t,e);if(a.type===r+"."+t+"::LOAD")o=c(a,o,(function(t){return E({},i.omit([Ft(e.indexBy.keyInStore)],t),{loading:!0})}));else if(a.type===r+"."+t+"::LOAD_SUCCEEDED")o=c(a,o,(function(t){return E({},n.mergeItemsInState(e,t,a),{loading:!1})}));else if(a.type===r+"."+t+"::UPSERT")o=c(a,o,(function(t){var i;return E({},t,((i={})[n.updatingBy(e.indexBy.keyInStore)]=n.indexKeyObject(a,e),i))}));else if(a.type===r+"."+t+"::UPSERT_SUCCEEDED")o=c(a,o,(function(t){var r;return E({},n.mergeItemsInState(e,t,a),((r={})[n.updatingBy(e.indexBy.keyInStore)]=i.omit(i.values(n.indexKeyObject(a,e)),t[n.updatingBy(e.indexBy.keyInStore)]),r))}));else if(a.type===r+"."+t+"::DELETE")o=c(a,o,(function(t){var i;return E({},t,((i={})[n.deletingBy(e.indexBy.keyInStore)]=n.indexKeyObject(a,e),i))}));else if(a.type===r+"."+t+"::DELETE_SUCCEEDED"){var s=n.deletingBy(e.indexBy.keyInStore);o=c(a,o,(function(t){var r;return t=E({},n.deleteItemsFromState(e,a,t),((r={})[s]=i.omit(i.values(n.indexKeyObject(a,e)),t[n.deletingBy(e.indexBy.keyInStore)]),r)),Object.keys(t[s]).length||(t=i.omit([s],t)),t}))}else if(a.type===r+"."+t+"::REMOVE")o=c(a,o,(function(t){var i;return E({},t,((i={})[n.removingBy(e.indexBy.keyInStore)]=n.indexKeyObject(a,e),i))}));else if(a.type===r+"."+t+"::REMOVE_SUCCEEDED"){var p=n.removingBy(e.indexBy.keyInStore);o=c(a,o,(function(t){var r;return t=E({},n.deleteItemsFromState(e,a,t),((r={})[p]=i.omit(i.values(n.indexKeyObject(a,e)),t[n.removingBy(e.indexBy.keyInStore)]),r)),Object.keys(t[p]).length||(t=i.omit([p],t)),t}))}else if(a.type===r+"."+t+"::FAILED")o=c(a,o,(function(t){return E({},t,i.omit([Ft(e.indexBy.keyInStore)],t),{loading:!1})}));else if(a.type===r+"."+t+"::LOAD_PAGE"){var u=a.meta,l=Ut(Nt(u.paginateBy)),f=u.paginateBy.map((function(t){return i.values(t)[0]})).join("_"),d=Gt(u.limit,u.offset);o=c(a,o,(function(t){var e,n,i;return E({},t,((e={})[l]=E({},t[l],((n={})[f]=E({},(t[l]||{})[f],{loading:E({},((t[l]||{})[f]||{}).loading,(i={},i[d]=!0,i))}),n)),e))}))}else if(a.type===r+"."+t+"::LOAD_PAGE_FAILED"){u=a.meta;var y=Ut(Nt(u.paginateBy)),_=Mt(u.paginateBy),g=Gt(u.limit,u.offset);o=c(a,o,(function(t){var e,n,i;return E({},t,((e={})[y]=E({},t[y],((n={})[_]=E({},(t[y]||{})[_],{loading:E({},((t[y]||{})[_]||{}).loading,(i={},i[g]=!1,i))}),n)),e))}))}else if(a.type===r+"."+t+"::LOAD_PAGE_SUCCEEDED"){var h=a.meta,m=Ut(Nt(h.paginateBy)),A=Mt(h.paginateBy),v=Jt(h.limit,h.offset),P=Gt(h.limit,h.offset),k={};h.pks&&h.pks.forEach((function(t,e){k[v+e]=t})),o=c(a,o,(function(t){var e,n,i;return E({},t,((e={})[m]=E({},t[m],((n={})[A]=E({},(t[m]||{})[A],{count:h.count||0,rows:E({},((t[m]||{})[A]||{}).rows,k),loading:E({},((t[m]||{})[A]||{}).loading,(i={},i[P]=!1,i))}),n)),e))}))}return o}},t.prototype.createEntityModelMapReducers=function(t){var e=this.actionPrefix;return function(n,r){void 0===n&&(n={});var o=e+"."+t;if(!(r&&r.meta&&r.meta.items&&r.meta.items.length))return n;var a=r.meta.items;switch(r.type){case o+"::LOAD_SUCCEEDED":case o+"::UPSERT_SUCCEEDED":for(var c={},s=0;s<a.length;s++){(u=a[s]).pk_entity&&(c[u.pk_entity]={modelName:t,fkClass:u.fkClass})}n=E({},n,c);break;case o+"::DELETE_SUCCEEDED":case o+"::REMOVE_SUCCEEDED":var p=[];for(s=0;s<a.length;s++){var u;(u=a[s]).pk_entity&&p.push(u.pk_entity)}n=i.omit(p,n)}return n}},t.prototype.facette=function(t,e){var n=this;return(function(i,r,o){var a,c;c=(a=n.deFacette(t,e,i,c,r)).outerState;var s=o(r=a.state);return n.enFacette(t,e,i,s,c)})},t.prototype.deFacette=function(t,e,n,i,r){if(this.isFacetteByPk(e,n)){var o=n.meta.pk||"repo";return{outerState:r,state:r[e.facetteByPk]&&r[e.facetteByPk][o]||{}}}return{outerState:i,state:r}},t.prototype.enFacette=function(t,e,n,i,r){var o,a;if(this.isFacetteByPk(e,n)){var c=n.meta.pk||"repo";i=E({},r,((o={})[e.facetteByPk]=E({},r[e.facetteByPk],((a={})[c]=i,a)),o))}return i},t.prototype.isFacetteByPk=function(t,e){if(t.facetteByPk){if(e.meta&&void 0!==e.meta.pk)return!0;throw Error("Facette action must provide pk for facette")}return!1},t.prototype.deleteItemsFromState=function(t,e,n){var r=this,o=e.meta.items,a=(t.groupBy&&t.groupBy.length?t.groupBy:[]).map((function(t){return{groupByKey:Ft(t.keyInStore),groupByFn:t.groupByFn}})),c=Ft(t.indexBy.keyInStore);return o.forEach((function(e){var o,s=t.indexBy.indexByFn(e);(n[c]?n[c][s]:void 0)&&(n=E({},n,((o={})[c]=E({},i.omit([s],n[c])),o)),a.forEach((function(t){var o,a,c=r.getGroupKeyOfItem(t.groupByFn,e);n=E({},n,((o={})[t.groupByKey]=E({},n[t.groupByKey],((a={})[c]=E({},i.omit([s],(n[t.groupByKey]||{})[c])),a)),o))})))})),Object.keys(n[c]).length<1&&(n=E({},i.omit([c],n))),a.forEach((function(t){Object.keys(n[t.groupByKey]).forEach((function(e){var r;Object.keys(n[t.groupByKey][e]).length<1&&(n=E({},n,((r={})[t.groupByKey]=i.omit([e],n[t.groupByKey]),r)))})),Object.keys(n[t.groupByKey]).length<1&&(n=E({},i.omit([t.groupByKey],n)))})),n},t.prototype.mergeItemsInState=function(t,e,n){var r=this,o=n.meta.items,a=(t.groupBy&&t.groupBy.length?t.groupBy:[]).map((function(t){return{groupByKey:Ft(t.keyInStore),groupByFn:t.groupByFn}})),c=Ft(t.indexBy.keyInStore);return o.forEach((function(n){var o,s,p,u=t.indexBy.indexByFn(n),l=e[c]?e[c][u]:void 0,f=t.equals||i.equals;l&&f(n,l)?p=l:(p=n,e=E({},e,((o={})[c]=E({},e[c],((s={})[u]=p,s)),o)),a.forEach((function(t){var n,o,a,c,s,f=r.getGroupKeyOfItem(t.groupByFn,l);e=E({},e,((n={})[t.groupByKey]=E({},e[t.groupByKey],((o={})[f]=E({},i.omit([u],(e[t.groupByKey]||{})[f])),o)),n));var d=r.getGroupKeyOfItem(t.groupByFn,p);void 0!==d&&(e=E({},e,((a={})[t.groupByKey]=E({},e[t.groupByKey],((c={})[d]=E({},(e[t.groupByKey]||{})[d],((s={})[u]=p,s)),c)),a)))})))})),e},t.prototype.indexKeyObject=function(t,e){return i.indexBy((function(t){return t}),t.meta.items.filter((function(t){try{return e.indexBy.indexByFn(t),!0}catch(t){return!1}})).map((function(t){return e.indexBy.indexByFn(t)})))},t.prototype.groupBy=function(t,e,n){var i=this,r={};return t.forEach((function(t){var o,a=i.getGroupKeyOfItem(e,t);if(a){var c=n(t);r[a]=E({},r[a],((o={})[c]=t,o))}})),r},t.prototype.getGroupKeyOfItem=function(t,e){var n;try{n=t(e)}catch(t){}return n},t}();var Vt=function(){function t(t,e,n,i,r,o,a,c,s){this.api=t,this.infActions=e,this.proActions=n,this.datActions=i,this.warActions=r,this.tabActions=o,this.dfhActions=a,this.sysActions=c,this.notifications=s}return t.prototype.store=function(t,e){var n=this,i=new a.Subject;return t.subscribe((function(t){n.storeSchemaObject(t,"ofRepo"===e?null:e),i.next(t)}),(function(t){n.notifications.addToast({type:"error",options:{title:t.message}}),i.error(t)})),i},t.prototype.storeGv=function(t,e){var n=this,i=new a.Subject;return t.subscribe((function(t){n.storeSchemaObjectGv(t,"ofRepo"===e?null:e),i.next(t)}),(function(t){n.notifications.addToast({type:"error",options:{title:t.message}}),i.error(t)})),i},t.prototype.storeSchemaObject=function(t,e){var n=this;t&&Object.keys(t).length>0&&Object.keys(t).forEach((function(i){var r;"inf"===i?r=n.infActions:"pro"===i?r=n.proActions:"dat"===i?r=n.datActions:"war"===i&&(r=n.warActions),r&&Object.keys(t[i]).forEach((function(n){r[n].loadSucceeded(t[i][n],void 0,e)}))}))},t.prototype.storeSchemaObjectGv=function(t,e){var n=this;t&&Object.keys(t).length>0&&(Object.keys(t).forEach((function(i){var r;"inf"===i?r=n.infActions:"pro"===i?r=n.proActions:"dat"===i?r=n.datActions:"war"===i?r=n.warActions:"tab"===i?r=n.tabActions:"dfh"===i?r=n.dfhActions:"sys"===i&&(r=n.sysActions),r&&Object.keys(t[i]).forEach((function(n){r[n].loadSucceeded(t[i][n],void 0,e)}))})),console.warn("!!!!!!!! Need to call this.extendEntityPreviewStream(object, pkProject);"))},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:s.SchemaObjectApi},{type:_t},{type:kt},{type:rt},{type:It},{type:Ot},{type:pt},{type:St},{type:b}]},t}();var Yt=function(){function t(t,e,n,i,r,o,a,c,s){this.notification=t,this.datActions=e,this.infActions=n,this.proActions=i,this.digitalApi=r,this.chunkApi=o,this.columnApi=a,this.namespaceApi=c,this.schemaObjectService=s}return t.prototype.createEpics=function(){var t=this,e=new Lt(D,"digital",this.datActions.digital,this.notification),n=new Lt(D,"chunk",this.datActions.chunk,this.notification),i=new Lt(D,"namespace",this.datActions.namespace,this.notification),r=new Lt(D,"column",this.datActions.column,this.notification);return o.combineEpics(e.createLoadEpic((function(e){return t.digitalApi.getVersion(e.pkEntity,e.entityVersion?e.entityVersion:null)}),et.LOAD_VERSION),e.createUpsertEpic((function(e){return t.digitalApi.bulkUpsert(e.pk,e.items)})),e.createDeleteEpic((function(e){return t.digitalApi.bulkDelete(e.items.map((function(t){return t.pk_entity})))})),n.createLoadEpic((function(e){return t.chunkApi.ofDigital(e.pk,e.pkDigital)}),nt.CHUNKS_OF_DIGITAL,(function(e,n){var i=new Ct(t.infActions,t.datActions,t.proActions);i.chunk.flatten(e),Dt(i.getFlattened(),n)})),i.createLoadEpic((function(e){return t.namespaceApi.byProject(e.pk)}),""),r.createLoadEpic((function(e){return t.columnApi.ofDigital(e.pk,e.pkDigital)}),it.COLUMNS_OF_TABLE,(function(e,n){var i=e;t.schemaObjectService.storeSchemaObject(i,n)})))},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:b},{type:rt},{type:_t},{type:kt},{type:s.DatDigitalApi},{type:s.DatChunkApi},{type:s.DatColumnApi},{type:s.DatNamespaceApi},{type:Vt}]},t}();var qt=function(){function t(t,e,n,i,r,o){this.actions=t,this.notification=e,this.profileApi=n,this.classApi=i,this.propertyApi=r,this.labelApi=o}return t.prototype.createEpics=function(){var t=this,e=new Lt("dfh","profile",this.actions.profile,this.notification),n=new Lt("dfh","klass",this.actions.klass,this.notification),i=new Lt("dfh","label",this.actions.label,this.notification),r=new Lt("dfh","property",this.actions.property,this.notification);return o.combineEpics(e.createLoadEpic((function(e){return t.profileApi.ofProject(e.pk)}),ot.OF_PROJECT),r.createLoadEpic((function(e){return t.propertyApi.dfhPropertyControllerOfProject(e.pk)}),ct.OF_PROJECT),n.createLoadEpic((function(e){return t.classApi.dfhClassControllerOfProject(e.pk)}),at.OF_PROJECT),i.createLoadEpic((function(e){return t.labelApi.ofProject(e.pk)}),st.OF_PROJECT))},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:pt},{type:b},{type:s.DfhProfileApi},{type:_.DfhClassControllerService},{type:_.DfhPropertyControllerService},{type:s.DfhLabelApi}]},t}();var Ht=function(){function t(t,e,n,i,r,o,a,c,s,p){this.notification=t,this.peItApi=e,this.teEnApi=n,this.statementApi=i,this.textPropertyApi=r,this.infActions=o,this.proActions=a,this.datActions=c,this.infoProjRelApi=s,this.schemaObjectService=p}return t.prototype.createEpics=function(){var t=this,e=new Bt(N,"persistent_item",this.infActions.persistent_item,this.notification,this.infoProjRelApi,this.proActions),n=new Bt(N,"temporal_entity",this.infActions.temporal_entity,this.notification,this.infoProjRelApi,this.proActions),i=new Bt(N,"statement",this.infActions.statement,this.notification,this.infoProjRelApi,this.proActions),r=new Bt(N,"text_property",this.infActions.text_property,this.notification,this.infoProjRelApi,this.proActions);return o.combineEpics(e.createLoadEpic((function(e){return t.peItApi.ownProperties(e.pk,e.pkEntity)}),lt.MINIMAL_BY_PK,(function(e,n){var i=e;Object.keys(i).forEach((function(e){var r;"inf"===e?r=t.infActions:"pro"===e&&(r=t.proActions),r&&Object.keys(i[e]).forEach((function(t){r[t].loadSucceeded(i[e][t],void 0,n)}))}))})),e.createLoadEpic((function(e){return t.peItApi.typesOfProject(e.pk)}),lt.TYPES_OF_PROJECT,(function(e,n){var i=e;t.schemaObjectService.storeSchemaObject(i,n)})),e.createUpsertEpic((function(e){return t.peItApi.findOrCreateInfPersistentItems(e.pk,e.items)}),(function(e,n){var i=new Ct(t.infActions,t.datActions,t.proActions);i.persistent_item.flatten(e),Dt(i.getFlattened(),n,"UPSERT")})),e.createRemoveEpic(),n.createLoadEpic((function(e){return t.teEnApi.ownProperties(e.pk,e.pkEntity)}),ft.OWN_PROPERTIES,(function(e,n){var i=e;t.schemaObjectService.storeSchemaObject(i,n)})),(function(e,i){return e.pipe(o.ofType(n.type("LOAD",ft.PAGINATED_LIST)),c.mergeMap((function(e){return new a.Observable((function(i){var r=e.meta,o=t.teEnApi.temporalEntityList(r.pk,r.pkSourceEntity,r.pkProperty,r.fkTargetClass,r.isOutgoing,r.limit,r.offset),a=r.pk;t.handleTemporalEntityListAction(e,n,i,o,a)}))})))}),(function(e,i){return e.pipe(o.ofType(n.type("LOAD",ft.PAGINATED_ALTERNATIVE_LIST)),c.mergeMap((function(e){return new a.Observable((function(i){var r=e.meta,o=t.teEnApi.alternativeTemporalEntityList(r.pk,r.pkSourceEntity,r.pkProperty,r.fkTargetClass,r.isOutgoing,r.limit,r.offset);t.handleTemporalEntityListAction(e,n,i,o,null)}))})))}),n.createUpsertEpic((function(e){return t.teEnApi.findOrCreateInfTemporalEntities(e.pk,e.items)}),(function(e,n){var i=new Ct(t.infActions,t.datActions,t.proActions);i.temporal_entity.flatten(e),Dt(i.getFlattened(),n,"UPSERT")})),n.createRemoveEpic(),i.createLoadEpic((function(e){return t.statementApi.alternativesNotInProjectByEntityPk(e.pkEntity,e.pkProperty,e.pk)}),dt.ALTERNATIVES_INGOING,(function(e,n){var i=new Ct(t.infActions,t.datActions,t.proActions);i.statement.flatten(e),Dt(i.getFlattened(),null)})),i.createUpsertEpic((function(e){return t.statementApi.findOrCreateInfStatements(e.pk,e.items)}),(function(e,n){var i=new Ct(t.infActions,t.datActions,t.proActions);i.statement.flatten(e),Dt(i.getFlattened(),n,"UPSERT")})),(function(e,n){return e.pipe(o.ofType(i.type("LOAD",ft.PAGINATED_LIST)),c.mergeMap((function(e){return new a.Observable((function(n){var r=e.meta,o=t.statementApi.paginatedListTargetingEntityPreviews(r.pk,r.pkSourceEntity,r.pkProperty,r.fkTargetClass,r.isOutgoing,r.limit,r.offset),a=r.pk;t.handleTemporalEntityListAction(e,i,n,o,a)}))})))}),i.createRemoveEpic(),i.createLoadEpic((function(e){return t.statementApi.queryByParams(e.ofProject,e.pk,e.pkEntity,e.pkInfoRange,e.pkInfoDomain,e.pkProperty)}),dt.BY_PARAMS,(function(e,n){var i=new Ct(t.infActions,t.datActions,t.proActions);i.statement.flatten(e),Dt(i.getFlattened(),n,"LOAD")})),i.createLoadEpic((function(e){return t.statementApi.sourcesAndDigitalsOfEntity(e.ofProject,e.pk,e.pkEntity)}),dt.SOURCES_AND_DIGITALS_OF_ENTITY,(function(e,n){var i=e,r=new Ct(t.infActions,t.datActions,t.proActions);r.statement.flatten(i.statements),Dt(r.getFlattened(),n);var o=new Ct(t.infActions,t.datActions,t.proActions);o.digital.flatten(i.digitals),Dt(o.getFlattened(),n)})),r.createLoadEpic((function(e){return t.textPropertyApi.findAlternativeTextProperties(e.pk,e.fkEntity,e.fkClassField)}),yt.ALTERNATIVES,(function(e,n){var i=new Ct(t.infActions,t.datActions,t.proActions);i.text_property.flatten(e),Dt(i.getFlattened(),null)})),r.createUpsertEpic((function(e){return t.textPropertyApi.findOrCreateInfTextProperties(e.pk,e.items)}),(function(e,n){var i=new Ct(t.infActions,t.datActions,t.proActions);i.text_property.flatten(e),Dt(i.getFlattened(),n)})),r.createRemoveEpic())},t.prototype.handleTemporalEntityListAction=function(t,e,n,i,r){var o,a,c=this,s=t.meta,p=s.addPending,u=[{fk_property:s.pkProperty},{fk_target_class:s.fkTargetClass},(o={},o[s.isOutgoing?"fk_subject_info":"fk_object_info"]=s.pkSourceEntity,o),(a={},a[s.alternatives?"alternatives":"ofProject"]=s.alternatives,a)];this.infActions.statement.loadPage(u,s.limit,s.offset,r),i.subscribe((function(t){c.schemaObjectService.storeSchemaObject(t.schemas,r),c.infActions.statement.loadPageSucceeded(t.paginatedStatements,t.count,u,s.limit,s.offset,r),e.actions.loadSucceeded([],p,r)}),(function(t){e.onError(n,t,p,r)}))},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:b},{type:s.InfPersistentItemApi},{type:s.InfTemporalEntityApi},{type:s.InfStatementApi},{type:s.InfTextPropertyApi},{type:_t},{type:kt},{type:rt},{type:s.ProInfoProjRelApi},{type:Vt}]},t}();var Xt=function(){function t(t,e,n,i,r,o,a,c,s,p,u,l){this.notification=t,this.infActions=e,this.proActions=n,this.datActions=i,this.projectApi=r,this.infoProjRelApi=o,this.classProjRelApi=a,this.profileProjRelApi=c,this.classFieldConfApi=s,this.textPropertyApi=p,this.analysisApi=u,this.schemaObjectService=l}return t.prototype.createEpics=function(){var t=this,e=new Lt(J,"project",this.proActions.project,this.notification),n=new Lt(J,"info_proj_rel",this.proActions.info_proj_rel,this.notification),i=new Lt(J,"dfh_class_proj_rel",this.proActions.dfh_class_proj_rel,this.notification),r=new Lt(J,"dfh_profile_proj_rel",this.proActions.dfh_profile_proj_rel,this.notification),a=new Lt(J,"class_field_config",this.proActions.class_field_config,this.notification),c=new Lt(J,"text_property",this.proActions.text_property,this.notification),s=new Lt(J,"analysis",this.proActions.analysis,this.notification);return o.combineEpics(e.createLoadEpic((function(e){return t.projectApi.ofAccount(e.pk)}),gt.OF_ACCOUNT,(function(e){var n=new Ct(t.infActions,t.datActions,t.proActions);n.pro_project.flatten(e),Dt(n.getFlattened())})),e.createLoadEpic((function(e){return t.projectApi.getBasics(e.pk)}),gt.LOAD_BASICS,(function(e){var n=new Ct(t.infActions,t.datActions,t.proActions);n.pro_project.flatten(e),Dt(n.getFlattened())})),n.createUpsertEpic((function(e){return t.infoProjRelApi.bulkUpdateEprAttributes(e.pk,e.items)}),(function(e,n){var i=new Ct(t.infActions,t.datActions,t.proActions);i.info_proj_rel.flatten(e),Dt(i.getFlattened(),n,"UPSERT")})),n.createLoadEpic((function(e){return t.infoProjRelApi.markStatementAsFavorite(e.pk,e.pkStatement,e.isOutgoing)}),ht.MARK_ROLE_AS_FAVORITE,(function(e,n){var i=new Ct(t.infActions,t.datActions,t.proActions);i.info_proj_rel.flatten(e),Dt(i.getFlattened(),n,"UPSERT")})),a.createLoadEpic((function(e){return t.classFieldConfApi.ofProject(e.pk)}),Et.OF_PROJECT,(function(e){var n=new Ct(t.infActions,t.datActions,t.proActions);n.pro_class_field_config.flatten(e),Dt(n.getFlattened())})),a.createUpsertEpic((function(e){return t.classFieldConfApi.bulkUpsert(e.pk,e.items)}),(function(e,n){var i=new Ct(t.infActions,t.datActions,t.proActions);i.pro_class_field_config.flatten(e),Dt(i.getFlattened(),n,"UPSERT")})),i.createLoadEpic((function(e){return t.classProjRelApi.ofProject(e.pk)}),mt.OF_PROJECT,(function(e){var n=new Ct(t.infActions,t.datActions,t.proActions);n.pro_dfh_class_proj_rel.flatten(e),Dt(n.getFlattened())})),i.createUpsertEpic((function(e){return t.classProjRelApi.bulkUpsert(e.pk,e.items)}),(function(e,n){var i=new Ct(t.infActions,t.datActions,t.proActions);i.pro_dfh_class_proj_rel.flatten(e),Dt(i.getFlattened(),n,"UPSERT")})),r.createLoadEpic((function(e){return t.profileProjRelApi.ofProject(e.pk)}),At.OF_PROJECT,(function(e){var n=new Ct(t.infActions,t.datActions,t.proActions);n.pro_dfh_profile_proj_rel.flatten(e),Dt(n.getFlattened())})),r.createUpsertEpic((function(e){return t.profileProjRelApi.bulkUpsert(e.pk,e.items)}),(function(e,n){var i=new Ct(t.infActions,t.datActions,t.proActions);i.pro_dfh_profile_proj_rel.flatten(e),Dt(i.getFlattened(),n,"UPSERT")})),c.createLoadEpic((function(e){return t.textPropertyApi.ofProject(e.pk)}),vt.OF_PROJECT,(function(e,n){var i=e;t.schemaObjectService.storeSchemaObject(i,n)})),c.createUpsertEpic((function(e){return t.textPropertyApi.bulkUpsert(e.pk,e.items)}),(function(e,n){var i=e;t.schemaObjectService.storeSchemaObject(i,n)})),c.createDeleteEpic((function(e){return t.textPropertyApi.bulkDelete(e.pk,e.items)})),s.createDeleteEpic((function(e){return t.analysisApi.analysisControllerBulkDelete(e.pk,e.items.map((function(t){return t.pk_entity})))})))},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:b},{type:_t},{type:kt},{type:rt},{type:s.ProProjectApi},{type:s.ProInfoProjRelApi},{type:s.ProDfhClassProjRelApi},{type:s.ProDfhProfileProjRelApi},{type:s.ProClassFieldConfigApi},{type:s.ProTextPropertyApi},{type:_.AnalysisService},{type:Vt}]},t}();var Wt=function(){function t(t,e,n,i){this.actions=t,this.notification=e,this.sysRelevantClassApi=n,this.sysConfigApi=i}return t.prototype.createEpics=function(){var t=this,e=new Lt(H,"system_relevant_class",this.actions.system_relevant_class,this.notification),n=new Lt(H,"config",this.actions.config,this.notification);return o.combineEpics(e.createLoadEpic((function(e){return t.sysRelevantClassApi.find()}),""),e.createUpsertEpic((function(e){return t.sysRelevantClassApi.bulkReplaceOrCreate(e.items)})),n.createLoadEpic((function(){return t.sysConfigApi.sysConfigControllerGetSystemConfig().pipe(c.map((function(t){return[t]})))}),""))},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:St},{type:b},{type:s.SysSystemRelevantClassApi},{type:_.SystemConfigurationService}]},t}();var zt=function(){function t(){}return t.prototype.createEpics=function(){return o.combineEpics()},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[]},t}(),Zt=function(){function t(){}return t.prototype.createEpics=function(){return o.combineEpics()},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[]},t}(),Qt=function(){function t(t,e,n,i,r,s,p,u,l,f){var d=this;this.loadingBarEpics=t,this.notificationEpics=e,this.activeProjectEpics=n,this.accountEpics=i,this.systemEpics=r,this.dfhEpics=s,this.infEpics=p,this.datEpics=u,this.proEpics=l,this.actionResolver=f,this.rootEpicStream$=new a.BehaviorSubject(o.combineEpics(this.loadingBarEpics.createEpics(),this.notificationEpics.createEpics(),this.systemEpics.createEpics(),this.activeProjectEpics.createEpics(),this.accountEpics.createEpics(),this.dfhEpics.createEpics(),this.infEpics.createEpics(),this.datEpics.createEpics(),this.proEpics.createEpics(),this.actionResolver.createEpics())),this.rootEpic=function(t,e,n){return void 0===n&&(n=void 0),d.rootEpicStream$.pipe(c.mergeMap((function(i){return i(t,e,n)})))}}return t.prototype.getRootEpic=function(){return this.rootEpic},t.prototype.addEpic=function(t){this.rootEpicStream$.next(t)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:xt},{type:bt},{type:Tt},{type:C},{type:Wt},{type:qt},{type:Ht},{type:Yt},{type:Xt},{type:Rt}]},t}();var te={account:void 0,roles:void 0},ee=function(t,e){switch(void 0===t&&(t=te),e.type){case O.LOGIN_SUCCEEDED:case O.ACCOUNT_UPDATED:t=E({},t,{account:e.meta.account});break;case O.LOAD_ROLES_SUCCEEDED:t=E({},t,{roles:e.meta.accountRoles});break;case O.LOAD_ROLES_FAILED:t=E({},t,{roles:[]})}return t},ne={label:"",list:"",uiIdSerial:0,panelSerial:0,focusedPanel:0,panels:[]},ie=function(t,e){var n,r,o,a,c,s,p,u,l,f,d,y,_;switch(void 0===t&&(t=ne),e.type){case I.LOAD_PROJECT_BASICS_SUCCEEDED:t=E({},t,e.meta.projectPreview);break;case I.LOAD_PROJECT_CONFIG:t=E({},t,{loadingConfigData:!0});break;case I.LOAD_PROJECT_CONFIG_SUCCEEDED:t=E({},t,{configDataInitialized:!0,loadingConfigData:!1});break;case I.SET_PANELS:t=E({},t,{panels:e.meta.panels,uiIdSerial:e.meta.uiIdSerial,panelSerial:e.meta.panelSerial,focusedPanel:e.meta.focusedPanel});break;case I.SET_LIST_TYPE:t=E({},t,{list:e.meta.list});break;case I.ACTIVATE_TAB:u=e.meta.panelIndex,l=e.meta.tabIndex,t=E({},t,{panels:Object.assign(S(t.panels),(n={},n[u]=E({},t.panels[u],{tabs:S(t.panels[u].tabs).map((function(t,e){return t.active=e===l,t}))}),n))});break;case I.MOVE_TAB:if(f=e.meta.previousPanelIndex,d=e.meta.currentPanelIndex,y=e.meta.previousTabIndex,_=e.meta.currentTabIndex,f===d){var g=S(t.panels[d].tabs);h.moveItemInArray(g,y,_),t=E({},t,{panels:Object.assign(S(t.panels),(r={},r[d]=E({},t.panels[d],{tabs:g}),r))})}else{var m=S(t.panels[f].tabs),A=S(t.panels[d].tabs);h.transferArrayItem(m,A,y,_),t=E({},t,{panels:Object.assign(S(t.panels),(o={},o[f]=E({},t.panels[f],{tabs:m.map((function(t,e){return t.active=e===(y<m.length?y:y-1),t}))}),o[d]=E({},t.panels[d],{tabs:A.map((function(t,e){return t.active=e===_,t}))}),o))})}break;case I.ADD_TAB:0===t.panels.length&&(t=E({},t,{panels:[{id:t.panelSerial,tabs:[]}],focusedPanel:0,panelSerial:t.panelSerial+1})),u=t.focusedPanel,t=E({},t,{panels:Object.assign(S(t.panels),(a={},a[u]=E({},t.panels[u],{tabs:S(t.panels[u].tabs.map((function(t){return t.active=!1,t})),[E({},i.omit(["pathSegment"],e.meta.tab),{path:["activeProject",e.meta.tab.pathSegment,t.uiIdSerial.toString()]})])}),a)),uiIdSerial:t.uiIdSerial+1});break;case I.CLOSE_TAB:u=e.meta.panelIndex,l=e.meta.tabIndex,(t=E({},t,{panels:Object.assign(S(t.panels),(c={},c[u]=E({},t.panels[u],{tabs:S(t.panels[u].tabs).filter((function(t,e){return e!==l}))}),c))})).panels[u].tabs.find((function(t){return t.active}))||(t=E({},t,{panels:Object.assign(S(t.panels),(s={},s[u]=E({},t.panels[u],{tabs:S(t.panels[u].tabs).map((function(e,n){return e.active=n===(l<t.panels[u].tabs.length?l:l-1),e}))}),s))}));break;case I.CLOSE_PANEL:u=e.meta.panelIndex;var v=S(t.panels);v.splice(u,1),t=E({},t,{panels:v});break;case I.FOCUS_PANEL:t=E({},t,{focusedPanel:e.meta.panelIndex});break;case I.SPLIT_PANEL:f=e.meta.previousPanelIndex,l=e.meta.tabIndex,d=e.meta.currentPanelIndex;var P=t.panels[f].tabs[l];t=E({},t,{panels:Object.assign(S(t.panels),(p={},p[f]=E({},t.panels[f],{tabs:S(t.panels[f].tabs).filter((function(t,e){return e!==l})).map((function(t,e){return 0===e&&(t.active=!0),t}))}),p))});var k=S(t.panels);k.splice(d,0,{id:t.panelSerial,tabs:[P]}),t=E({},t,{panels:k,panelSerial:t.panelSerial+1});break;case I.SET_REFINING_CHUNK:t=E({},t,{refiningChunk:e.payload.refiningChunk});break;case I.SET_CREATING_MENTIONING:t=E({},t,{creatingMentioning:e.payload.creatingMentioning});break;case I.SET_MENTIONINGS_FOCUSED_IN_TEXT:t=E({},t,{mentioningsFocusedInText:e.payload.mentioningsFocusedInText});break;case I.SET_MENTIONINGS_FOCUSED_IN_TABLE:t=E({},t,{mentioningsFocusedInTable:e.payload.mentioningsFocusedInTable});break;case I.DESTROY:t=ne}return t};var re=function(t){Object.assign(this,t)};var oe=function(t){Object.assign(this,t)};var ae=function(t){Object.assign(this,t)};var ce=function(t){Object.assign(this,t)};var se=new re;function pe(t,e){switch(void 0===t&&(t=se),e.type){case T.DESTROY:t={}}return t}var ue={loading:!1,progress:0};function le(t,e){switch(void 0===t&&(t=ue),e.type){case x.START:return E({},t,{loading:!0});case x.STOP:case x.COPMLETE:return E({},t,{loading:!1})}return t}var fe=new ae;var de={records:[]},ye=function(t,e){switch(void 0===t&&(t=de),e.type){case R.LOAD_PROJECTS_SUCCEEDED:return E({},t,{records:e.payload.map((function(t){return{record:t}}))})}return t},_e=function(){return ye},ge=new ce;function he(t,e){void 0===t&&(t=ge);var n=e;switch(n.type){case j.INITIALIZE_LIST:t=E({},t,{list:{pkAllowedClasses:n.meta.pkAllowedClasses}});break;case j.DESTROY:t={}}return t}var me=d.composeReducers(d.defaultFormReducer(),y.combineReducers({account:ee,loadingBar:le,activeProject:ie,routes:g.routerReducer,information:pe,sources:he,sandboxState:function(t,e){return void 0===t&&(t={}),"INIT_SANDBOX_STATE"===e.type&&(t=E({},t,e.payload)),t},projects:_e(),sys:new Kt(H,X).createReducers(),dfh:new Kt("dfh",F).createReducers(),inf:new Kt(N,w).createReducers(),dat:new Kt(D,L).createReducers(),pro:new Kt(J,q).createReducers(),war:new Kt(Z,Q).createReducers(),tab:new Kt(W,z).createReducers(),pending:function(t,e){var n;if(void 0===t&&(t={}),e&&e.meta&&e.meta.addPending){var r=e.meta.addPending;t=E({},t,((n={})[r]=!0,n))}if(e&&e.meta&&e.meta.removePending){r=e.meta.removePending;t=E({},i.omit([r],t))}return t},resolved:d.composeReducers((function(t,e){var n;if(void 0===t&&(t={}),e&&e.meta&&e.meta.removePending){var i=e.meta.removePending;t=E({},t,((n={})[i]=e.meta,n))}return t}),(function(t,e){if(void 0===t&&(t={}),e&&"CLEAN_UP_RESOLVED"===e.type){var n=e.meta.uuid;t=E({},i.omit([n],t))}return t}))}),(function(t,e){return void 0===t&&(t={}),e&&"SET_APP_STATE"===e.type&&(t=e.payload),t})),Ae=new n.InjectionToken("app.INITIAL_STATE"),Ee={},ve=function(){function t(t,e,n,i){this.ngRedux=t;var a=o.createEpicMiddleware();t.configureStore(me,i,[a,r],e.isEnabled()?[e.enhancer()]:[]),a.run(n.getRootEpic())}return t.decorators=[{type:n.NgModule,args:[{imports:[e.NgReduxModule],providers:[O,I,x,b,C,Tt,xt,bt,rt,pt,_t,kt,St,Ot,It,Yt,qt,Ht,Xt,Wt,zt,Zt,Qt,tt,Vt,{provide:Ae,useValue:Ee}]}]}],t.ctorParameters=function(){return[{type:e.NgRedux},{type:e.DevToolsExtension},{type:Qt},{type:void 0,decorators:[{type:n.Inject,args:[Ae]}]}]},t}();var Pe=function(t){this.showProperties=!1,this.showRightArea=!0,this.rightPanelTabs=[],this.rightPanelActiveTab=0,this.showHeader=!0,Object.assign(this,t)};var ke=function(t){Object.assign(this,t)};var Se=function(t){Object.assign(this,t)};var Oe=function(t){Object.assign(this,t)};var Ie=function(){};var Te=function(){};var xe=function(){};var be=function(){};var Re=function(){};var je=function(){};var Ce=function(){};var De=function(){};var Le=function(){};var Be=function(){};var Fe=function(){};var Ne=function(){};var we=function(){};var Ue=function(){};var Me=function(){};var Ge=function(){};var $e=function(){};var Je=function(){};var Ke=function(){};var Ve=function(){};var Ye=function(){};t.AccountActions=O,t.AccountEpics=C,t.ActionResolverEpics=Rt,t.ActiveProjectActions=I,t.ActiveProjectEpics=Tt,t.ChunkActionsFactory=nt,t.ChunkSlice=Te,t.ClassColumnMappingSlice=be,t.ColumnActionsFactory=it,t.ColumnSlice=xe,t.DatActions=rt,t.DfhActions=pt,t.DfhClassActionFactory=at,t.DfhClassSlice=De,t.DfhLabelActionFactory=st,t.DfhLabelSlice=Be,t.DfhProfileActionFactory=ot,t.DfhProfileSlice=Ce,t.DfhPropertyActionFactory=ct,t.DfhPropertySlice=Le,t.DigitalActionsFactory=et,t.DigitalSlice=Ie,t.EntityDetail=Pe,t.Flattener=Ct,t.InfActionFactory=ut,t.InfActions=_t,t.InfAppellationSlice=$e,t.InfDimensionSlice=Ke,t.InfEpicsFactory=Bt,t.InfLangStringSlice=Je,t.InfLanguageSlice=Ge,t.InfPersistentItemActionFactory=lt,t.InfPersistentItemSlice=Fe,t.InfPlaceSlice=Ue,t.InfStatementActionFactory=dt,t.InfStatementSlice=we,t.InfTemporalEntityActionFactory=ft,t.InfTemporalEntitySlice=Ne,t.InfTextPropertyActionFactory=yt,t.InfTextPropertySlice=Ve,t.InfTimePrimitiveSlice=Me,t.Information=re,t.InformationAPIActions=T,t.List=oe,t.LoadingBarActions=x,t.LoadingBarEpics=xt,t.NamespaceSlice=je,t.Notifications=ae,t.NotificationsAPIActions=b,t.NotificationsAPIEpics=bt,t.PR_ENTITY_MODEL_MAP="pkEntityModelMap",t.ProActions=kt,t.ProAnalysisActionFactory=Pt,t.ProClassFieldConfigActionFactory=Et,t.ProDfhClassProjRelActionFactory=mt,t.ProDfhProfileProjRelActionFactory=At,t.ProInfoProjRelActionFactory=ht,t.ProProjectActionFactory=gt,t.ProTextPropertyActionFactory=vt,t.ProjectSettingsData=ke,t.ProjectsActions=R,t.ReducerFactory=Kt,t.ReduxStoreModule=ve,t.SET_APP_STATE="SET_APP_STATE",t.SchemaActionsFactory=tt,t.SchemaEpicsFactory=Lt,t.SchemaObjectService=Vt,t.SourceList=ce,t.SourceListAPIActions=j,t.SysActions=St,t.TabActions=Ot,t.TabBase=Se,t.TabCellSlice=Ye,t.TextPropertySlice=Re,t.Types=Oe,t.WarActions=It,t.accountRootReducer=ee,t.activeProjectReducer=ie,t.by=Ft,t.createProjectsReducer=_e,t.datDefinitions=L,t.datRoot=D,t.dfhDefinitions=F,t.dfhLabelByFksKey=B,t.dfhRoot="dfh",t.facetteByPk="by_namespace",t.getEnd=$t,t.getFromTo=Gt,t.getStart=Jt,t.indexStatementByObject=M,t.indexStatementByObjectProperty=$,t.indexStatementBySubject=U,t.indexStatementBySubjectProperty=G,t.infDefinitions=w,t.infRoot=N,t.informationReducer=pe,t.loadingBarReducer=le,t.notificationsReducer=function(t,e){return void 0===t&&(t=fe),e.type,t},t.pag=wt,t.paginateKey=Mt,t.paginateName=Nt,t.paginatedBy=Ut,t.proClassFieldConfgByProjectAndClassKey=Y,t.proDefinitions=q,t.proRoot=J,t.sourceListReducer=he,t.storeFlattened=Dt,t.sysDefinitions=X,t.sysRoot=H,t.tabDefinitions=z,t.tabRoot=W,t.textPropertyByFksKey=K,t.textPropertyByFksWithoutLang=V,t.warDefinitions=Q,t.warRoot=Z,t.ɵa=Ae,t.ɵb=O,t.ɵba=Vt,t.ɵc=I,t.ɵd=x,t.ɵe=b,t.ɵf=C,t.ɵg=Tt,t.ɵh=xt,t.ɵi=bt,t.ɵj=rt,t.ɵk=pt,t.ɵl=_t,t.ɵm=kt,t.ɵn=St,t.ɵo=Ot,t.ɵp=It,t.ɵq=Yt,t.ɵr=qt,t.ɵs=Ht,t.ɵt=Xt,t.ɵu=Wt,t.ɵv=zt,t.ɵw=Zt,t.ɵx=Qt,t.ɵy=Rt,t.ɵz=tt,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=kleiolab-lib-redux-src-lib-redux-store.umd.min.js.map