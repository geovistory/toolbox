/* tslint:disable */
import { Subject } from 'rxjs';
export class IO {
    constructor(socket) {
        this.observables = {};
        this.socket = socket;
    }
    emit(event, data) {
        this.socket.emit('ME:RT:1://event', {
            event: event,
            data: data
        });
    }
    on(event) {
        if (this.observables[event]) {
            return this.observables[event];
        }
        let subject = new Subject();
        this.socket.on(event, (res) => subject.next(res));
        this.observables[event] = subject.asObservable();
        return this.observables[event];
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW8uc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BrbGVpb2xhYi9saWItc2RrLWxiMy8iLCJzb3VyY2VzIjpbImxpYi9zZGsvc2VydmljZXMvY29yZS9pby5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQixPQUFPLEVBQWMsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRTNDLE1BQU0sT0FBTyxFQUFFO0lBS2IsWUFBWSxNQUFXO1FBRmYsZ0JBQVcsR0FBUSxFQUFFLENBQUM7UUFFSCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUFDLENBQUM7SUFFbEQsSUFBSSxDQUFDLEtBQWEsRUFBRSxJQUFTO1FBQzNCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFO1lBQ2hDLEtBQUssRUFBRyxLQUFLO1lBQ2IsSUFBSSxFQUFJLElBQUk7U0FDZixDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsRUFBRSxDQUFDLEtBQWE7UUFDZCxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFBRSxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7U0FBRTtRQUNoRSxJQUFJLE9BQU8sR0FBaUIsSUFBSSxPQUFPLEVBQU8sQ0FBQztRQUMvQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxHQUFRLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2RCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLE9BQU8sQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUNqRCxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakMsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGUgKi9cbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcblxuZXhwb3J0IGNsYXNzIElPIHtcblxuICBwcml2YXRlIHNvY2tldDogYW55O1xuICBwcml2YXRlIG9ic2VydmFibGVzOiBhbnkgPSB7fTtcblxuICBjb25zdHJ1Y3Rvcihzb2NrZXQ6IGFueSkgeyB0aGlzLnNvY2tldCA9IHNvY2tldDsgfVxuXG4gIGVtaXQoZXZlbnQ6IHN0cmluZywgZGF0YTogYW55KTogdm9pZCB7XG4gICAgdGhpcy5zb2NrZXQuZW1pdCgnTUU6UlQ6MTovL2V2ZW50Jywge1xuICAgICAgICBldmVudCA6IGV2ZW50LFxuICAgICAgICBkYXRhICA6IGRhdGFcbiAgICB9KTtcbiAgfVxuXG4gIG9uKGV2ZW50OiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIGlmICh0aGlzLm9ic2VydmFibGVzW2V2ZW50XSkgeyByZXR1cm4gdGhpcy5vYnNlcnZhYmxlc1tldmVudF07IH1cbiAgICBsZXQgc3ViamVjdDogU3ViamVjdDxhbnk+ID0gbmV3IFN1YmplY3Q8YW55PigpO1xuICAgIHRoaXMuc29ja2V0Lm9uKGV2ZW50LCAocmVzOiBhbnkpID0+IHN1YmplY3QubmV4dChyZXMpKTtcbiAgICB0aGlzLm9ic2VydmFibGVzW2V2ZW50XSA9IHN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgcmV0dXJuIHRoaXMub2JzZXJ2YWJsZXNbZXZlbnRdO1xuICB9XG59XG4iXX0=