{"version":3,"file":"kleiolab-lib-sockets-src-lib-sockets.js","sources":["ng://@kleiolab/lib-sockets/src/lib/sockets/models/SocketsConfig.ts","ng://@kleiolab/lib-sockets/src/lib/sockets/services/entity-preview-socket.service.ts","ng://@kleiolab/lib-sockets/src/lib/sockets/services/import-table-socket-socket.service.ts","ng://@kleiolab/lib-sockets/src/lib/sockets/services/sys-status-socket.service.ts"],"sourcesContent":["export class SocketsConfig {\n  baseUrl = '';\n}\n","import { Injectable, Optional } from '@angular/core';\nimport { Socket } from 'ngx-socket-io';\nimport { WarEntityPreview } from \"@kleiolab/lib-sdk-lb4\";\nimport { SocketsConfig } from \"../models/SocketsConfig\";\nimport { WarActions } from '@kleiolab/lib-redux';\n@Injectable()\nexport class EntityPreviewSocket extends Socket {\n\n  constructor(\n    warActions: WarActions,\n    @Optional() config?: SocketsConfig\n  ) {\n\n    super({ url: config.baseUrl + '/WarEntityPreview' });\n\n    // dispatch a method to put the EntityPreview to the store\n    this.fromEvent<WarEntityPreview>('entityPreview').subscribe(data => {\n      warActions.entity_preview.loadSucceeded([data], '');\n    });\n\n  }\n}\n","import { Injectable, Optional } from '@angular/core';\nimport { Socket } from 'ngx-socket-io';\nimport { SocketsConfig } from '../models';\n@Injectable()\nexport class ImportTableSocket extends Socket {\n  connected = false;\n\n  constructor(\n    @Optional() config?: SocketsConfig\n  ) {\n\n    super({ url: config.baseUrl + '/ImportTable' });\n\n    this.connected = true;\n\n  }\n\n  cleanConnect() {\n    if (!this.connected) this.connect();\n  }\n\n  cleanDisconnect() {\n    this.disconnect();\n    this.connected = false;\n  }\n}\n","import { Injectable, Optional } from '@angular/core';\nimport { Socket } from 'ngx-socket-io';\nimport { SocketsConfig } from '../models';\n@Injectable()\nexport class SysStatusSocket extends Socket {\n\n  constructor(\n    @Optional() config?: SocketsConfig\n  ) {\n\n    super({ url: config.baseUrl + '/SysStatus' });\n\n  }\n}\n"],"names":["tslib_1.__extends"],"mappings":";;;;;;;;;;AAAA;IAAA;QACE,YAAO,GAAG,EAAE,CAAC;KACd;IAAD,oBAAC;CAAA,IAAA;;;IADC,gCAAa;;;;;;;;;;;;;;;ICK0BA,uCAAM;IAE7C,6BACE,UAAsB,EACV,MAAsB;QAFpC,YAKE,kBAAM,EAAE,GAAG,EAAE,MAAM,CAAC,OAAO,GAAG,mBAAmB,EAAE,CAAC,SAOrD;;QAJC,KAAI,CAAC,SAAS,CAAmB,eAAe,CAAC,CAAC,SAAS;;;;QAAC,UAAA,IAAI;YAC9D,UAAU,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;SACrD,EAAC,CAAC;;KAEJ;;gBAfF,UAAU;;;;gBADF,UAAU;gBADV,aAAa,uBAOjB,QAAQ;;IAWb,0BAAC;CAAA,CAfwC,MAAM;;;;;;;;ICFRA,qCAAM;IAG3C,2BACc,MAAsB;QADpC,YAIE,kBAAM,EAAE,GAAG,EAAE,MAAM,CAAC,OAAO,GAAG,cAAc,EAAE,CAAC,SAIhD;QAVD,eAAS,GAAG,KAAK,CAAC;QAQhB,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;;KAEvB;;;;IAED,wCAAY;;;IAAZ;QACE,IAAI,CAAC,IAAI,CAAC,SAAS;YAAE,IAAI,CAAC,OAAO,EAAE,CAAC;KACrC;;;;IAED,2CAAe;;;IAAf;QACE,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;KACxB;;gBArBF,UAAU;;;;gBADF,aAAa,uBAMjB,QAAQ;;IAiBb,wBAAC;CAAA,CArBsC,MAAM,GAqB5C;;;IApBC,sCAAkB;;;;;;;;;ICDiBA,mCAAM;IAEzC,yBACc,MAAsB;eAGlC,kBAAM,EAAE,GAAG,EAAE,MAAM,CAAC,OAAO,GAAG,YAAY,EAAE,CAAC;KAE9C;;gBATF,UAAU;;;;gBADF,aAAa,uBAKjB,QAAQ;;IAMb,sBAAC;CAAA,CAToC,MAAM;;;;;;;;;;;;;;;;;;;;;;"}