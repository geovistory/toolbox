{"version":3,"file":"kleiolab-lib-utils.js","sources":["ng://@kleiolab/lib-utils/lib/date-time/classes/date-time-commons.ts","ng://@kleiolab/lib-utils/lib/date-time/classes/julian-date-time.ts","ng://@kleiolab/lib-utils/lib/date-time/classes/gregorian-date-time.ts","ng://@kleiolab/lib-utils/lib/date-time/classes/time-primitive.ts","ng://@kleiolab/lib-utils/lib/date-time/pipes/time-primitive.pipe.ts","ng://@kleiolab/lib-utils/lib/date-time/classes/time-span-util.ts","ng://@kleiolab/lib-utils/lib/date-time/pipes/time-span.pipe.ts","ng://@kleiolab/lib-utils/lib/date-time/date-time.module.ts","ng://@kleiolab/lib-utils/lib/functions/util.ts"],"sourcesContent":["import { EventEmitter } from '@angular/core';\nimport { YearMonthDay } from '../interfaces';\n\nexport type Granularity =\n  '1 century' |\n  '1 decade' |\n  '1 year' |\n  '1 month' |\n  '1 day' |\n  '1 hour' |\n  '1 minute' |\n  '1 second';\n\nexport abstract class DateTimeCommons {\n\n  /**\n   * Properties\n   */\n  onDateChange: EventEmitter<YearMonthDay> = new EventEmitter();\n\n  private _year?: number;\n\n  set year(val: number) {\n    this._year = val;\n    this.emitDateChange();\n  }\n\n  get year(): number {\n    return this._year;\n  }\n\n  private _month?: number;\n\n  set month(val: number) {\n    this._month = val;\n    this.emitDateChange();\n  }\n\n  get month(): number {\n    return this._month;\n  }\n\n  private _day?: number;\n\n  set day(val: number) {\n    this._day = val;\n    this.emitDateChange();\n  }\n\n  get day(): number {\n    return this._day;\n  }\n\n  private _hours?: number;\n\n  set hours(val: number) {\n    this._hours = val;\n  }\n\n  get hours(): number {\n    return this._hours;\n  }\n\n  private _minutes?: number;\n\n  set minutes(val: number) {\n    this._minutes = val;\n  }\n\n  get minutes(): number {\n    return this._minutes;\n  }\n\n  private _seconds?: number;\n\n  set seconds(val: number) {\n    this._seconds = val;\n  }\n\n  get seconds(): number {\n    return this._seconds;\n  }\n\n\n  constructor(data?) {\n    Object.assign(this, data);\n  }\n\n  abstract lengthOfMonth(): number;\n\n  /**\n  * Returns the running day for given month and day with consideration of the\n  * isLeap boolean that indicates leap years. Inspired by:\n  * https://de.wikipedia.org/wiki/Umrechnung_zwischen_julianischem_Datum_und_julianischem_Kalender\n  *\n  * @param month 1=january .. 12=december\n  * @param day 1, 2 .. 31\n  * @param isLeap if true, this is a leap year\n  */\n  calcRunningDay(month: number, day: number, isLeap: boolean): number {\n\n    // if no month or day provided, let's start at 1\n    day = (day === undefined || day === null) ? 1 : day;\n    month = (month === undefined || month === null) ? 1 : month;\n\n    // month corrections (note that january has index 0)\n    const monthCorrenctions = [-1, 0, -2, -1, -1, 0, 0, 1, +2, +2, +3, +3];\n\n    // leap year correction\n    let lc = 0;\n\n    if (isLeap && month > 2) {\n      lc = 1;\n    }\n\n    // month correction\n    const mc = monthCorrenctions[month - 1];\n\n    return day + (30 * (month - 1)) + (lc + mc);\n  }\n\n\n  /**\n  * Returns the month and day for given running day with consideration of the\n  * isLeap boolean that indicates leap years. Inspired by:\n  * https://de.wikipedia.org/wiki/Umrechnung_zwischen_julianischem_Datum_und_julianischem_Kalender\n  *\n  * @param runningDay 1, 2 .. 365\n  * @param isLeap if true, this is a leap year\n  *\n  */\n  calcDateByRunningDay(runningDay: number, isLeap: boolean): { day: number, month: number } {\n\n    // month corrections (note that january has index 0)\n    const monthCorrenctions = [-1, 0, -2, -1, -1, 0, 0, 1, +2, +2, +3, +3];\n\n    // resulting month\n    let month = Math.floor((runningDay + 1) / 30) + 1;\n\n    // month correction\n    let mc = monthCorrenctions[month - 1];\n\n    // leap year correction\n    let lc = 0;\n\n    if (isLeap && month > 2) {\n      lc = 1;\n    }\n\n    // resulting day\n    let day = runningDay - 30 * (month - 1) - (lc + mc);\n\n    // check if month and day still valid\n    if (month > 12 || day < 1) {\n\n      month--;\n\n      if (month < 1) {\n        isLeap = !isLeap;\n      }\n\n      // leap year correction\n      lc = 0;\n\n      if (isLeap && month > 2) {\n        lc = 1;\n      }\n\n      // month correction\n      mc = monthCorrenctions[month - 1];\n\n      // resulting day\n      day = runningDay - 30 * (month - 1) - (lc + mc);\n\n    }\n\n    return { day: day, month: month };\n  }\n\n  emitDateChange() {\n    this.onDateChange.emit({\n      year: this.year,\n      month: this.month,\n      day: this.day\n    });\n  }\n\n  getGranularity(): Granularity {\n    let duration: Granularity;\n    if (this.year) { duration = '1 year' }\n    if (this.month) { duration = '1 month' }\n    if (this.day) { duration = '1 day' }\n    if (this.hours) { duration = '1 hour' }\n    if (this.minutes) { duration = '1 minute' }\n    if (this.seconds) { duration = '1 second' }\n    return duration;\n  }\n\n  getTimeStamp(): string {\n\n    let timestamp = '';\n    timestamp = this.year ? this.pad(Math.abs(this.year), 4) : '01';\n    timestamp += '-';\n    timestamp += this.month ? this.pad(this.month, 2) : '01';\n    timestamp += '-';\n    timestamp += this.day ? this.pad(this.day, 2) : '01';\n    timestamp += ' ';\n    timestamp += this.hours ? this.pad(this.hours, 2) : '00';\n    timestamp += ':';\n    timestamp += this.minutes ? this.pad(this.minutes, 2) : '00';\n    timestamp += ':';\n    timestamp += this.seconds ? this.pad(this.seconds, 2) : '00';\n\n    timestamp += this.year < 0 ? ' BC' : '';\n\n    return timestamp;\n  }\n\n  getDate(): Date | null {\n\n    // validate\n    if (!this.year && this.year !== 0) return null;\n    if (this.day && !this.month) return null;\n    if (this.hours && !this.day) return null;\n    if (this.minutes && !this.hours) return null;\n    if (this.seconds && !this.hours) return null;\n\n    // creat date\n    const date = new Date()\n\n    date.setFullYear(this.year < 0 ? this.year + 1 : this.year);\n\n    date.setMonth((this.month ? (this.month - 1) : 0));\n\n    date.setDate((this.day ? this.day : 1));\n\n    date.setHours(this.hours ? this.hours : 0)\n\n    date.setMinutes(this.minutes ? this.minutes : 0)\n\n    date.setSeconds(this.seconds ? this.seconds : 0)\n\n    return date;\n  }\n\n  pad(number: number, width: number, z: string = '0'): string {\n    const n = number.toString();\n    return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n  }\n\n\n  addYear() {\n    this.year++;\n    if (this.year === 0) this.year++;\n    if (this.day > this.lengthOfMonth()) {\n      this.day = this.lengthOfMonth()\n    }\n  }\n\n  addMonth() {\n    this.month++;\n\n\n    if (this.month > 12) {\n      this.month = 1\n      this.addYear();\n    }\n    else if (this.day > this.lengthOfMonth()) {\n      this.day = this.lengthOfMonth()\n    }\n  }\n\n  addDay() {\n    this.day++;\n    if (this.day > this.lengthOfMonth()) {\n      this.day = 1;\n      this.addMonth()\n    }\n  }\n\n  addHour() {\n    this.hours++;\n    if (this.hours > 23) {\n      this.hours = 0;\n      this.addDay()\n    }\n  }\n\n  addMinute() {\n    this.minutes++;\n    if (this.minutes > 59) {\n      this.minutes = 0;\n      this.addHour()\n    }\n  }\n\n  addSecond() {\n    this.seconds++;\n    if (this.seconds > 59) {\n      this.seconds = 0;\n      this.addMinute()\n    }\n  }\n\n\n\n\n  removeYear() {\n    this.year--;\n    if (this.year === 0) {\n      this.year = -1;\n    }\n    if (this.day > this.lengthOfMonth()) {\n      this.day = this.lengthOfMonth()\n    }\n  }\n\n  removeMonth() {\n    this.month--;\n\n    if (this.month < 1) {\n      this.month = 12;\n      this.removeYear();\n    }\n    else if (this.day > this.lengthOfMonth()) {\n      this.day = this.lengthOfMonth()\n    }\n  }\n\n  removeDay() {\n    this.day--;\n    if (this.day < 1) {\n      this.removeMonth()\n      this.day = this.lengthOfMonth();\n    }\n  }\n\n\n  removeHour() {\n    this.hours--;\n    if (this.hours < 0 || !this.hours) {\n      this.hours = 23;\n      this.removeDay()\n    }\n  }\n\n  removeMinute() {\n    this.minutes--;\n    if (this.minutes < 0 || !this.minutes) {\n      this.minutes = 59;\n      this.removeHour()\n    }\n  }\n\n  removeSecond() {\n    this.seconds--;\n    if (this.seconds < 0 || !this.seconds) {\n      this.seconds = 59;\n      this.removeMinute()\n    }\n  }\n\n\n  addDays(quantity: number) {\n    for (let i = 0; i < quantity; i++) {\n      this.addDay();\n    };\n  }\n\n  addMonths(quantity: number) {\n    for (let i = 0; i < quantity; i++) {\n      this.addMonth();\n    };\n  }\n\n  addYears(quantity: number) {\n    for (let i = 0; i < quantity; i++) {\n      this.addYear();\n    };\n  }\n\n  add(duration: Granularity) {\n    if (duration === '1 year') {\n      this.addYear()\n    }\n    else if (duration === '1 month') {\n      this.addMonth()\n    }\n    else if (duration === '1 day') {\n      this.addDay()\n    }\n    else if (duration === '1 hour') {\n      this.addHour()\n    }\n    else if (duration === '1 minute') {\n      this.addMinute()\n    }\n    else if (duration === '1 second') {\n      this.addSecond()\n    }\n  }\n\n\n\n  toLastSecondOf(duration: Granularity) {\n    this.add(duration);\n    this.removeSecond();\n  }\n\n\n}\n","import { DateTimeCommons, Granularity } from './date-time-commons';\nimport { DateTime } from '../interfaces';\n\n\n\n/**\n* Class to represent a Julian Date and Time\n* TODO: Move this class to common folder as it is needed by server and client\n*/\nexport class JulianDateTime extends DateTimeCommons implements DateTime {\n\n\n  /**\n  * Methods\n  */\n\n  getEndOf(duration: Granularity = this.getGranularity()): JulianDateTime {\n\n    const dt = new JulianDateTime(this);\n    dt.toLastSecondOf(duration);\n\n    return dt;\n  }\n\n\n  lengthOfMonth() {\n    const y = this.year;\n    let m = this.month;\n\n    // Assume not leap year by default (note zero index for Jan)\n    const daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n    // If evenly divisible by 4 and not one of the years 5 BC, 1 BC or 4 AD,\n    // when Augustus dropped the leap year\n    if (!(y % 4) && !(y == -5) && !(y == -1) && !(y == 4)) {\n      daysInMonth[1] = 29;\n    }\n    return daysInMonth[--m]\n  }\n\n\n\n  /**\n  * Convert the year, month, day of julian calendar to julian day\n  *\n  * @return  description\n  */\n  getJulianDay() {\n\n    // running day (conut of days that year)\n    const runningDay = this.calcRunningDay(this.month, this.day, this.isLeapYear());\n    let runningYear;\n    if (this.year < 0) {\n      // running year\n      runningYear = 4716 + this.year;\n    } else {\n      // running year\n      runningYear = 4715 + this.year;\n    }\n\n    // number of full 4 year cycles\n    const n4 = Math.floor(runningYear / 4)\n\n    // rest of division: number of full years of the last uncomplete 4 years cycle\n    const n1 = runningYear % 4;\n\n\n    return 1461 * n4 + 365 * (n1 - 3) + runningDay;\n  }\n\n\n  fromJulianDay(julianDay: number) {\n\n    if (typeof julianDay === 'string') {\n      julianDay = parseInt(julianDay, 10)\n    }\n\n    // number of full 4 year cycles\n    const n4 = Math.floor((julianDay + (3 * 365)) / 1461);\n\n    // number of days of the last uncomplete 4 years cycle\n    const r4 = (julianDay + (3 * 365)) % 1461;\n\n    // number of full years of the last uncomplete 4 years cycle\n    let n1 = Math.floor(r4 / 365);\n\n    // number of days in the last year\n    let dayOfYear = r4 % 365;\n\n    if (n1 === 4) {\n      n1 = 3;\n      dayOfYear = 365;\n    }\n\n    // running year\n    const runningYear = 4 * n4 + n1;\n\n    // if BC\n    if (runningYear <= 4715) {\n      // resulting year\n      this.year = runningYear - 4716;\n\n      // if AD\n    } else {\n      this.year = runningYear - 4715;\n\n    }\n\n    const monthDay = this.calcDateByRunningDay(dayOfYear, this.isLeapYear())\n\n    // resulting month\n    this.month = monthDay.month;\n\n    // resulting day\n    this.day = monthDay.day;\n\n\n    return this;\n\n  }\n\n\n  /**\n  * Returns true if given year is a leap year\n  */\n  isLeapYear(): boolean {\n\n    // Return true if evenly divisible by 4\n    return !(this.year % 4) ? true : false;\n  }\n\n\n  getJulianSecond() {\n    let seconds = this.getJulianDay() * 60 * 60 * 24; // first second of the day\n    if (this.seconds > 0) seconds = seconds + this.seconds;\n    if (this.minutes > 0) seconds = seconds + this.minutes * 60;\n    if (this.hours > 0) seconds = seconds + this.hours * 60 * 60;\n    return seconds;\n  }\n\n  /**\n   * Set this JulianDateTime from given julian second\n   * @param julianSecond julian second\n   */\n  fromJulianSecond(julianSecond) {\n\n    const secsPerDay = 60 * 60 * 24;\n\n    // number of full days\n    const julianDay = Math.floor(julianSecond / secsPerDay);\n\n    // number of seconds of the julian day\n    const secsOfDay = julianSecond % secsPerDay;\n\n    // number of ours of the day\n    this.hours = Math.floor(secsOfDay / (60 * 60))\n\n    // number of seconds of the last hour\n    const secsOfHour = this.hours % (60 * 60);\n\n    // number of ours of the day\n    this.minutes = Math.floor(secsOfHour / 60)\n\n    // secs of the last minute\n    this.seconds = this.minutes % 60;\n\n    return this.fromJulianDay(julianDay);\n\n  }\n\n\n}\n","import { DateTimeCommons, Granularity } from './date-time-commons';\nimport { DateTime } from '../interfaces';\nimport { JulianDateTime } from './julian-date-time';\n\n\n/**\n * Class to represent a Julian Date and Time\n * TODO: Move this class to common folder as it is needed by server and client\n */\nexport class GregorianDateTime extends DateTimeCommons implements DateTime {\n\n\n\n  lengthOfMonth() {\n    let y = this.year, m = this.month;\n\n    if (!(m > 0) && !(m <= 12)) {\n      return undefined;\n    }\n\n    // Assume not leap year by default (note zero index for Jan)\n    const daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n    // If evenly divisible by 4 and not evenly divisible by 100,\n    // or is evenly divisible by 400, then a leap year\n    if (this.isLeapYear()) {\n      daysInMonth[1] = 29;\n    }\n    return daysInMonth[--m];\n  }\n\n  getEndOf(duration: Granularity = this.getGranularity()): GregorianDateTime {\n\n    const dt = new GregorianDateTime(this);\n    dt.toLastSecondOf(duration);\n\n    return dt;\n  }\n\n\n  /**\n   * getJulianDay - Implemented according to this page [2018-03-12]:\n   * https://de.wikipedia.org/wiki/Umrechnung_zwischen_julianischem_Datum_und_gregorianischem_Kalender\n   *\n   * @return  description\n   */\n  getJulianDay() {\n    // running day (conut of days that year)\n    const runningDay = this.calcRunningDay(this.month, this.day, this.isLeapYear());\n\n    // running year\n    const runningYear = this.year - 1;\n\n    // julian day of year 1 AD\n    const julianDay0 = 1721426;\n\n    // number of full 400 year cycles\n    const n400 = Math.floor(runningYear / 400);\n\n    // rest of division: number of years of the last uncomplete 400 years cycle\n    const r400 = runningYear % 400;\n\n    // number of full 100 year cycles\n    const n100 = Math.floor(r400 / 100)\n\n    // rest of division: number of years of the last uncomplete 100 years cycle\n    const r100 = r400 % 100;\n\n    // number of full 4 year cycles\n    const n4 = Math.floor(r100 / 4)\n\n    // rest of division: number of full years of the last uncomplete 4 years cycle\n    const n1 = r100 % 4;\n\n    return julianDay0 + n400 * 146097 + n100 * 36524 + n4 * 1461 + n1 * 365 + runningDay;\n  }\n\n\n  fromJulianDay(julianDay: number) {\n\n    if (typeof julianDay === 'string') {\n      julianDay = parseInt(julianDay)\n    }\n\n    // julian day of year 1 AD\n    const julianDay0 = 1721426;\n\n    const firstDayOfGregorianCal = 2299161;\n\n    // conversion of julian day earlier than the introduction of\n    // the gregorian calendar October 15th of 1582 are calculated\n    // with the julian calendar algoritms\n    if (julianDay < firstDayOfGregorianCal) {\n\n      const jdt = new JulianDateTime().fromJulianDay(julianDay);\n      this.year = jdt.year;\n      this.month = jdt.month;\n      this.day = jdt.day;\n\n    }\n    else {\n\n      // number of full 400 year cycles\n      const n400 = Math.floor((julianDay - julianDay0) / 146097);\n\n      // number of days of the last uncomplete 400 years cycle\n      const r400 = (julianDay - julianDay0) % 146097;\n\n      // number of full 100 year cycles\n      let n100 = Math.floor(r400 / 36524);\n\n      // number of days of the last uncomplete 100 years cycle\n      let r100 = r400 % 36524;\n\n\n      if (n100 === 4) {\n        n100 = 3;\n        r100 = 36524;\n      }\n\n      // number of full 4 year cycles\n      const n4 = Math.floor(r100 / 1461);\n\n      // number of days of the last uncomplete 4 years cycle\n      const r4 = r100 % 1461;\n\n      // number of full years of the last uncomplete 4 years cycle\n      let n1 = Math.floor(r4 / 365);\n\n      // number of days in the last year\n      let runningDay = r4 % 365;\n\n      if (n1 === 4) {\n        n1 = 3;\n        runningDay = 365;\n      }\n\n      // running year\n      const runningYear = 400 * n400 + 100 * n100 + 4 * n4 + n1;\n\n      // resulting year\n      this.year = runningYear + 1;\n\n      const monthDay = this.calcDateByRunningDay(runningDay, this.isLeapYear())\n\n      // resulting month\n      this.month = monthDay.month;\n\n      // resulting day\n      this.day = monthDay.day;\n    }\n\n    return this;\n  }\n\n\n\n  /**\n   * Returns true if given year is a leap year\n   */\n  isLeapYear(): boolean {\n    const year = this.year;\n    // Return true if evenly divisible by 4 and not evenly divisible by 100,\n    // or is evenly divisible by 400, then a leap year\n    return ((!(year % 4) && year % 100) || !(year % 400)) ? true : false;\n  }\n\n  /**\n   * returns julian day in seconds\n   *\n   * TODO: return julian day plus time in seconds\n   */\n  getJulianSecond() {\n    let seconds = this.getJulianDay() * 60 * 60 * 24; // first second of the day\n    if (this.seconds > 0) seconds = seconds + this.seconds;\n    if (this.minutes > 0) seconds = seconds + this.minutes * 60;\n    if (this.hours > 0) seconds = seconds + this.hours * 60 * 60;\n    return seconds;\n  }\n\n  /**\n   * Set this JulianDateTime from given julian second\n   * @param julianSecond julian second\n   */\n  fromJulianSecond(julianSecond) {\n\n    const secsPerDay = 60 * 60 * 24;\n\n    // number of full days\n    const julianDay = Math.floor(julianSecond / secsPerDay);\n\n    // number of seconds of the julian day\n    const secsOfDay = julianSecond % secsPerDay;\n\n    // number of ours of the day\n    this.hours = Math.floor(secsOfDay / (60 * 60))\n\n    // number of seconds of the last hour\n    const secsOfHour = this.hours % (60 * 60);\n\n    // number of ours of the day\n    this.minutes = Math.floor(secsOfHour / 60)\n\n    // secs of the last minute\n    this.seconds = this.minutes % 60;\n\n    return this.fromJulianDay(julianDay);\n\n  }\n\n\n}\n","\nimport { Granularity } from './date-time-commons';\nimport { GregorianDateTime } from './gregorian-date-time';\nimport { JulianDateTime } from './julian-date-time';\n\nexport type CalendarType = 'gregorian' | 'julian';\n\ninterface ITimePrimitive {\n  julianDay?: number;\n  duration?: Granularity;\n  calendar?: CalendarType;\n}\n\nexport class TimePrimitive {\n\n  // Last day of the era before christ\n  readonly LAST_DAY_BC = 1721422;\n\n  julianDay: number;\n  duration: Granularity;\n  calendar: CalendarType; // the calendar initialy used by user to create time primitive\n\n  constructor(data?: ITimePrimitive) {\n    Object.assign(this, data);\n    if ((data as any).julian_day) this.julianDay = (data as any).julian_day\n  }\n\n  getGregorianDateTime(): GregorianDateTime {\n    const g = new GregorianDateTime()\n    g.fromJulianDay(this.julianDay);\n    return g;\n  }\n\n  getJulianDateTime(): JulianDateTime {\n    const j = new JulianDateTime()\n    j.fromJulianDay(this.julianDay);\n    return j;\n  }\n\n\n\n  /**\n   * Get a DateTime object according to the given calendar.\n   *\n   */\n  getDateTime(calendar: CalendarType = this.calendar): GregorianDateTime | JulianDateTime | null {\n\n    if (!calendar) return null;\n\n    if (calendar === 'gregorian') return this.getGregorianDateTime();\n\n    if (calendar === 'julian') return this.getJulianDateTime();\n  }\n\n\n  /**\n   * Get a Date object according to the given calendar.\n   *\n   */\n  getDate(calendar: CalendarType = this.calendar): Date | null {\n    return this.getDateTime(calendar).getDate();\n  }\n  /**\n   * Get a string that defines the format usable with the DatePipe,\n   * a according to the given granularity\n   */\n  getDateFormatString(granularity: Granularity): string {\n\n    if (this.julianDay <= this.LAST_DAY_BC) {\n      switch (granularity) {\n        case '1 year':\n          return 'y GG';\n        case '1 month':\n          return 'MMM, y GG';\n        case '1 day':\n          return 'MMM d, y GG';\n        case '1 hour':\n          return 'MMM d, y GG, HH';\n        case '1 minute':\n          return 'MMM d, y GG, HH:mm';\n        case '1 second':\n          return 'MMM d, y GG, HH:mm:ss';\n        default:\n          return '';\n      }\n    } else {\n      switch (granularity) {\n        case '1 year':\n          return 'y';\n        case '1 month':\n          return 'MMM, y';\n        case '1 day':\n          return 'MMM d, y';\n        case '1 hour':\n          return 'MMM d, y, HH';\n        case '1 minute':\n          return 'MMM d, y, HH:mm';\n        case '1 second':\n          return 'MMM d, y, HH:mm:ss';\n        default:\n          return '';\n      }\n    }\n  }\n\n  /**\n   * Get a display label of the current TimePrimitive.\n   */\n  getShortesDateFormatString(): string {\n\n    return this.getDateFormatString(this.duration);\n  }\n\n\n  /**\n   * Get the julian day in seconds\n   * TODO: integrate time\n  */\n  getJulianSecond(): number {\n    return this.julianDay * 60 * 60 * 24;\n  }\n\n\n  /**\n   * Get the last second of this TimePrimitive. This depends on the calendar,\n   * since the month february and leap years differ from one calendar to the other\n   *\n   */\n  getLastSecond(calendar: CalendarType = this.calendar): number | null {\n    const dt = this.getDateTime()\n    return dt.getEndOf(this.duration).getJulianSecond();\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DatePipe } from '@angular/common';\nimport { TimePrimitive } from '../classes/time-primitive';\n\n@Pipe({\n  name: 'timePrimitive'\n})\nexport class TimePrimitivePipe implements PipeTransform {\n\n  constructor(private datePipe: DatePipe) { }\n\n  transform(timePrimitive: TimePrimitive): string {\n    if (!timePrimitive) return null;\n\n    const tp = new TimePrimitive(timePrimitive)\n\n    if (!tp) return null;\n\n    const dt = tp.getDateTime();\n\n    if (!dt) return null;\n\n    // This is a hack for dataPipe, because datePipe subtracts 1 year from BC\n    // Probably to avoid the year 0\n    if (dt.year < 0) dt.year = dt.year + 1;\n\n    if (!dt.day) dt.day = 31;\n\n    const date = dt.getDate()\n\n    return this.datePipe.transform(date, tp.getShortesDateFormatString());\n\n  }\n\n}\n\n","import { InfTimePrimitive } from '@kleiolab/lib-sdk-lb3';\nimport { WarEntityPreviewTimeSpan } from '@kleiolab/lib-sdk-lb4';\nimport { TimePrimitive, CalendarType } from './time-primitive';\nexport const x: TimePrimitive = undefined\nexport interface InfTimePrimitiveWithCalendar extends InfTimePrimitive {\n  calendar: CalendarType\n}\nexport interface TimeSpanWithNumberProps {\n  // key is the dfh_pk_property, expressing what the time primitive means for the time span\n  72?: InfTimePrimitiveWithCalendar; // p82 | At some time within | outer bounds | not before â not after\n  152?: InfTimePrimitiveWithCalendar; // p82a | begin of the begin | left outer bound | not before\n  153?: InfTimePrimitiveWithCalendar; // p82b | end of the end |Â right outer bound |Â not after\n  71?: InfTimePrimitiveWithCalendar; // p81 | Ongoing throughout | inner bounds | surely from â surely to\n  150?: InfTimePrimitiveWithCalendar; // p81a | end of the begin | left inner bound | surely from\n  151?: InfTimePrimitiveWithCalendar; // p81b | begin of the end | right inner bound | surely to\n}\nexport class TimeSpanUtil {\n\n  readonly tpKeys = ['p82', 'p81', 'p82a', 'p82b', 'p81a', 'p81b']\n\n  p82?: TimePrimitive; // At some time within | outer bounds | not before â not after\n  p81?: TimePrimitive; // Ongoing throughout | inner bounds | surely from â surely to\n  p82a?: TimePrimitive; // begin of the begin | left outer bound | not before\n  p81a?: TimePrimitive; // end of the begin | left inner bound | surely from\n  p81b?: TimePrimitive; // begin of the end | right inner bound | surely to\n  p82b?: TimePrimitive; // end of the end |Â right outer bound |Â not after\n\n\n  get earliestDay() {\n\n    if (this.isEmpty()) return null;\n\n    let min = Number.POSITIVE_INFINITY;\n\n    this.tpKeys.forEach(key => {\n      if (this[key]) {\n        const current = this[key].julianDay;\n        // if this timePrimitive is earlier than min, set this as new min\n        min = current < min ? current : min;\n      }\n    })\n\n    return min;\n  }\n\n  /**\n  * get the earliest and latest TimePrimitive of given array of TimePrimitives\n  *\n  * For earliest it compares the begin of TimePrimitive duration\n  * For latest it compares the last second of TimePrimitive duration\n  *\n  * @returns object with min Date and max Date or null, if no TimePrimitive available\n  */\n  static getMinMaxTimePrimitveOfArray(tps: TimePrimitive[]) {\n\n    if (!tps || tps.length < 1) return null;\n\n    let min = tps[0];\n    let max = tps[0];\n\n    tps.forEach(tp => {\n\n      // if this timePrimitive is earlier than min, set this as new min\n      min = tp.getJulianSecond() < min.getJulianSecond() ? tp : min;\n\n      // if this timePrimitive is later than max, set this as new max\n      max = tp.getJulianSecond() > max.getJulianSecond() ? tp : max;\n      //  check if we would need the latest second here?\n      // max = tp.getLastSecond() > max.getLastSecond() ? tp : max;\n\n\n    })\n\n    return { min: min, max: max };\n  }\n\n  static fromTimeSpanDialogData(d: TimeSpanWithNumberProps = {}): TimeSpanUtil {\n    if (!d) d = {};\n    const x = {}\n    if (d['72']) x['p82'] = d['72'];\n    if (d['71']) x['p81'] = d['71'];\n    if (d['152']) x['p82a'] = d['152'];\n    if (d['150']) x['p81a'] = d['150'];\n    if (d['151']) x['p81b'] = d['151'];\n    if (d['153']) x['p82b'] = d['153'];\n    return new TimeSpanUtil(x)\n  }\n\n  constructor(data?: WarEntityPreviewTimeSpan) {\n    if (data) {\n      Object.keys(data).forEach(key => data[key] === undefined ? delete data[key] : '');\n      Object.assign(this, data);\n      this.tpKeys.forEach(key => {\n        if (this[key]) this[key] = new TimePrimitive(this[key]);\n      })\n    }\n  }\n\n\n  /**\n   * returns true if no TimePrimitive is there\n   */\n  isEmpty(): boolean {\n    return !this.isNotEmpty()\n  }\n  /**\n   * returns true if at least one TimePrimitive is there\n   */\n  isNotEmpty(): boolean {\n    if (this.p82 || this.p81 || this.p82a || this.p82b || this.p81a || this.p81b) return true\n    else return false\n  }\n\n\n  /**\n  * get the earliest and latest TimePrimitive of this TimeSpan\n  *\n  * For earliest it compares the begin of TimePrimitive duration\n  * For latest it compares the last second of TimePrimitive duration\n  *\n  * @returns object with min Date and max Date or null, if no TimePrimitive available\n  */\n  getMinMaxTimePrimitive(): { min: TimePrimitive, max: TimePrimitive } | null {\n    return TimeSpanUtil.getMinMaxTimePrimitveOfArray(this.getArrayOfTimePrimitives());\n  }\n\n  /**\n   * @returns array of TimePrimitives of this TimeSpan\n   */\n  getArrayOfTimePrimitives(): TimePrimitive[] {\n    const array = [];\n\n    this.tpKeys.forEach(key => {\n      if (this[key]) {\n        array.push(this[key]);\n      }\n    })\n\n    return array;\n  }\n\n  getPrimitivesForPreview(): { single?: TimePrimitive, begin?: TimePrimitive, end?: TimePrimitive } {\n    const single = this.p82 || this.p81;\n    const begin = this.p82a || this.p81a;\n    const end = this.p82b || this.p81b;\n    return { single, begin, end };\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { TimePrimitivePipe } from './time-primitive.pipe';\nimport { TimeSpanUtil } from '../classes/time-span-util';\n\n@Pipe({\n  name: 'timeSpan'\n})\nexport class TimeSpanPipe implements PipeTransform {\n\n  constructor(private timePrimitivePipe: TimePrimitivePipe) { }\n\n  transform(timeSpan: TimeSpanUtil): string {\n    if (!timeSpan) return null;\n\n    const ts = new TimeSpanUtil(timeSpan).getPrimitivesForPreview();\n    // nothing\n    if (!ts.single && !ts.begin && !ts.end) return '';\n\n    // only sinlge\n    if (ts.single && !(ts.begin || ts.end)) return this.getString(ts.single);\n\n    // only begin and end\n    if (ts.begin && ts.end && !ts.single) return this.getString(ts.begin) + ' â ' + this.getString(ts.end);\n\n    // only sinlge and end\n    if (ts.single && ts.end && !ts.begin) return this.getString(ts.single) + ' â ' + this.getString(ts.end);\n\n    // only begin and sinlge\n    if (ts.begin && ts.single && !ts.end) return this.getString(ts.begin) + ' â ' + this.getString(ts.single);\n\n    // all three\n    return this.getString(ts.begin) + ' â ' + this.getString(ts.end);\n  }\n  getString(t: any): string {\n    const s = this.timePrimitivePipe.transform(t);\n    return s ? s : '(?)';\n  }\n\n}\n\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TimePrimitivePipe } from './pipes/time-primitive.pipe';\nimport { TimeSpanPipe } from './pipes/time-span.pipe';\n\n@NgModule({\n  imports: [\n    CommonModule,\n  ],\n  providers: [\n    TimePrimitivePipe,\n    TimeSpanPipe\n  ],\n  declarations: [\n    TimeSpanPipe,\n    TimePrimitivePipe,\n  ],\n  exports: [\n    TimeSpanPipe,\n    TimePrimitivePipe,\n  ]\n})\nexport class DateTimeModule { }\n","import { FormArray, FormGroup } from '@angular/forms';\nimport { ProTextProperty } from '@kleiolab/lib-sdk-lb3';\n\n\nexport interface LabelGeneratorSettings {\n  // maximum number of data unit children that are taken into account for the label generator\n  // e.g.: for a AppeForLanguage it will take only label and language, when you put it to 2\n  fieldsMax?: number;\n\n  // maximum number of statements per propertyField taken into account for the label generator\n  statementsMax?: number;\n\n  // path of that element in the store. useful to attatch leaf-pe-it-view\n  path: string[];\n}/**\n * Utilities class for static functions\n */\n\nexport class U {\n\n  static obj2Arr<T>(obj: { [key: string]: T }): T[] {\n    const arr = [];\n\n    if (obj == undefined) return arr;\n\n    Object.keys(obj).forEach(key => {\n      arr.push(obj[key]);\n    });\n\n    return arr;\n  }\n\n  static objNr2Arr<T>(obj: { [key: number]: T }): T[] {\n    const arr = [];\n\n    if (obj == undefined) return arr;\n\n    Object.keys(obj).forEach(key => {\n      arr.push(obj[key]);\n    });\n\n    return arr;\n  }\n\n  /**\n   * converts object to array with {key: value} objects, e.g.:\n   * {'a': 12, 'b': 99} --> [{key: 'a', value: 12, key: 'b', value: 99}]\n   *\n   * @param obj\n   */\n  static obj2KeyValueArr<T>(obj: { [key: string]: T }): { key: string, value: T }[] {\n    const keys = [];\n    for (const key in obj) {\n      if (obj[key]) {\n        keys.push({ key: key, value: obj[key] });\n      }\n    }\n    return keys;\n  }\n\n\n\n  static firstProTextPropStringOfType(textProperties: ProTextProperty[], fkSystemType): string {\n    return (textProperties.find(t => t.fk_system_type === fkSystemType) || { string: '' }).string\n  }\n\n  /**\n  * Erzeugt eine UUID nach RFC 4122\n  */\n  static uuid(): string {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (char) => {\n      const random = Math.random() * 16 | 0; // Nachkommastellen abschneiden\n      const value = char === 'x' ? random : (random % 4 + 8); // Bei x Random 0-15 (0-F), bei y Random 0-3 + 8 = 8-11 (8-b) gemÃ¤ss RFC 4122\n      return value.toString(16); // Hexadezimales Zeichen zurÃ¼ckgeben\n    });\n  }\n\n\n\n  static recursiveMarkAsTouched = (f: FormArray | FormGroup) => {\n\n    if (f.controls) {\n      if (Array.isArray(f.controls)) {\n        // in this case it is a formArray\n        f.controls.forEach((c: FormArray) => {\n          c.markAsTouched()\n          if (c.controls) U.recursiveMarkAsTouched(c)\n        })\n      }\n      else {\n        // in this case it is a formGroup\n        if (f.controls['childControl']) {\n          const c = f.controls['childControl'] as FormArray;\n          c.markAsTouched()\n          if (c.controls) U.recursiveMarkAsTouched(c)\n\n        }\n      }\n    }\n  }\n\n  static propertyFieldKeyFromParams(fkProp: number, isOutgoing: boolean) {\n    return '_' + fkProp + '_' + (isOutgoing ? 'outgoing' : 'ingoing')\n  }\n\n\n  /**\n   * Helper function that converts given number to string\n   * but zero (=0) values return undefined.\n   */\n  static toStr0undef(val: number): string | undefined {\n    if (val === 0) return undefined\n    else if (val === undefined) return undefined\n    else if (val === null) return undefined\n    else return val.toString();\n  }\n  /**\n   * Helper function that converts given array to string\n   *\n   * If array contains 0, null or undefined, return underfined\n   */\n  static toStrContains0undef(vals: (number | boolean | string | object)[]): string | undefined {\n    let string = '';\n    for (let i = 0; i < vals.length; i++) {\n      const val = vals[i];\n\n      if (val === 0) return undefined;\n      else if (val === undefined) return undefined;\n      else if (val === null) return undefined\n      else if (i === 0) {\n        string = val.toString()\n      } else {\n        string = `${string}_${val.toString()}`\n      }\n    }\n\n    return string;\n  }\n}\n"],"names":["tslib_1.__extends"],"mappings":"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"}