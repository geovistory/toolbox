!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("rxjs"),require("rxjs/operators"),require("ramda"),require("rxjs-spy/operators")):"function"==typeof define&&define.amd?define("@kleiolab/lib-utils/src/lib/functions",["exports","rxjs","rxjs/operators","ramda","rxjs-spy/operators"],n):n(((r=r||self).kleiolab=r.kleiolab||{},r.kleiolab["lib-utils"]=r.kleiolab["lib-utils"]||{},r.kleiolab["lib-utils"].src=r.kleiolab["lib-utils"].src||{},r.kleiolab["lib-utils"].src.lib=r.kleiolab["lib-utils"].src.lib||{},r.kleiolab["lib-utils"].src.lib.functions={}),r.rxjs,r.rxjs.operators,r.ramda,r.operators$1)}(this,(function(r,n,t,e,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function i(r,n){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var e,o,i=t.call(r),u=[];try{for(;(void 0===n||n-- >0)&&!(e=i.next()).done;)u.push(e.value)}catch(r){o={error:r}}finally{try{e&&!e.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u}function u(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(i(arguments[n]));return r}var c=function(){function r(){}return r.obj2Arr=function(r){var n=[];return null==r?n:(Object.keys(r).forEach((function(t){n.push(r[t])})),n)},r.objNr2Arr=function(r){var n=[];return null==r?n:(Object.keys(r).forEach((function(t){n.push(r[t])})),n)},r.obj2KeyValueArr=function(r){var n=[];for(var t in r)r[t]&&n.push({key:t,value:r[t]});return n},r.firstProTextPropStringOfType=function(r,n){return(r.find((function(r){return r.fk_system_type===n}))||{string:""}).string},r.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(r){var n=16*Math.random()|0;return("x"===r?n:n%4+8).toString(16)}))},r.propertyFieldKeyFromParams=function(r,n){return"_"+r+"_"+(n?"outgoing":"ingoing")},r.toStr0undef=function(r){return 0===r?void 0:void 0===r?void 0:null===r?void 0:r.toString()},r.toStrContains0undef=function(r){for(var n="",t=0;t<r.length;t++){var e=r[t];if(0===e)return;if(void 0===e)return;if(null===e)return;n=0===t?e.toString():n+"_"+e.toString()}return n},r.recursiveMarkAsTouched=function(n){if(n.controls)if(Array.isArray(n.controls))n.controls.forEach((function(n){n.markAsTouched(),n.controls&&r.recursiveMarkAsTouched(n)}));else if(n.controls.childControl){var t=n.controls.childControl;t.markAsTouched(),t.controls&&r.recursiveMarkAsTouched(t)}},r}();r.U=c,r.combineLatestOrEmpty=function(r){return r=u([n.of(null)],r),n.combineLatest(r).pipe(t.map((function(r){return r.shift(),r})))},r.debugCombineLatestOrEmpty=function(r,e){void 0===e&&(e=500);var o=new n.Subject,i=[];return setTimeout((function(){o.next(),console.log("> Report"),console.log("  "+i.map((function(r,n){return n+" "+r})).join("\n"))}),e),r.forEach((function(r,n){i.push("> No value emitted"),r.pipe(t.first(),t.takeUntil(o)).subscribe((function(r){i[n]="Ok"}))})),r=u([n.of(null)],r),n.combineLatest(r).pipe(t.map((function(r){return r.shift(),r})))},r.getSpecificVersion=function(r,n){return e.values(r).find((function(r){return r.entity_version===n}))},r.latestEntityVersion=function(r){return n.pipe(t.map((function(n){return n[r]})),t.filter((function(r){return r&&void 0!==r._latestVersion})),t.map((function(r){return r[r._latestVersion]})))},r.latestEntityVersions=function(){return n.pipe(t.map((function(r){return c.objNr2Arr(r)})),t.map((function(r){return r.map((function(r){return r[r._latestVersion]}))})))},r.latestVersion=function(r){var n,t=0;return e.values(r).forEach((function(r){r.entity_version>t&&(t=r.entity_version,n=r)})),n},r.limitOffset=function(r,n){return t.map((function(t){if(!r)return t;var e=r*(n=n||0),o=e+r;return t.slice(e,o)}))},r.limitTo=function(r){return t.map((function(n){return r?n.slice(0,r):n}))},r.mapConcat=function(r){return t.map((function(n){if("function"!=typeof r)throw new TypeError("argument is not a function.");var t=[];return n.forEach((function(n){n&&(t=e.concat(t,r(n)))})),t}))},r.sortAbc=function(r){return t.map((function(n){return e.sort((function(n,t){var e=r(n),o=r(t);return e?o?(e=e.toUpperCase())<(o=o.toUpperCase())?-1:e>o?1:0:1:-1}),n)}))},r.switchMapOr=function(r,e,i){return function(u){return i=i||function(r){return!r||Object.keys(r).length<1},u.pipe(t.switchMap((function(t){return n.iif((function(){return i(t)}),n.of(r),e(t))})),o.tag("switchMapOr"))}},Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=kleiolab-lib-utils-src-lib-functions.umd.min.js.map