<div [ngClass]="{'dev-view': entityEditor.devView}">
  <span *ngIf="entityEditor.devView">
    [state: {{peItEntityState}}]
  </span>


  <!-- View State -->

  <div *ngIf="peItEntityState === 'view' && !loading">

    <h5 class="mt-2 mb-4">
      {{mostPopularAppeString}} {{stdAppeString}}
      <small class="text-muted">{{dfhClass?.dfh_standard_label}}</small>
    </h5>

    <!-- <gv-pe-it-role-set-list [RoleSetListState]="'view'" [parentPeIt]="peIt" [roles]="peIt?.pi_roles" [outgoingProperties]="outgoingProperties"
      [ingoingProperties]="ingoingProperties" (appeChange)="whenAppeChange($event)"></gv-pe-it-role-set-list> -->

  </div>


  <!-- Create State -->

  <div *ngIf="peItEntityState === 'create'">

    <span *ngIf="entityEditor.devView">
      [ready: {{isReadyToCreate}}]
    </span>
    <!-- 
    <gv-pe-it-role-set-list [RoleSetListState]="'create'" [parentPeIt]="peItToCreate" [outgoingProperties]="outgoingProperties"
      [ingoingProperties]="ingoingProperties" (readyToCreate)="emitReadyToCreate($event)" (notReadyToCreate)="emitNotReadyToCreate()"></gv-pe-it-role-set-list> -->


  </div>

  <!-- Add State -->

  <div *ngIf="peItEntityState === 'add-pe-it' && !loading">

    <h5 class="mt-2 mb-4">
      {{mostPopularAppeString}}
    </h5>
    <!-- 
    <gv-pe-it-role-set-list [roles]="peIt.pi_roles" [RoleSetListState]="peItEntityState" [parentPeIt]="peIt" [outgoingProperties]="outgoingProperties"
      [ingoingProperties]="ingoingProperties" (readyToCreate)="emitReadyToCreate($event)" (notReadyToCreate)="emitNotReadyToCreate()"
      (readyToAdd)="onRolesReadyToAdd($event)" (notReadyToAdd)="onRolesNotReadyToAdd()" (appeChange)="whenAppeChange($event)"></gv-pe-it-role-set-list>
 -->

  </div>


  <!-- Edit and ViewCommunity States  -->

  <div *ngIf="(peItEntityState$ |Â async) === 'edit'">

    <!-- Title / Standard Appellations of PeIt -->

    <div class="gv-edit-panel-header">
      <section class="row">
        <div class="col-md-8">
          <h2>
            {{stdAppeString}}
            <small class="text-muted">{{dfhClass?.dfh_standard_label}}</small>
          </h2>
        </div>
        <span *ngIf="entityEditor.devView">
          [pk: {{peIt?.pk_entity}}]
        </span>
        <gv-entity-editor-settings class="col-md-4 text-right"></gv-entity-editor-settings>


      </section>
    </div>

    <!-- Tools to edit PeIt  -->

    <div class="d-flex flex-row gv-flex-grow-1 m-3" style="flex-basis:100%">
      <div class="d-flex gv-flex-grow-1" style="flex-basis:35%">
        <gv-pe-it-role-set-list class="gv-flex-grow-1 d-flex flex-row" [parentPath]="basePath" (appeChange)="whenAppeChange($event)"></gv-pe-it-role-set-list>
      </div>

      <div class="d-flex ml-3" style="flex-basis:65%; overflow:hidden">
        <div class="d-flex flex-column gv-flex-grow-1" style="overflow:hidden">

          <div class="btn-group d-flex mb-3" role="group" aria-label="Basic example">
            <div class="gv-flex-grow-1 bg-gray-700 text-white rounded-left gv-card-spacer-x align-self-stretch d-flex">
              <div class="align-self-center">
                <i class="fa fa-compass"></i> Map
              </div>
            </div>
            <button class="btn btn-gray-700">
              <i class="fa fa-ellipsis-v"></i>
            </button>
          </div>

          <div class="card gv-flex-grow-1 mb-3">
            <div class="card-body">


            </div>
          </div>

          <!-- <gv-pe-it-timeline [peIt]="peIt"></gv-pe-it-timeline> -->

        </div>
      </div>
    </div>
  </div>
</div>